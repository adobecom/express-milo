{"version":3,"file":"acp-upload.min.es.js","sources":["../src/types.ts","../node_modules/@dcx/error/build/esm/index.js","../node_modules/@dcx/util/build/esm/index.js","../node_modules/@dcx/logger/build/esm/index.js","../node_modules/@dcx/promise/build/esm/index.js","../node_modules/@opentelemetry/api/build/esm/platform/browser/globalThis.js","../node_modules/@opentelemetry/api/build/esm/version.js","../node_modules/@opentelemetry/api/build/esm/internal/semver.js","../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js","../node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js","../node_modules/@opentelemetry/api/build/esm/diag/types.js","../node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js","../node_modules/@opentelemetry/api/build/esm/api/diag.js","../node_modules/@opentelemetry/api/build/esm/baggage/internal/baggage-impl.js","../node_modules/@opentelemetry/api/build/esm/baggage/utils.js","../node_modules/@opentelemetry/api/build/esm/context/context.js","../node_modules/@opentelemetry/api/build/esm/metrics/NoopMeter.js","../node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js","../node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js","../node_modules/@opentelemetry/api/build/esm/api/context.js","../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js","../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js","../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js","../node_modules/@opentelemetry/api/build/esm/trace/context-utils.js","../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js","../node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js","../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js","../node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js","../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js","../node_modules/@opentelemetry/api/build/esm/trace/status.js","../node_modules/@opentelemetry/api/build/esm/context-api.js","../node_modules/@opentelemetry/api/build/esm/diag-api.js","../node_modules/@opentelemetry/api/build/esm/metrics/NoopMeterProvider.js","../node_modules/@opentelemetry/api/build/esm/api/metrics.js","../node_modules/@opentelemetry/api/build/esm/metrics-api.js","../node_modules/@opentelemetry/api/build/esm/propagation/NoopTextMapPropagator.js","../node_modules/@opentelemetry/api/build/esm/baggage/context-helpers.js","../node_modules/@opentelemetry/api/build/esm/api/propagation.js","../node_modules/@opentelemetry/api/build/esm/propagation-api.js","../node_modules/@opentelemetry/api/build/esm/api/trace.js","../node_modules/@opentelemetry/api/build/esm/trace-api.js","../node_modules/@opentelemetry/api/build/esm/index.js","../node_modules/@dcx/telemetry/build/esm/index.js","../node_modules/@dcx/assets/build/esm/index.js","../node_modules/@dcx/repo-api-session/build/esm/index.js","../src/consts.ts","../node_modules/@dcx/http/build/esm/index.js","../src/events.ts","../src/upload-service/UploadService.ts","../src/upload-service/index.ts"],"sourcesContent":["import type { \n  AdobeAsset, \n  UploadProgressCallback,\n  RepoMetaPatch,\n  ResourceDesignator\n} from '@dcx/common-types';\n\n/**\n * Type of authentication token being used\n */\nexport type TokenType = 'guest' | 'user';\n\n/**\n * Configuration for the UploadService\n */\nexport interface UploadServiceConfig {\n  /** Authentication configuration */\n  authConfig: AuthConfig;\n  /** Repository endpoint URL */\n  endpoint: string;\n  /** Repository ID (required for normal token uploads) */\n  repositoryId?: string;\n  /** Base path for guest uploads (optional) */\n  basePath?: string;\n}\n\n/**\n * Options for uploading an asset\n */\nexport interface UploadOptions {\n  /** File to upload */\n  file: File | Blob | ArrayBuffer;\n  /** File name */\n  fileName: string;\n  /** Content type of the file */\n  contentType: string;\n  /** Relative path where to upload the file */\n  path?: string;\n  /** Whether to create intermediate directories */\n  createIntermediates?: boolean;\n  /** Progress callback for upload monitoring - uses upload-specific callback */\n  onProgress?: UploadProgressCallback;\n  /** Additional headers to include in the request */\n  additionalHeaders?: Record<string, string>;\n  /** Repository metadata patch */\n  repoMetaPatch?: RepoMetaPatch;\n  /** Resource designator for response */\n  resourceDesignator?: ResourceDesignator;\n}\n\n/**\n * Result of an upload operation\n */\nexport interface UploadResult {\n  /** The uploaded asset */\n  asset: AdobeAsset;\n  /** actual URL generated by DCX for the uploaded asset*/\n  readablePreSignedUrl?: string;\n  /** base64 encoded pre-signed URL so that it can be passed via URL params */\n  shareablePreSignedUrl?: string;\n}\n\n/**\n * Result of pre-signed URL generation\n */\nexport interface PreSignedUrlResult {\n  /** The pre-signed URL for downloading */\n  url: string;\n  /** Whether this is a pre-signed URL or direct link */\n  isPresignedUrl: boolean;\n  /** Expiration time for the URL (if applicable) */\n  expiresAt?: Date;\n  /** Additional metadata */\n  metadata?: Record<string, any>;\n}\n\n/**\n * Options for generating pre-signed URLs\n */\nexport interface PreSignedUrlOptions {\n  /** Asset to generate URL for */\n  asset: AdobeAsset;\n  /** Component ID (for composite assets) */\n  componentId?: string;\n  /** Component revision (for composite assets) */\n  componentRevision?: string;\n  /** Component size (helps determine if pre-signed URL is needed) */\n  componentSize?: number;\n  /** Additional headers */\n  additionalHeaders?: Record<string, string>;\n}\n\n/**\n * Authentication configuration\n */\nexport interface AuthConfig {\n  /** Authentication token */\n  token: string;\n  /** API key */\n  apiKey?: string;\n  /** Token type */\n  tokenType: TokenType;\n} \n\n/**\n * Status of the upload\n */\nexport enum UploadStatus {\n  /** Upload has not started */\n  IDLE = 'idle',\n  /** Upload is in progress */  \n  UPLOADING = 'uploading',\n  /** Upload is complete */\n  COMPLETED = 'completed',\n  /** Upload failed */\n  FAILED = 'failed'\n}\n\n/**\n * Payload for upload event status\n */ \nexport type UploadEventStatusPayload = {\n  /** Status of the upload */\n  status: UploadStatus;\n  /** Error message if upload failed */\n  errorMessage?: string;\n}","var e;!function(e){e.ACCESS_DENIED=\"http://ns.adobe.com/adobecloud/problem/accessdenied\",e.ASSET_LOCKED=\"http://ns.adobe.com/adobecloud/problem/assetlocked\",e.ASSET_MOVED=\"http://ns.adobe.com/adobecloud/problem/assetmoved\",e.ASSET_NAME_CONFLICT=\"http://ns.adobe.com/adobecloud/problem/assetnameconflict\",e.ASSET_NAME_INVALID=\"http://ns.adobe.com/adobecloud/problem/assetnamenotvalid\",e.ASSET_NOT_FOUND=\"http://ns.adobe.com/adobecloud/problem/assetnotfound\",e.ASSET_STATE_NOT_ALLOWED=\"http://ns.adobe.com/adobecloud/problem/assetstatenotallowed\",e.BAD_REQUEST=\"http://ns.adobe.com/adobecloud/problem/badrequest\",e.BULK_REQUEST_NOT_ATTEMPTED=\"http://ns.adobe.com/adobecloud/problem/bulkrequestnotattempted\",e.COMPOSITE_INTEGRITY=\"http://ns.adobe.com/adobecloud/problem/compositeintegrity\",e.DCX_VALIDATION=\"http://ns.adobe.com/adobecloud/problem/dcxvalidation\",e.DIRECTORY_NOT_EMPTY=\"http://ns.adobe.com/adobecloud/problem/directorynotempty\",e.EMBED_INVALID=\"http://ns.adobe.com/adobecloud/problem/embedinvalid\",e.EMBED_TOO_LARGE=\"http://ns.adobe.com/adobecloud/problem/embedtoolarge\",e.ENCRYPTION_KEY_INACCESSIBLE=\"http://ns.adobe.com/adobecloud/problem/encryptionkeyinaccessible\",e.INVALID_FRAGMENT=\"http://ns.adobe.com/adobecloud/problem/invalidfragment\",e.LIMIT_CHILDREN_COUNT=\"http://ns.adobe.com/adobecloud/problem/limit/childrencount\",e.LIMIT_COMPONENT_COUNT=\"http://ns.adobe.com/adobecloud/problem/limit/componentcount\",e.LIMIT_EMBED_SELECTOR_COUNT=\"http://ns.adobe.com/adobecloud/problem/limit/embedspecifierselectorcount\",e.LIMIT_MILESTONE_COUNT=\"http://ns.adobe.com/adobecloud/problem/limit/milestonecount\",e.LIMIT_MILESTONE_LABEL_LENGTH=\"http://ns.adobe.com/adobecloud/problem/limit/milestonelabellength\",e.LIMIT_NAME_LENGTH=\"http://ns.adobe.com/adobecloud/problem/limit/namelength\",e.LIMIT_OPERATION_COUNT=\"http://ns.adobe.com/adobecloud/problem/limit/operationcount\",e.LIMIT_PATH_SEGMENT_COUNT=\"http://ns.adobe.com/adobecloud/problem/limit/pathsegmentcount\",e.LIMIT_RESOURCE_COUNT=\"http://ns.adobe.com/adobecloud/problem/limit/resourcecount\",e.LIMIT_RESOURCE_SIZE=\"http://ns.adobe.com/adobecloud/problem/limit/resourcesize\",e.NOT_ENTITLED=\"http://ns.adobe.com/adobecloud/problem/notentitled\",e.OPERATION_FAILED=\"http://ns.adobe.com/adobecloud/problem/operationfailed\",e.OPERATION_TARGET_CONFLICT=\"http://ns.adobe.com/adobecloud/problem/operation/targetconflict\",e.QUOTA_EXCEEDED=\"http://ns.adobe.com/adobecloud/problem/quotaexceeded\",e.REPOSITORY_NOT_FOUND=\"http://ns.adobe.com/adobecloud/problem/repositorynotfound\",e.RESOURCE_BLOCKED=\"http://ns.adobe.com/adobecloud/problem/resourceblocked\",e.RESOURCE_NOT_ALLOWED=\"http://ns.adobe.com/adobecloud/problem/resourcenotallowed\",e.RESOURCE_NOT_FOUND=\"http://ns.adobe.com/adobecloud/problem/resourcenotfound\",e.RESOURCE_NOT_READY=\"http://ns.adobe.com/adobecloud/problem/resourcenotready\",e.RESPONSE_TOO_LARGE=\"http://ns.adobe.com/adobecloud/problem/responsetoolarge\",e.USER_BLOCKED=\"http://ns.adobe.com/adobecloud/problem/userblocked\",e.VERSION_NOT_FOUND=\"http://ns.adobe.com/adobecloud/problem/versionnotfound\",e.PARTIAL_ASSET=\"http://ns.adobe.com/adobecloud/problem/partialasset\"}(e||(e={}));const E={ASSET_MOVED:\"ASSET_MOVED\",INVALID_JSON:\"INVALID_JSON\",READ_ONLY:\"READ_ONLY\",INVALID_PARAMS:\"\",INVALID_LINKS:\"INVALID_LINKS\",PRECONDITION_FAILED:\"PRECONDITION_FAILED\",INVALID_DATA:\"INVALID_DATA\",DUPLICATE_VALUE:\"DUPLICATE_VALUE\",NO_BASE_BRANCH_DATA:\"NO_BASE_BRANCH_DATA\",INVALID_STATE:\"INVALID_STATE\",DELETED_COMPOSITE:\"DELETED_COMPOSITE\",INCOMPLETE_COMPOSITE:\"INCOMPLETE_COMPOSITE\",UNEXPECTED_RESPONSE:\"UNEXPECTED_RESPONSE\",NETWORK_ERROR:\"NETWORK_ERROR\",COMPONENT_DOWNLOAD_ERROR:\"COMPONENT_DOWNLOAD_ERROR\",COMPONENT_UPLOAD_ERROR:\"COMPONENT_UPLOAD_ERROR\",COMPONENT_MODIFIED_ERROR:\"COMPONENT_MODIFIED_ERROR\",UPDATE_CONFLICT:\"UPDATE_CONFLICT\",NO_COMPOSITE:\"NO_COMPOSITE\",ALREADY_EXISTS:\"ALREADY_EXISTS\",SERVICE_IS_INACTIVE:\"SERVICE_IS_INACTIVE\",EXCEEDS_QUOTA:\"EXCEEDS_QUOTA\",NOT_IMPLEMENTED:\"NOT_IMPLEMENTED\",RETRYABLE_SERVER_ERROR:\"RETRYABLE_SERVER_ERROR\",TIMED_OUT:\"TIMED_OUT\",UNEXPECTED:\"UNEXPECTED\",TERMINATED_INPUTSTREAM:\"TERMINATED_INPUTSTREAM\",WRONG_ENDPOINT:\"WRONG_ENDPOINT\",OUT_OF_SPACE:\"ENOSPC\",FILE_EXISTS_IN_CLOUD:\"FILE_EXISTS_IN_CLOUD\",ASSET_NOT_FOUND:\"ASSET_NOT_FOUND\",COMPOSITE_NOT_FOUND:\"COMPOSITE_NOT_FOUND\",NOT_FOUND:\"NOT_FOUND\",UNAUTHORIZED:\"UNAUTHORIZED\",FORBIDDEN:\"FORBIDDEN\",METHOD_NOT_ALLOWED:\"METHOD_NOT_ALLOWED\",NOT_ACCEPTABLE:\"NOT_ACCEPTABLE\",BANDWIDTH_LIMIT_EXCEEDED:\"BANDWIDTH_LIMIT_EXCEEDED\",ABORTED:\"ABORTED\",TOO_MANY_REDIRECTS:\"TOO_MANY_REDIRECTS\",INSECURE_REDIRECT:\"INSECURE_REDIRECT\",RESOURCE_NOT_READY:\"RESOURCE_NOT_READY\",ASSET_LOCKED:\"ASSET_LOCKED\"},o={[E.SERVICE_IS_INACTIVE]:!0,[E.ABORTED]:!0,[E.INSECURE_REDIRECT]:!0,[E.TOO_MANY_REDIRECTS]:!0,[E.NOT_IMPLEMENTED]:!0,[E.EXCEEDS_QUOTA]:!0,[E.RETRYABLE_SERVER_ERROR]:!0,[E.TIMED_OUT]:!0,[E.TERMINATED_INPUTSTREAM]:!0,[E.WRONG_ENDPOINT]:!0,[E.OUT_OF_SPACE]:!0,[E.INVALID_PARAMS]:!0,[E.INVALID_STATE]:!0};class t extends Error{constructor(e,E,o,O,_){var s;if(super(),this.code=e,this.name=\"AdobeDCXError\",this._additionalData={},\"application/problem+json\"===(null===(s=null==O?void 0:O.headers)||void 0===s?void 0:s[\"content-type\"])&&O.response&&\"object\"==typeof O.response&&\"function\"==typeof O.response.slice)try{const e=JSON.parse(new TextDecoder(\"utf-8\").decode(O.response));O.response=e}catch(e){const E=O.response;O.response={originalBody:E,message:\"Failed to parse JSON problem type response body.\",parseError:e}}if(o instanceof Error&&(this._underlyingError=o),this._response=O||(T(o)?o.response:void 0),this._additionalData=_,this._message=E,this.message=\"\"+(\"string\"==typeof e&&\"\"!==e?\"[\"+e+\"] \":\"\")+(this._message||\"\"),Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace)Error.captureStackTrace(this,t);else try{const e=new Error;if(e.name=this.name,e.stack){const E=e.stack.split(\"\\n\");E.length>0&&E.splice(1,1),this.stack=E.join(\"\\n\")}}catch(e){}}get response(){return this._response}get problemType(){var e;if(\"application/problem+json\"===(null===(e=this._response)||void 0===e?void 0:e.headers[\"content-type\"]))return this._response.response.type}get underlyingError(){return this._underlyingError}get additionalData(){return this._additionalData}set additionalData(e){this._additionalData=e}get failedComponents(){return this._additionalData.failedComponents}static wrapError(O,_,T,s){var r,N,d,n;if(T&&o[T.code])return T;if(s&&\"object\"==typeof s){const o=s.statusCode,a=403===o&&(\"403.1\"===(null===(d=null===(N=null===(r=s.response)||void 0===r?void 0:r.message)||void 0===N?void 0:N.match(/code=(\\d+.\\d+)/))||void 0===d?void 0:d[1])||(null===(n=s.response)||void 0===n?void 0:n.type)===e.QUOTA_EXCEEDED);if(o>=500&&o<600||a)501===o?(O=E.NOT_IMPLEMENTED,_=\"Unimplemented request\"):507===o||a?(O=E.EXCEEDS_QUOTA,_=\"Quota exceeded\"):(O=E.RETRYABLE_SERVER_ERROR,_=\"Server error\");else if(T instanceof t&&O===T.code&&T.code===this.UNEXPECTED_RESPONSE)return T}return new t(O,_,T,s)}toString(){return`${this.name}: ${this.message}`}static networkError(e,o,O){return t.wrapError(E.NETWORK_ERROR,e,o,O)}static unexpectedResponse(e,o,O){return t.wrapError(E.UNEXPECTED_RESPONSE,e,o,O)}}function O(e,E,o){return t.networkError(e,E,o)}function _(e,E,o){return t.unexpectedResponse(e,E,o)}function T(e){return!(!e||\"object\"!=typeof e)&&\"AdobeDCXError\"===e.name}function s(e){const E=Array.isArray(e.response)?e.response.reduce(((e,E)=>e||E.error),void 0):e.response.error;if(!E)return e;const o=a(e.statusCode,e);if(o instanceof t)throw o;const O=d(E,e);if(O)throw O;throw new t(E.type||t.UNEXPECTED_RESPONSE,E.title||\"Unexpected Error\",E,e)}t.ABORTED=E.ABORTED,t.INSECURE_REDIRECT=E.INSECURE_REDIRECT,t.TOO_MANY_REDIRECTS=E.TOO_MANY_REDIRECTS,t.INVALID_JSON=E.INVALID_JSON,t.READ_ONLY=E.READ_ONLY,t.INVALID_PARAMS=E.INVALID_PARAMS,t.INVALID_DATA=E.INVALID_DATA,t.DUPLICATE_VALUE=E.DUPLICATE_VALUE,t.NO_BASE_BRANCH_DATA=E.NO_BASE_BRANCH_DATA,t.INVALID_STATE=E.INVALID_STATE,t.DELETED_COMPOSITE=E.DELETED_COMPOSITE,t.INCOMPLETE_COMPOSITE=E.INCOMPLETE_COMPOSITE,t.UNEXPECTED_RESPONSE=E.UNEXPECTED_RESPONSE,t.NETWORK_ERROR=E.NETWORK_ERROR,t.COMPONENT_DOWNLOAD_ERROR=E.COMPONENT_DOWNLOAD_ERROR,t.COMPONENT_UPLOAD_ERROR=E.COMPONENT_UPLOAD_ERROR,t.COMPONENT_MODIFIED_ERROR=E.COMPONENT_MODIFIED_ERROR,t.UPDATE_CONFLICT=E.UPDATE_CONFLICT,t.NO_COMPOSITE=E.NO_COMPOSITE,t.ALREADY_EXISTS=E.ALREADY_EXISTS,t.SERVICE_IS_INACTIVE=E.SERVICE_IS_INACTIVE,t.EXCEEDS_QUOTA=E.EXCEEDS_QUOTA,t.NOT_IMPLEMENTED=E.NOT_IMPLEMENTED,t.RETRYABLE_SERVER_ERROR=E.RETRYABLE_SERVER_ERROR,t.TIMED_OUT=E.TIMED_OUT,t.UNEXPECTED=E.UNEXPECTED,t.TERMINATED_INPUTSTREAM=E.TERMINATED_INPUTSTREAM,t.WRONG_ENDPOINT=E.WRONG_ENDPOINT,t.OUT_OF_SPACE=E.OUT_OF_SPACE,t.FILE_EXISTS_IN_CLOUD=E.FILE_EXISTS_IN_CLOUD,t.ASSET_NOT_FOUND=E.ASSET_NOT_FOUND,t.COMPOSITE_NOT_FOUND=E.COMPOSITE_NOT_FOUND,t.NOT_FOUND=E.NOT_FOUND,t.UNAUTHORIZED=E.UNAUTHORIZED,t.FORBIDDEN=E.FORBIDDEN,t.PRECONDITION_FAILED=E.PRECONDITION_FAILED,t.RESOURCE_NOT_READY=E.RESOURCE_NOT_READY,t.ASSET_LOCKED=E.ASSET_LOCKED;const r=new Map([[400,{code:E.UNEXPECTED_RESPONSE,message:\"Bad request\"}],[401,{code:E.UNAUTHORIZED,message:\"Unauthorized\"}],[403,{code:E.FORBIDDEN,message:\"Forbidden\"}],[404,{code:E.NOT_FOUND,message:\"Not found\"}],[405,{code:E.METHOD_NOT_ALLOWED,message:\"The user is authorized to act on this resource, but cannot use the specified method.\"}],[406,{code:E.NOT_ACCEPTABLE,message:\"Unable to obtain resource in a content type matching the Accept header or rendition type parameter.\"}],[409,{code:E.ALREADY_EXISTS,message:\"Already exists\"}],[412,{code:E.PRECONDITION_FAILED,message:\"Precondition failed\"}],[501,{code:E.NOT_IMPLEMENTED,message:\"Not implemented\"}],[507,{code:E.EXCEEDS_QUOTA,message:\"Exceeds quota\"}],[509,{code:E.BANDWIDTH_LIMIT_EXCEEDED,message:\"Bandwidth limit exceeded\"}]]),N=new Map(Object.entries({[e.ASSET_MOVED]:{code:E.ASSET_MOVED,message:\"Asset moved to a different region while operation was in progress\"},[e.COMPOSITE_INTEGRITY]:{code:E.INCOMPLETE_COMPOSITE,message:\"Incomplete composite. invoke missingComponentsFromError with this error for more information.\"},[e.PARTIAL_ASSET]:{code:E.NO_COMPOSITE,message:\"Asset is partially created. No Manifest found\"},[e.LIMIT_RESOURCE_COUNT]:{code:E.UNEXPECTED_RESPONSE,message:\"Resource count limit exceed\"},[e.QUOTA_EXCEEDED]:{code:E.EXCEEDS_QUOTA,message:\"Quota exceeded\"},[e.ASSET_LOCKED]:{code:E.ASSET_LOCKED,message:\"Asset is locked and cannot be modified\"}})),d=(e,E)=>{var o;const O=N.get(null!==(o=e.type)&&void 0!==o?o:\"\")||(\"number\"==typeof e.status?r.get(e.status):void 0);return O?new t(O.code,O.message,e,E):void 0},n=e=>{var E,o;const O=N.get(null!==(o=null===(E=e.response)||void 0===E?void 0:E.type)&&void 0!==o?o:\"\")||r.get(e.statusCode);return O?new t(O.code,O.message,void 0,e,e.response):void 0},a=(e,o)=>e&&o?e<300&&e>199||(n(o)||!1):new t(E.NETWORK_ERROR,\"Invalid or missing status code or response\",void 0,o);export default t;export{t as AdobeDCXError,t as DCXError,E as ErrorCodes,r as HTTP_STATUS_ERROR_MAP,e as ProblemTypes,a as _defaultStatusValidator,s as _handleErrorResponsePayload,n as _responseToError,T as isAdobeDCXError,O as networkError,_ as unexpectedResponse};\n//# sourceMappingURL=index.js.map\n","import{DCXError as e}from\"@dcx/error\";let t;const r=new Uint8Array(16);function n(){if(!t&&(t=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return t(r)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));var i={randomUUID:\"undefined\"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function c(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();const o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+\"-\"+s[e[t+4]]+s[e[t+5]]+\"-\"+s[e[t+6]]+s[e[t+7]]+\"-\"+s[e[t+8]]+s[e[t+9]]+\"-\"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}(o)}const a=e=>null!=e,u=e=>null==e,l=e=>p(e)&&(d(e.pipe)||d(e.pipeTo)),f=e=>l(e)&&d(e.on),h=e=>l(e)&&d(e.pipeTo),p=e=>null!=e&&\"object\"==typeof e,d=e=>\"function\"==typeof e,g=e=>null!=e&&p(e)&&d(e.then),y=e=>Array.isArray(e),m=e=>null==e,b=e=>p(e)&&d(e.constructor)&&\"Buffer\"===e.constructor.name&&d(e.slice),w=e=>p(e)&&d(e.constructor)&&\"ArrayBuffer\"===e.constructor.name&&d(e.slice),A=e=>p(e)&&d(e.constructor)&&\"DataView\"===e.constructor.name&&p(e.buffer)&&d(e.buffer.slice),v=e=>{if(\"string\"!=typeof e)return!1;const t=e.toLowerCase().split(\"application/\");if(t.length<2)return!1;const r=t[1].split(\";\")[0].trim();return\"json\"===r||r.endsWith(\"+json\")},k=e=>/^urn:aaid:[a-zA-Z]{2}:[a-zA-Z0-9]{2,6}:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),x=()=>{try{return\"[object process]\"===Object.prototype.toString.call(global.process)}catch(e){return!1}},_=()=>\"object\"==typeof self&&self.self===self,C=()=>_()&&!!self.WorkerGlobalScope,j=()=>\"browser\"===O(),O=()=>\"browser\",S=()=>c(),P=e=>{return\"string\"==typeof(t=e)&&o.test(t);var t},I=(...e)=>!e||!Array.isArray(e)||e.length<1?{}:e.reduce(((e,t)=>{const r=p(e)?e:{};if(p(t))for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r})),E=(e,...t)=>{if(!t.length)return e;const r=t.shift();if(p(e)&&p(r))for(const t in r)p(r[t])&&!y(r[t])?(e[t]||Object.assign(e,{[t]:{}}),E(e[t],r[t])):y(e[t])&&y(r[t])?Object.assign(e,{[t]:r[t]}):Object.assign(e,{[t]:r[t]});return E(e,...t)},$=(...e)=>{if(!e||!Array.isArray(e))return\"\";const t=[],r=e.length;for(let n=0;n<r;n++){let o=e[n];\"string\"==typeof o&&\"\"!==o&&(0===n&&1!==o.length||\"/\"===o.charAt(0)&&(o=o.slice(1)),n!==r-1&&\"/\"===o.charAt(o.length-1)&&(o=o.slice(0,o.length-1)),t.push(o))}return t.join(\"/\")},L=/^(CON|PRN|AUX|NUL|COM\\d|LPT\\d)(\\..+)?$/,N=/[\\u0000-\\u001F\\u0022\\u002A\\u003A\\u003C\\u003E\\u003F\\u005C\\u007F\\u007C]/,U=(e,t=!1)=>{try{if(e.length>65535)return!1;const r=(t?e.slice(1):e).split(\"/\");if(!r||0===r.length)return!1;for(const e of r){if(e.length<1||e.length>255)return!1;if(N.test(e))return!1;if(e.endsWith(\".\")||e.endsWith(\" \"))return!1;if(L.test(e))return!1;if(e.startsWith(\"dcx\")||e.startsWith(\".dcx\"))return!1;if(\"manifest\"===e||\"mimetype\"===e)return!1}return!(t&&(!e.startsWith(\"/\")||e.endsWith(\"/\")))}catch(e){return!1}},D=e=>U(e,!0),R=()=>{},F=(e,t,r)=>{e.on(\"data\",r||R),e.on(\"end\",t||R)},M=e=>{const t={},r=Object.keys(e),n=r.length;for(let o=0;o<n;o++){const n=r[o];t[n]=e[n]}return t},T=e=>JSON.parse(JSON.stringify(e)),V=(e,t,r)=>{const n={};let o,s=Object.keys(e),i=s.length;for(let c=0;c<i;c++){if(o=s[c],!r||!r[o]){const n=e[o],s=t[o];if(typeof n!=typeof s)return!1;if(p(n)&&p(s)){if(!V(n,s,r))return!1}else if(n!==s)return!1}n[o]=!0}s=Object.keys(t),i=s.length;for(let e=0;e<i;e++)if(o=s[e],!n[o])return!1;return!0},W=new RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\"),z=e=>{const t=e.match(W)||[];return{scheme:t[2],authority:t[4],path:t[5],query:t[7],fragment:t[9]}},B=e=>{const t=z(e),r=t.scheme,n=t.authority,o=\"https\"===r?443:\"http\"===r?80:-1;let s;return r&&n&&(s=(r+\"://\"+n).toLowerCase(),o>=0&&n.indexOf(\":\")<0&&(s=s+\":\"+o)),s},J=e=>{if(!e||\"string\"!=typeof e)return e;const t=(e=(e=(e=(e=e.indexOf(\"//\")>-1?e.split(\"/\")[2]:e.split(\"/\")[0]).split(\"?\")[0]).split(\"/\")[0]).split(\":\")[0]).split(\".\");return e=t.slice(Math.max(t.length-2,0)).join(\".\")},q=e=>{if(e){const t=z(e),r=t.scheme,n=t.authority;r||n||\"/\"!==e.charAt(0)&&(e=\"/\"+e)}return e},H=\"0\".charCodeAt(0),Z=\"1\".charCodeAt(0),G=\"9\".charCodeAt(0),X=\"a\".charCodeAt(0),Y=\"A\".charCodeAt(0),K=\"f\".charCodeAt(0),Q=\"F\".charCodeAt(0),ee=e=>{const t=e.charCodeAt(0);return t>=H&&t<=G||t>=X&&t<=K||t>=Y&&t<=Q},te=e=>e.length>=3&&\"%\"===e.charAt(0)&&ee(e.charAt(1))&&ee(e.charAt(2)),re=e=>{const t=e.charCodeAt(0);return t>=H&&t<=G?t-H:t>=X&&t<=K?10+t-X:t>=Y&&t<=Q?10+t-Y:0},ne=(e=!1)=>{let t=(new Date).getTime();return e&&(t-=t%1e3),t},oe=\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_.~\",se=\"0123456789ABCDEF\",ie=e=>{const t=[];for(let r=0;r<128;++r)t.push(-1!==e.indexOf(String.fromCharCode(r)));return t},ce=ie(oe+\":/?#[]@!$&'()*+,;=\"),ae=ie(oe),ue=ie(oe+\"/\"),le=(e,t)=>{if(e<128&&t[e])return String.fromCharCode(e);let r=\"%\";return r+=se.charAt(e>>4&15),r+=se.charAt(15&e),r},fe=e=>{const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):++r<e.length&&(n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t},he=(e,t)=>{const r=fe(e);let n=\"\";for(let e=0;e<r.length;e++)n+=le(r[e],t);return n},pe=e=>(e=e.normalize(\"NFC\"),he(e,ae)),de=e=>{e=e.normalize(\"NFC\");let t=0,r=\"\";for(;t<e.length;)te(e.substr(t))?(r+=e.substr(t,3),t+=3):r+=he(e.charAt(t++),ce);return r},ge=e=>(String.prototype.normalize?e=e.normalize(\"NFC\"):console.warn(\"String.normalize not found while escaping URL path. You may be missing a polyfill.\"),e.length>0&&\"/\"===e.charAt(0)&&(e=e.substr(1)),he(e,ue)),ye=e=>(e.length>0&&\"/\"===e.charAt(0)&&(e=e.substr(1)),e),me=(e,t)=>{let r=0,n=\"\",o=!1,s=!1,i=!1,c=!0,a=!0,u=!1,l=\"\",f=\"\",h=\",\",p=-1;const d=e=>{if(n+=c?f:u||a?h:\",\",s&&l&&(c||u||a)&&(n+=pe(l),(!i||e.length>0)&&(n+=\"=\")),e){let t;t=o?de(e):pe(e),p>0&&(t=((e,t)=>{let r=0;for(;r<e.length&&t>0;){if(te(e.substr(r))){let t=(re(e.substr(r+1))<<4)+re(e.substr(r+2));if(r+=3,!(192&~t))for(;r<e.length&&te(e.substr(r))&&(t=(re(e.substr(r+1))<<4)+re(e.substr(r+2)),r+=3,128==(192&t)););}else++r;--t}return e.substr(0,r)})(t,p)),n+=t}c=!1,a=!1};for(;r<e.length;)if(\"{\"===e.charAt(r)){if(++r<e.length){switch(o=!1,s=!1,f=\"\",h=\",\",i=!1,e.charAt(r++)){case\"+\":o=!0;break;case\"#\":f=\"#\",o=!0;break;case\".\":f=\".\",h=\".\";break;case\"/\":f=\"/\",h=\"/\";break;case\";\":f=\";\",h=\";\",s=i=!0;break;case\"?\":f=\"?\",h=\"&\",s=!0;break;case\"&\":f=\"&\",h=\"&\",s=!0;break;default:--r}for(l=\"\",c=!0,a=!0;r<e.length;)if(\"}\"===e.charAt(r)||\",\"===e.charAt(r)||\"*\"===e.charAt(r)||\":\"===e.charAt(r)){if(u=!1,p=-1,\"*\"===e.charAt(r)){if(u=!0,++r>=e.length)break}else if(\":\"===e.charAt(r)){if(++r>=e.length)break;for(e.charCodeAt(r)>=Z&&e.charCodeAt(r)<=G&&(p=0);r<e.length&&e.charCodeAt(r)>=H&&e.charCodeAt(r)<=G&&p<1e4;)p=10*p+(e.charCodeAt(r++)-H);if(r>=e.length)break}for(;r<e.length&&\"}\"!==e.charAt(r)&&\",\"!==e.charAt(r);)++r;if(l.length>0&&\"*\"===l.charAt(l.length-1)&&(u=!0,l=l.substr(0,l.length-1)),l.length>0){const e=t?t[l]:void 0;if(e||\"\"===e)if(Array.isArray(e)){p=-1;for(let t=0;t<e.length;t++)d(String(e[t]))}else if(\"object\"==typeof e&&null!==e)for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(g=t,y=String(e[t]),n+=c?f:u||a?h:\",\",s&&l&&c&&!u&&(n+=pe(l),(!i||y.length>0)&&(n+=\"=\")),g&&(n+=o?de(g):pe(g),n+=u?\"=\":\",\",y&&(n+=o?de(y):pe(y))),c=!1,a=!1);else d(String(e))}if(\"}\"===e.charAt(r++))break;l=\"\",a=!0}else l+=e.charAt(r++)}}else te(e.substr(r))?(n+=e.substr(r,3),r+=3):n+=he(e.charAt(r++),ce);var g,y;return n},be=(e,t)=>e&&t?e.indexOf(t):-1,we=e=>e?e.search(\"(text|image|audio|video|ingredient|document|model|application|font)\\\\/\"):-1,Ae=(e,t)=>{if(!e||\"string\"!=typeof e||!t)return\"\";let r;return r=\"string\"==typeof t?e.match(t):t.exec(e),r?r[1]:\"\"};function ve(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{a(n.next(e))}catch(e){s(e)}}function c(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}a((n=n.apply(e,t||[])).next())}))}function ke(e){return this instanceof ke?(this.v=e,this):new ke(e)}function xe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var n,o=r.apply(e,t||[]),s=[];return n={},i(\"next\"),i(\"throw\"),i(\"return\"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=o[e](t)).value instanceof ke?Promise.resolve(r.value.v).then(a,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}var r}function a(e){c(\"next\",e)}function u(e){c(\"throw\",e)}function l(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}}function _e(e,t){if(!e)return\"\";null!=t&&(e=e.slice(0,t));return(new TextDecoder).decode(e)}function Ce(e){return(new TextEncoder).encode(e)}function je(e){return\"string\"==typeof e?Ce(e):e}function Oe(e,t){const r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}function Se(e){const t={};for(const[r,n]of e)t[r]=n;return t}function Pe(e,t){return e.reduce(((e,r,n)=>(n%t==0?e.unshift([r]):e[0].push(r),e)),[]).reverse()}function Ie(e){return xe(this,arguments,(function*(){const t=e.getReader();try{for(;;){const{done:e,value:r}=yield ke(t.read());if(e)return yield ke(void 0);yield yield ke(r)}}finally{t.releaseLock()}}))}const Ee=\"+dcxucf\",$e=e=>{const t=_e(e,100),r=be(t,Ee),n=we(t);return r>-1&&n>-1?t.substring(n,r+7):\"\"};class Le{constructor(e){this._handlers={},e.forEach((e=>{this._handlers[e]=[]}))}on(e,t){return this._handlers[e].push(t)-1}emit(e,t){this._handlers[e].forEach((e=>{d(e)&&e(...t)}))}removeHandler(e,t){delete this._handlers[e][t]}removeAllHandlers(e){e?this._handlers[e]=[]:this._handlers={}}}const Ne=[/^(?!^501$|^507$)^(5\\d{2})$|429|423$/],Ue=(e,t)=>{return\"object\"==typeof(r=e)&&\"function\"==typeof r.test?e.test(t.toString()):t===e;var r};function De(e,t=Ne){return!!e&&(Array.isArray(t)?t.some((t=>Ue(t,e))):Ue(t,e))}const Re=/^([^:]+):(.*)$/,Fe=/^\\s+|\\s+$/g,Me=e=>{const t={},r=e.split(/\\r?\\n/);let n,o;for(let e=0;e<r.length;++e){const s=r[e];if(s.length>0){const e=s.charCodeAt(0);if(!n||9!==e&&32!==e){const e=Re.exec(s);e&&e.length>1&&(n=e[1].toLowerCase(),o=e[2]||\"\",o=o.replace(Fe,\"\"),t[n]?t[n]=t[n]+\",\"+o:t[n]=o)}else t[n]=t[n]+\" \"+s.replace(Fe,\"\")}}return t},Te=e=>{if(null===e||\"object\"!=typeof e)return{};const t={};for(const[r,n]of Object.entries(e))t[r.toLowerCase()]=y(n)?n.join(\";\"):n;return t},Ve=(t,r,n)=>y(r)?new e(e.INVALID_PARAMS,`Param '${t}' type must be one of: [${r.join(\",\")}].${n&&n.length>0?\" Possible values: \"+n.join(\", \")+\".\":\"\"}`):new e(e.INVALID_PARAMS,`Param '${t}' must be of type '${r}'.${n&&n.length>0?\" Possible values: \"+n.join(\", \")+\".\":\"\"}`),We=(e,t,r,n=!1,o=[])=>{if(n&&null==t)return!0;if(y(r)){for(const s in r){const i=r[s];try{return We(e,t,i,n,o),!0}catch(e){}}throw Ve(e,r,o)}if(\"null\"===r&&null!==t||\"undefined\"===r&&void 0!==t||\"nullish\"===r&&null!=t)throw Ve(e,r,o);if(\"null\"===r||\"undefined\"===r||\"nullish\"===r)return!0;if(!n&&null==t)throw Ve(e,r,o);if(r.endsWith(\"[]\")){if(!y(t))throw Ve(e,r,o);return t.forEach(((t,n)=>{We(`${e}[${n}]`,t,r.substr(0,r.length-2))})),!0}let s=r.toLowerCase();switch(r){case\"integer\":case\"+number\":case\"-number\":s=\"number\"}if(\"array\"===s){if(!y(t))throw Ve(e,r,o)}else if(\"enum\"!==s){if(typeof t!==s)throw Ve(e,r,o);if(\"integer\"===r&&(\"number\"!=typeof t||!Number.isInteger(t)))throw Ve(e,r,o);if(\"+number\"===r&&(\"number\"!=typeof t||t<0))throw Ve(e,r,o);if(\"-number\"===r&&(\"number\"!=typeof t||t>0))throw Ve(e,r,o)}if(o.length>0){const n=o.length;let s=!1;for(let e=0;e<n;e++)if(o[e]===t){s=!0;break}if(!s)throw Ve(e,r,o)}return!0};function ze(...e){return e.map((e=>We(...e)))}function Be(t,r,...n){if(r=r?\" \"+r+\" \":\" \",!t||\"object\"!=typeof t)throw new e(e.INVALID_PARAMS,`Object${r}is invalid.`);try{n.forEach((e=>{We(e[0],t[e[0]],e[1],e[2]||!1,e[3]||[])}))}catch(t){throw new e(e.INVALID_PARAMS,`Object${r}is invalid. ${t.message.replace(\"Param\",\"Property\")}`,t)}}const Je=(t,r)=>{if(!1===t())throw new e(e.INVALID_PARAMS,r)};function qe(e,t,r){const n=new Qe;return(r?function(e){function t(r,n,o){const s=e(r,n,o);return y(s)?s:Xe(r,n,o,t)}return t}(r):Xe)(e,t,n)}function He(e,t){const r={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]&&(r[t]=1);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]&&delete r[e];return Object.keys(r)}function Ze(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function Ge(e,t,r,n){const o=[];return He(e,t).forEach((e=>{o.push({op:\"remove\",path:r.add(e).toString()})})),He(t,e).forEach((e=>{o.push({op:\"add\",path:r.add(e).toString(),value:t[e]})})),function(e){const t=e.length,r={};for(let n=0;n<t;n++){const t=e[n];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]&&(r[e]=(r[e]||0)+1)}for(const e in r)r[e]<t&&delete r[e];return Object.keys(r)}([e,t]).forEach((s=>{o.push(...n(e[s],t[s],r.add(s)))})),o}function Xe(e,t,r,n=Xe){if(e===t)return[];const o=y(e),s=y(t);return o&&s?function(e,t,r,n){const o={\"0,0\":{operations:[],cost:0}},s=isNaN(e.length)||e.length<=0?0:e.length,i=isNaN(t.length)||t.length<=0?0:t.length,c=function r(s,i){const c=`${s},${i}`;let a=o[c];if(void 0===a){if(s>0&&i>0&&!n(e[s-1],t[i-1],new Qe).length)a=r(s-1,i-1);else{const n=[];if(s>0){const e=r(s-1,i),t={op:\"remove\",index:s-1};n.push(Ze(e,t))}if(i>0){const e=r(s,i-1),o={op:\"add\",index:s-1,value:t[i-1]};n.push(Ze(e,o))}if(s>0&&i>0){const o=r(s-1,i-1),c={op:\"replace\",index:s-1,original:e[s-1],value:t[i-1]};n.push(Ze(o,c))}a=n.sort(((e,t)=>e.cost-t.cost))[0]}o[c]=a}return a}(s,i).operations,[a]=c.reduce((([e,t],o)=>{if(function(e){return\"add\"===e.op}(o)){const n=o.index+1+t,i=n<s+t?String(n):\"-\",c={op:o.op,path:r.add(i).toString(),value:o.value};return[e.concat(c),t+1]}if(function(e){return\"remove\"===e.op}(o)){const n={op:o.op,path:r.add(String(o.index+t)).toString()};return[e.concat(n),t-1]}const i=r.add(String(o.index+t)),c=n(o.original,o.value,i);return[e.concat(...c),t]}),[[],0]);return a}(e,t,r,n):!o&&!s&&p(e)&&p(t)?Ge(e,t,r,n):[{op:\"replace\",path:r.toString(),value:t}]}function Ye(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}function Ke(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}class Qe{constructor(e=[\"\"]){this.tokens=e}static fromJSON(t){const r=t.split(\"/\").map(Ye);if(\"\"!==r[0])throw new e(e.INVALID_DATA,`Invalid JSON Pointer: ${t}`);return new Qe(r)}toString(){return this.tokens.map(Ke).join(\"/\")}evaluate(e){let t=null,r=\"\",n=e;for(let e=1,o=this.tokens.length;e<o;e++)t=n,r=this.tokens[e],n=(t||{})[r];return{parent:t,key:r,value:n}}get(e){return this.evaluate(e).value}set(e,t){let r=e;for(let e=1,t=this.tokens.length-1,n=this.tokens[e];e<t;e++)r=(r||{})[n];r&&(r[this.tokens[this.tokens.length-1]]=t)}push(e){this.tokens.push(e)}add(e){const t=this.tokens.concat(String(e));return new Qe(t)}}class et{get operations(){return this._operations}constructor(e=[]){this._operations=e}getDocument(){return JSON.stringify(this._operations)}add(e,t){return ze([\"path\",e,\"string\"]),this._operations.push({op:\"add\",path:e,value:t}),this}addToList(t,r,n){if(ze([\"path\",t,\"string\"]),\"number\"!=typeof n&&\"end\"!==n&&\"-\"!==n)throw new e(e.INVALID_PARAMS,'Index must be a number, or either \"end\"/\"-\" to append to end.');return this._operations.push({op:\"add\",value:r,path:`${t.endsWith(\"/\")?t:t+\"/\"}${\"end\"===n?\"-\":n}`}),this}remove(e){return ze([\"path\",e,\"string\"]),this._operations.push({op:\"remove\",path:e}),this}replace(e,t){return ze([\"path\",e,\"string\"]),this._operations.push({op:\"replace\",path:e,value:t}),this}move(e,t){return ze([\"source\",e,\"string\"],[\"destination\",t,\"string\"]),this._operations.push({op:\"move\",from:e,path:t}),this}copy(e,t){return ze([\"source\",e,\"string\"],[\"destination\",t,\"string\"]),this._operations.push({op:\"copy\",from:e,path:t}),this}}function tt(e){return new et(e)}function rt(e,t){return{property:e,issue:t}}function nt(e){if(!y(e))return[rt(\"doc\",\"Invalid type.\")];const t=[];return e.forEach(((e,r)=>{const n=ot(e);!0!==n&&n.forEach((e=>{e.property=`doc[${r}].${e.property}`,t.push(e)}))})),!(t.length>0)||t}function ot(e){const t=[];if(\"object\"!=typeof e||null==e||y(e))return t.push(rt(\"*\",\"Operation not an object.\")),t;switch(\"string\"!=typeof e.path&&t.push(rt(\"path\",\"Missing or invalid.\")),e.op){case\"remove\":break;case\"add\":case\"replace\":null==e.value&&t.push(rt(\"value\",\"Missing or invalid. Required for add/replace.\"));break;case\"move\":case\"copy\":\"string\"!=typeof e.from&&t.push(rt(\"from\",\"Missing or invalid. Required for move/copy.\"));break;default:t.push(rt(\"op\",\"Missing or invalid.\"))}return!(t.length>0)||t}function st(t,r={},n){const o=\"function\"==typeof r.selector?r.selector:it,s=Array.isArray(t)?o(t,n):t;if(!s)throw new e(e.INVALID_PARAMS,\"Could not select appropriate link for usage\");return s.templated?\"function\"==typeof r.expander?r.expander(s.href,n):me(s.href,n):s.href}function it(e,t={mode:\"id\"}){let r=e[0],n=0;for(const o of e){let e=0;for(const r in o)r in t&&o[r]===t[r]&&e++;e>n&&(n=e,r=o)}return r}function ct(e){if(e.__watch_proxy__)return e;if(\"watchProperty\"in e)throw new Error(\"Cannot proxy object, watchProperty already exists.\");let t={};const r=((e,r)=>{t[e]=t[e]||[],t[e].push(r)}).bind({listeners:t}),n={set:function(e,r,n){try{r in t&&y(t[r])&&t[r].map((t=>t.call(void 0,n,e[r],e)))}catch(e){throw e}return e[r]=n,!0}},{proxy:o,revoke:s}=Proxy.revocable(e,n);return Object.defineProperty(o,\"__watch_proxy__\",{value:!0,enumerable:!1,configurable:!0}),Object.defineProperty(o,\"revokeWatchProxy\",{value:()=>(s(),t={},delete e.__watch_proxy__,delete e.revokeWatchProxy,delete e.watchProperty,e),enumerable:!1,configurable:!0}),Object.defineProperty(o,\"watchProperty\",{value:r,enumerable:!1,configurable:!0}),o}function at(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ut(...e){if(e.length<2)return;const t=e.shift();I(t,...e),e.map((e=>{Object.assign(t,e)}))}function lt(e){if(!p(e))throw new Error(\"Expecting object\");const t={};for(const r in e)null!=e[r]&&(t[r]=e[r]);return t}const ft=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,ht=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,pt=/\\s|\\uFEFF|\\xA0/,dt=/\\r?\\n[\\x20\\x09]+/g,gt=/[;,\"]/,yt=/[;,\"]|\\s/,mt=1,bt=2,wt=4;function At(e){return e.replace(ht,\"\")}function vt(e){return pt.test(e)}function kt(e,t){for(;vt(e[t]);)t++;return t}function xt(e){return yt.test(e)}class _t{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){const t=[];for(let r=0;r<this.refs.length;r++)this.refs[r].rel===e&&t.push(this.refs[r]);return t}get(e,t){e=e.toLowerCase();const r=[];for(let n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(let r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t=0){let r=t?e.slice(t):e;r=At(r).replace(dt,\"\");let n=mt;const o=r.length;let s=0,i=null;for(;s<o;)if(n===mt){if(vt(r[s])){s++;continue}if(\"<\"!==r[s])throw new Error('Unexpected character \"'+r[s]+'\" at offset '+s);{const e=r.indexOf(\">\",s);if(-1===e)throw new Error(\"Expected end of URI delimiter at offset \"+s);i={uri:r.slice(s+1,e)},this.refs.push(i),s=e,n=bt}s++}else if(n===bt){if(vt(r[s])){s++;continue}if(\";\"===r[s])n=wt,s++;else{if(\",\"!==r[s])throw new Error('Unexpected character \"'+r[s]+'\" at offset '+s);n=mt,s++}}else{if(n!==wt)throw new Error('Unknown parser state \"'+n+'\"');{if(\";\"===r[s]||vt(r[s])){s++;continue}const e=r.indexOf(\"=\",s);if(-1===e)throw new Error(\"Expected attribute delimiter at offset \"+s);const t=At(r.slice(s,e)).toLowerCase();let c=\"\";if(s=e+1,s=kt(r,s),'\"'===r[s])for(s++;s<o;){if('\"'===r[s]){s++;break}\"\\\\\"===r[s]&&s++,c+=r[s],s++}else{let e=s+1;for(;!gt.test(r[e])&&e<o;)e++;c=r.slice(s,e),s=e}if(i&&i[t]&&jt(t));else if(i&&\"*\"===t[t.length-1])i[t]=St(c);else if(c=\"rel\"===t||\"type\"===t?c.toLowerCase():c,i&&null!=i[t]){const e=i[t];y(e)?e.push(c):i[t]=[i[t],c]}else{if(!i)throw new Error(\"Unexpected null ref\");i[t]=c}switch(r[s]){case\",\":n=mt;break;case\";\":n=wt}s++}}return i=null,this}toString(){const e=[];let t,r=\"\";for(let n=0;n<this.refs.length;n++)t=this.refs[n],r=Object.keys(this.refs[n]).reduce((function(e,r){return\"uri\"===r?e:e+\"; \"+Pt(r,t[r])}),\"<\"+t.uri+\">\"),e.push(r);return e.join(\", \")}}const Ct=e=>ft.test(e),jt=e=>\"rel\"===e||\"type\"===e||\"media\"===e||\"title\"===e||\"title*\"===e,Ot=e=>e.replace(/\"/g,'\\\\\"'),St=e=>{const t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e)||[];return{language:t[2].toLowerCase(),encoding:Ct(t[1])?null:t[1].toLowerCase(),value:Ct(t[1])?decodeURIComponent(t[3]):t[3]}},Pt=(e,t)=>Array.isArray(t)?t.map((t=>Pt(e,t))).join(\"; \"):\"*\"===e[e.length-1]||\"string\"!=typeof t?((e,t)=>{const r=(t.encoding||\"utf-8\").toUpperCase(),n=t.language||\"en\";let o=\"\";return o=Buffer.isBuffer(t.value)&&Ct(r)?t.value.toString(r):Buffer.isBuffer(t.value)?t.value.toString(\"hex\").replace(/[0-9a-f]{2}/gi,\"%$1\"):encodeURIComponent(t.value),e+\"=\"+r+\"'\"+n+\"'\"+o})(e,t):((e=>\"rel\"===e||\"type\"===e||\"anchor\"===e)(e)?t=xt(t)?'\"'+Ot(t)+'\"':Ot(t):xt(t)&&(t='\"'+(t=(t=encodeURIComponent(t)).replace(/%20/g,\" \").replace(/%2C/g,\",\").replace(/%3B/g,\";\"))+'\"'),e+\"=\"+t);function It(e,t,r,n=\"id\"){const o=Nt(e)[t];if(o){if(Array.isArray(o)){const e=o.filter((e=>e.mode===n));return e.length>0?e[0][r]:o.length>0?o[0][r]:void 0}return o[r]}}function Et(t,r,n=\"id\"){const o=Nt(t),s=o[r];let i;if(p(s)&&\"string\"==typeof s.href?i=s.href:Array.isArray(s)&&(i=It(o,r,\"href\",n)),\"string\"!=typeof i)throw new e(e.INVALID_PARAMS,\"Missing or invalid link href.\");return i}function $t(e,t,r,n=\"id\"){const o=Et(Nt(e),t,n);return me(o,lt(r))}const Lt=(e,t=0)=>(new _t).parse(e,t);function Nt(e){return p(e)?\"_links\"in e?e._links:\"links\"in e?e.links:e:{}}let Ut;const Dt=()=>{if(Ut)return Ut;const e=x();return Ut=e&&p(global.performance)&&d(global.performance.now)?global.performance:e&&p(global.perf_hooks)&&p(global.perf_hooks.performance)&&d(global.perf_hooks.performance.now)?global.perf_hooks.performance:_()&&p(self.performance)&&d(self.performance.now)?self.performance:Date,Ut},Rt=()=>Dt().now(),Ft=e=>ve(void 0,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}));function Mt(e,t=3){return e().catch((r=>{if(t)return Mt(e,t-1);throw r}))}function Tt(t,r,n,o,s){return ve(this,void 0,void 0,(function*(){return t().catch((i=>ve(this,void 0,void 0,(function*(){var c,a,u;if(Rt()-n.startTime>=n.timeoutAfter)throw new e(e.TIMED_OUT,\"request aborted due to timeout\");o||(o=null===(c=i.response)||void 0===c?void 0:c.response.type);const l=s||1e3*parseInt(null===(a=i.response)||void 0===a?void 0:a.headers[\"retry-after\"],10)||2e3;if((null===(u=i.response)||void 0===u?void 0:u.statusCode)===r&&i.response.response.type===o)return yield Ft(l),Tt(t,r,n,o,s);throw i}))))}))}const Vt=Object.freeze({__proto__:null,Link:_t,getLinkProperty:It,getLinkHref:Et,getLinkHrefTemplated:$t,parse:Lt});export{Ne as DEFAULT_RETRY_CODES,Le as EventEmitter,Qe as JSONPatchPointer,_t as Link,Vt as LinkUtils,O as SDKType,ct as WatchProxy,fe as _toUTF8Array,$ as appendPathElements,_e as arrayBufferToString,Je as assert,Ie as asyncIterableFromStream,De as checkRetriable,Pe as chunkArray,ut as combineInPlace,Oe as concatUint8Arrays,F as consumeStream,qe as createJSONPatch,tt as createPatchDocumentBuilder,je as dataToBuffer,T as deepCopy,B as endPointOf,q as ensureRelativeHrefStartsWithSlash,ge as escapeURLPath,me as expandURITemplate,M as flatCopy,S as generateUuid,J as getDomainFromURL,Ae as getFirstRegexpCapture,Et as getLinkHref,$t as getLinkHrefTemplated,It as getLinkProperty,Dt as getPerformance,we as getStartIdxOfMimeType,be as getSuffixIdxOfMimeType,re as hexVal,d as isAnyFunction,y as isArray,w as isArrayBuffer,A as isArrayBufferView,_ as isBrowser,j as isBrowserSDK,b as isBuffer,a as isDefined,ee as isHexChar,v as isJsonContentType,x as isNode,f as isNodeReadableStream,p as isObject,te as isPctEncoding,g as isPromise,l as isReadableStream,u as isUndefined,D as isValidAbsolutePath,k as isValidAdobeURN,U as isValidPath,m as isVoid,h as isWHATWGReadableStream,C as isWebWorker,I as merge,E as mergeDeep,R as noOp,Te as normalizeHeaders,Rt as now,Se as objectFromEntries,V as objectsEqual,Lt as parse,Me as parseHeaders,z as parseURI,st as provideLink,lt as pruneUndefined,ye as removeLeadingSlashForPath,Tt as retriesWithDelayOnError,at as safeGet,Ft as sleep,Ce as stringToBuffer,ne as timeStamp,nt as validateJSONPatchDocument,ot as validateJSONPatchOperation,Be as validateObject,We as validateParam,ze as validateParams,P as verifyUuid,$e as verifyandGetSnapshotMimetype,Mt as withRetries};\n//# sourceMappingURL=index.js.map\n","import{validateParams as e,validateObject as o,isUndefined as t,isObject as s,EventEmitter as r,now as n,isNode as l}from\"@dcx/util\";var i,a,c,g,u;function d(t,s,r=\"css\"){var n,l,u;e([\"data\",s,\"object\"]),o(s,\"data\",[\"composite\",\"object\"],[\"response\",\"object\"],[\"error\",\"object\",!0]);const{component:d,error:b,composite:h,branch:_,derivationType:m,isBlockTransferred:v}=s,C=(null===(n=s.error)||void 0===n?void 0:n.response)||s.response;let f,E=!1;switch(t){case g.CreateComposite:E=!0,f=c.Create;break;case g.PushComposite:E=!0,f=c.Push;break;case g.PullComposite:E=!0,f=c.MinPull;break;case g.PullCompositeVersion:E=!0,f=c.VersionPull;break;case g.DownloadComponent:case g.UploadComponent:e([\"component\",d,\"object\"]),o(d,\"data.component\",[\"type\",\"string\"]),f=t===g.DownloadComponent?c.Download:c.Upload;break;default:f=c.Unknown}E&&e([\"branch\",_,\"object\",!0]);const D={\"env.com.name\":\"dcx-js\",\"env.svc.name\":r,\"env.com.version\":\"9.10.0\",\"event.request_id\":C.headers[\"x-request-id\"],\"event.cloud_id\":h.assetId,\"custom.content.repository_id\":h.repositoryId,\"event.type\":i.Success,\"event.category\":a.CompositeXfer,\"event.subcategory\":f},y=null===(l=null==b?void 0:b.underlyingError)||void 0===l?void 0:l.code,L=null===(u=null==b?void 0:b.underlyingError)||void 0===u?void 0:u.message;return b&&(D[\"event.error_code\"]=b.code,D[\"event.error_desc\"]=b.message,D[\"dcx.underlying_error_code\"]=y,D[\"dcx.underlying_error_desc\"]=L,D[\"event.type\"]=i.Error),f===c.Unknown?p(D):E?(D[\"dcx.num_total_components\"]=null==_?void 0:_.allComponents().length,D[\"custom.content.xmp_derivation_type\"]=m,b&&(D[\"dcx.root_error_desc\"]=L),p(D)):(D[\"content.mimetype\"]=d.type,b&&(D[\"dcx.block_transferred\"]=null!=v&&v,D[\"content.type\"]=d.type,D[\"content.size\"]=d.length,D[\"dcx.component_rel\"]=d.relationship),p(D))}function p(e){const o={};for(const r in e){const n=e[r];t(n)||Array.isArray(n)||s(n)||(o[r]=n)}return o}!function(e){e[e.Success=0]=\"Success\",e[e.Error=1]=\"Error\"}(i||(i={})),function(e){e[e.CompositeXfer=0]=\"CompositeXfer\"}(a||(a={})),function(e){e[e.Push=0]=\"Push\",e[e.MinPull=1]=\"MinPull\",e[e.VersionPull=2]=\"VersionPull\",e[e.Upload=3]=\"Upload\",e[e.Download=4]=\"Download\",e[e.Create=5]=\"Create\",e[e.Unknown=6]=\"Unknown\"}(c||(c={})),function(e){e.PushComposite=\"analyticsPush\",e.CreateComposite=\"analyticsCreate\",e.PullComposite=\"analyticsPull\",e.PullCompositeVersion=\"analyticsPullVersion\",e.UploadComponent=\"analyticsUpload\",e.DownloadComponent=\"analyticsDownload\",e.All=\"*\"}(g||(g={})),function(e){e[e.Deprecated=0]=\"Deprecated\",e[e.Error=1]=\"Error\",e[e.Warn=2]=\"Warn\",e[e.Log=3]=\"Log\",e[e.Debug=4]=\"Debug\"}(u||(u={}));const b={[u.Deprecated]:\"error\",[u.Error]:\"error\",[u.Log]:\"log\",[u.Warn]:\"warn\",[u.Debug]:\"debug\"};class h extends r{constructor(e){super([g.CreateComposite,g.UploadComponent,g.PushComposite,g.PullComposite,g.PullCompositeVersion,g.DownloadComponent]),this._logLevel=u.Warn,this._prevDebugTime=n(),this._debugFormatter=(e,o,t,s)=>`[${e} (+${(1e3*(o-t)).toFixed(0)})] ${s.map((e=>\"string\"==typeof e?e:JSON.stringify(e))).join(\" \")}`,this._debugNamespaces=[],this._debugSkips=[],this.suppressDeprecationWarnings=!1,e&&(this._logCallback=e),this._initNamespaces()}get debugNamespaces(){return this._debugNamespaces}get debugSkips(){return this._debugSkips}set logLevel(e){if(!Object.values(u).includes(e))throw new Error(`Invalid LogLevel, must be one of: ${Object.values(u).join(\", \")}.`);this._logLevel=e}get logLevel(){return this._logLevel}on(e,o){if(e!==g.All)return super.on(e,o);const t=Object.values(g);let s;for(let e=0,r=t.length;e<r;e++){const r=t[e];s=super.on(r,o)}return s}static getInstance(){return null==h._instance&&(h._instance=new h),h._instance}static newLogger(e){return new h(e)}set logCallback(e){this._logCallback=e}get logCallback(){return this._logCallback}_initNamespaces(){l()?this.setDebugNamespaces(process.env.DCX_DEBUG||\"\"):s(globalThis)&&s(globalThis.dcxjs)&&this.setDebugNamespaces(globalThis.dcxjs.debug||\"\"),this._debugNamespaces.length>0&&(this._logLevel=u.Debug)}_log(e,o,t){try{if(e===h.LEVEL_DEPRECATED)!this.suppressDeprecationWarnings&&this._logLevel>=e&&console.warn(...t);else if(\"function\"==typeof this._logCallback&&this._logLevel>=e)this._logCallback.call(void 0,...t);else if(this._logLevel>=e)if(e===u.Debug){if(this._debugEnabled(o)){const e=this._prevDebugTime;this._prevDebugTime=n();(console.debug||console.log)(this._debugFormatter(o,this._prevDebugTime,e,t))}}else console[b[e]](...t.slice(0,-2))}catch(e){}}log(...e){this._log(u.Log,void 0,e)}warn(...e){this._log(u.Warn,void 0,e)}error(...e){this._log(u.Error,void 0,e)}deprecated(...e){this._log(u.Deprecated,void 0,e)}_debugEnabled(e){if(\"*\"===e[e.length-1])return!0;let o,t;for(o=0,t=this._debugSkips.length;o<t;o++)if(this._debugSkips[o].test(e))return!1;for(o=0,t=this._debugNamespaces.length;o<t;o++)if(this._debugNamespaces[o].test(e))return!0;return!1}setDebugFormatter(e){this._debugFormatter=e}setDebugNamespaces(e){let o;this._debugNamespaces=[],this._debugSkips=[];const t=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=t.length;for(o=0;o<s;o++)t[o]&&(\"-\"===(e=t[o].replace(/\\*/g,\".*?\"))[0]?this._debugSkips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):this._debugNamespaces.push(new RegExp(\"^\"+e+\"$\")))}Debug(e){return(...o)=>{this._log(u.Debug,e,o)}}}h.LEVEL_DEBUG=u.Debug,h.LEVEL_LOG=u.Log,h.LEVEL_WARN=u.Warn,h.LEVEL_ERROR=u.Error,h.LEVEL_DEPRECATED=u.Deprecated;const _=()=>{const e=v();return void 0!==e._logCallback?e:h.getInstance()},m=(e,o)=>{const t=_(),s=d(e,o);try{t.emit(e,[s])}catch(e){const o=e instanceof Error?e.message:\"Unknown Error\";t.error(\"Error in analytics hook: \",o)}},v=()=>{if(\"object\"==typeof globalThis&&\"object\"==typeof globalThis.dcxjs&&globalThis.dcxjs.logger&&globalThis.dcxjs.logger.getInstance)return globalThis.dcxjs.logger.getInstance();const e=()=>{};return{log:e,warn:e,error:e,deprecated:e,debug:e,newLogger:v}},C=e=>{_().logCallback=e},f=(...e)=>{const o=_();e.forEach(o.log.bind(o))},E=e=>_().Debug(e);var D=_();export default D;export{h as AdobeDCXLogger,g as AnalyticsEvent,a as AnalyticsEventCategory,c as AnalyticsEventSubCategory,i as AnalyticsEventType,u as LogLevel,m as emitAnalyticsEvent,v as getGlobalLogger,_ as getGlobalOrLocalLogger,f as log,d as makeAnalyticsEvent,E as newDebug,C as setLogCallback};\n//# sourceMappingURL=index.js.map\n","import{isObject as e}from\"@dcx/util\";const t=e=>\"[object Function]\"===toString.call(e);class s{constructor(e,t){return this._promise=null,this._props={},this._registeredProps=[],this._handlers={cancel:[]},this._done=!1,this._canceled=!1,this._internalKeys=[],this.name=\"AdobePromise\",this._internalKeys=[...Object.keys(this),...Object.keys(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(this))),\"_cancelReason\"],t&&\"object\"==typeof t&&this._setProps(t),this._promise=new Promise(((t,s)=>e.call(this,(e=>{this._done||(this._done=!0,t(e))}),(e=>{this._done||(this._done=!0,s(e))}),this._registerCancelHandler.bind(this)))),new Proxy(this,{set:function(e,t,s){if(e._internalKeys.includes(t)){if(![\"_promise\",\"_canceled\",\"_cancelReason\",\"_props\",\"_registeredProps\"].includes(t))throw new Error(\"Cannot overwrite internal AdobePromise property.\");e[t]=s}else e._registeredProps.includes(t)||e._registeredProps.push(t),e.props[t]=s;return!0},get:function(e,t){return\"symbol\"==typeof t||e._internalKeys.includes(t)?e[t]:e.props[t]}})}get[Symbol.toStringTag](){return this.name}static reject(e,t){return new r(((t,s)=>Promise.reject(e).catch((e=>{s&&s(e)}))),t)}static resolve(s,n){return new r((r=>{e(s)&&t(s.then)?s.then((e=>{r(e)})):r(s)}),n)}static allSettled(e,t){return 0===e.length?r.resolve([],t):new r((t=>{const s=[];e.map(((r,n)=>{r.then((e=>{s[n]={status:\"fulfilled\",value:e}})).catch((e=>{s[n]={status:\"rejected\",reason:e}})).then((()=>{s.filter((e=>!!e)).length===e.length&&t(s)}))}))}),t)}get canceled(){return this._canceled}getPromise(){return this._promise}_resolveOrReject(e,t){return this._promise.then((s=>this._canceled?t&&t(this._cancelReason):e(s))).catch((e=>t&&t(this._cancelReason||e)))}then(e,t){if(null==e&&null==t)return this;const s=new r(((e,t,s)=>(s&&s((e=>{this.cancel.call(this,e),t&&t(e)})),this._resolveOrReject.call(this,e,t))),this._props);return s._promise=s.getPromise().then((t=>{const n=e&&e(t);if(n instanceof r){const e=n;this.onCancel((t=>e.cancel(t)));for(const t in this.props)null==e.props[t]&&(e.props[t]=this.props[t]);e._setProps(e.props),this._setProps(e.props),s._setProps(e.props)}return n})).catch(t),s}parallel(e,t){return this._promise.then(e,t)}catch(e){return this._promise=this._promise.catch(e),this}finally(e){return this._promise=this._promise.finally(e),this}cancel(e){this._canceled||(this._canceled=!0,this._cancelReason=e,this._callHandlers(\"cancel\",e||new Error(\"Aborted\")))}abort(e){this.cancel(e)}onCancel(e){t(e)&&this._registerCancelHandler(e)}get props(){return this._props}_setProps(e){if(this._props===e)return;this._props=e;const t=[],s=Object.getOwnPropertyDescriptors(r),n=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(e));if(n.constructor.value!==Object)for(const r in n){if(r in s||r in this&&!this._registeredProps.includes(r))continue;t.push(r);const i=n[r],o=Object.assign({},i);delete o.get,delete o.set,(i.get||i.set)&&(delete o.value,delete o.writable,i.get&&(o.get=i.get.bind(e)),i.set&&(o.set=i.set.bind(e))),Object.defineProperty(this,r,o)}for(const r of Object.keys(e))t.push(r),r in s||r in this&&!this._registeredProps.includes(r)||Object.defineProperty(this,r,{get:()=>this._props[r],set:e=>{this._props[r]=e},configurable:!0});return this._registeredProps=t,this}_registerCancelHandler(e){this._handlers.cancel.push(e)}_callHandlers(e,t){this._handlers[e].map((e=>e&&e(t)))}_destroy(){this._handlers.cancel=[]}}const r=s,n=r;export default r;export{n as AdobePromise};\n//# sourceMappingURL=index.js.map\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Updates to this file should also be replicated to @opentelemetry/core too.\n/**\n * - globalThis (New standard)\n * - self (Will return the current window instance for supported browsers)\n * - window (fallback for older browser implementations)\n * - global (NodeJS implementation)\n * - <object> (When all else fails)\n */\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins, no-undef\nexport var _globalThis = typeof globalThis === 'object'\n    ? globalThis\n    : typeof self === 'object'\n        ? self\n        : typeof window === 'object'\n            ? window\n            : typeof global === 'object'\n                ? global\n                : {};\n//# sourceMappingURL=globalThis.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// this is autogenerated file, see scripts/version-update.js\nexport var VERSION = '1.9.0';\n//# sourceMappingURL=version.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { VERSION } from '../version';\nvar re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(ownVersion) {\n    var acceptedVersions = new Set([ownVersion]);\n    var rejectedVersions = new Set();\n    var myVersionMatch = ownVersion.match(re);\n    if (!myVersionMatch) {\n        // we cannot guarantee compatibility so we always return noop\n        return function () { return false; };\n    }\n    var ownVersionParsed = {\n        major: +myVersionMatch[1],\n        minor: +myVersionMatch[2],\n        patch: +myVersionMatch[3],\n        prerelease: myVersionMatch[4],\n    };\n    // if ownVersion has a prerelease tag, versions must match exactly\n    if (ownVersionParsed.prerelease != null) {\n        return function isExactmatch(globalVersion) {\n            return globalVersion === ownVersion;\n        };\n    }\n    function _reject(v) {\n        rejectedVersions.add(v);\n        return false;\n    }\n    function _accept(v) {\n        acceptedVersions.add(v);\n        return true;\n    }\n    return function isCompatible(globalVersion) {\n        if (acceptedVersions.has(globalVersion)) {\n            return true;\n        }\n        if (rejectedVersions.has(globalVersion)) {\n            return false;\n        }\n        var globalVersionMatch = globalVersion.match(re);\n        if (!globalVersionMatch) {\n            // cannot parse other version\n            // we cannot guarantee compatibility so we always noop\n            return _reject(globalVersion);\n        }\n        var globalVersionParsed = {\n            major: +globalVersionMatch[1],\n            minor: +globalVersionMatch[2],\n            patch: +globalVersionMatch[3],\n            prerelease: globalVersionMatch[4],\n        };\n        // if globalVersion has a prerelease tag, versions must match exactly\n        if (globalVersionParsed.prerelease != null) {\n            return _reject(globalVersion);\n        }\n        // major versions must match\n        if (ownVersionParsed.major !== globalVersionParsed.major) {\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.major === 0) {\n            if (ownVersionParsed.minor === globalVersionParsed.minor &&\n                ownVersionParsed.patch <= globalVersionParsed.patch) {\n                return _accept(globalVersion);\n            }\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n            return _accept(globalVersion);\n        }\n        return _reject(globalVersion);\n    };\n}\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport var isCompatible = _makeCompatibilityCheck(VERSION);\n//# sourceMappingURL=semver.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { _globalThis } from '../platform';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\nvar major = VERSION.split('.')[0];\nvar GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\"opentelemetry.js.api.\" + major);\nvar _global = _globalThis;\nexport function registerGlobal(type, instance, diag, allowOverride) {\n    var _a;\n    if (allowOverride === void 0) { allowOverride = false; }\n    var api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a !== void 0 ? _a : {\n        version: VERSION,\n    });\n    if (!allowOverride && api[type]) {\n        // already registered an API of this type\n        var err = new Error(\"@opentelemetry/api: Attempted duplicate registration of API: \" + type);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    if (api.version !== VERSION) {\n        // All registered APIs must be of the same version exactly\n        var err = new Error(\"@opentelemetry/api: Registration of version v\" + api.version + \" for \" + type + \" does not match previously registered API v\" + VERSION);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    api[type] = instance;\n    diag.debug(\"@opentelemetry/api: Registered a global for \" + type + \" v\" + VERSION + \".\");\n    return true;\n}\nexport function getGlobal(type) {\n    var _a, _b;\n    var globalVersion = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a === void 0 ? void 0 : _a.version;\n    if (!globalVersion || !isCompatible(globalVersion)) {\n        return;\n    }\n    return (_b = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b === void 0 ? void 0 : _b[type];\n}\nexport function unregisterGlobal(type, diag) {\n    diag.debug(\"@opentelemetry/api: Unregistering a global for \" + type + \" v\" + VERSION + \".\");\n    var api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n    if (api) {\n        delete api[type];\n    }\n}\n//# sourceMappingURL=global-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { getGlobal } from '../internal/global-utils';\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nvar DiagComponentLogger = /** @class */ (function () {\n    function DiagComponentLogger(props) {\n        this._namespace = props.namespace || 'DiagComponentLogger';\n    }\n    DiagComponentLogger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('debug', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('error', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('info', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('warn', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.verbose = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('verbose', this._namespace, args);\n    };\n    return DiagComponentLogger;\n}());\nexport { DiagComponentLogger };\nfunction logProxy(funcName, namespace, args) {\n    var logger = getGlobal('diag');\n    // shortcut if logger not set\n    if (!logger) {\n        return;\n    }\n    args.unshift(namespace);\n    return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n}\n//# sourceMappingURL=ComponentLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport var DiagLogLevel;\n(function (DiagLogLevel) {\n    /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n    DiagLogLevel[DiagLogLevel[\"NONE\"] = 0] = \"NONE\";\n    /** Identifies an error scenario */\n    DiagLogLevel[DiagLogLevel[\"ERROR\"] = 30] = \"ERROR\";\n    /** Identifies a warning scenario */\n    DiagLogLevel[DiagLogLevel[\"WARN\"] = 50] = \"WARN\";\n    /** General informational log message */\n    DiagLogLevel[DiagLogLevel[\"INFO\"] = 60] = \"INFO\";\n    /** General debug log message */\n    DiagLogLevel[DiagLogLevel[\"DEBUG\"] = 70] = \"DEBUG\";\n    /**\n     * Detailed trace level logging should only be used for development, should only be set\n     * in a development environment.\n     */\n    DiagLogLevel[DiagLogLevel[\"VERBOSE\"] = 80] = \"VERBOSE\";\n    /** Used to set the logging level to include all logging */\n    DiagLogLevel[DiagLogLevel[\"ALL\"] = 9999] = \"ALL\";\n})(DiagLogLevel || (DiagLogLevel = {}));\n//# sourceMappingURL=types.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagLogLevel } from '../types';\nexport function createLogLevelDiagLogger(maxLevel, logger) {\n    if (maxLevel < DiagLogLevel.NONE) {\n        maxLevel = DiagLogLevel.NONE;\n    }\n    else if (maxLevel > DiagLogLevel.ALL) {\n        maxLevel = DiagLogLevel.ALL;\n    }\n    // In case the logger is null or undefined\n    logger = logger || {};\n    function _filterFunc(funcName, theLevel) {\n        var theFunc = logger[funcName];\n        if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n            return theFunc.bind(logger);\n        }\n        return function () { };\n    }\n    return {\n        error: _filterFunc('error', DiagLogLevel.ERROR),\n        warn: _filterFunc('warn', DiagLogLevel.WARN),\n        info: _filterFunc('info', DiagLogLevel.INFO),\n        debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n        verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n    };\n}\n//# sourceMappingURL=logLevelLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport { DiagLogLevel, } from '../diag/types';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nvar API_NAME = 'diag';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nvar DiagAPI = /** @class */ (function () {\n    /**\n     * Private internal constructor\n     * @private\n     */\n    function DiagAPI() {\n        function _logProxy(funcName) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var logger = getGlobal('diag');\n                // shortcut if logger not set\n                if (!logger)\n                    return;\n                return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n            };\n        }\n        // Using self local variable for minification purposes as 'this' cannot be minified\n        var self = this;\n        // DiagAPI specific functions\n        var setLogger = function (logger, optionsOrLogLevel) {\n            var _a, _b, _c;\n            if (optionsOrLogLevel === void 0) { optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }; }\n            if (logger === self) {\n                // There isn't much we can do here.\n                // Logging to the console might break the user application.\n                // Try to log to self. If a logger was previously registered it will receive the log.\n                var err = new Error('Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation');\n                self.error((_a = err.stack) !== null && _a !== void 0 ? _a : err.message);\n                return false;\n            }\n            if (typeof optionsOrLogLevel === 'number') {\n                optionsOrLogLevel = {\n                    logLevel: optionsOrLogLevel,\n                };\n            }\n            var oldLogger = getGlobal('diag');\n            var newLogger = createLogLevelDiagLogger((_b = optionsOrLogLevel.logLevel) !== null && _b !== void 0 ? _b : DiagLogLevel.INFO, logger);\n            // There already is an logger registered. We'll let it know before overwriting it.\n            if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n                var stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : '<failed to generate stacktrace>';\n                oldLogger.warn(\"Current logger will be overwritten from \" + stack);\n                newLogger.warn(\"Current logger will overwrite one already registered from \" + stack);\n            }\n            return registerGlobal('diag', newLogger, self, true);\n        };\n        self.setLogger = setLogger;\n        self.disable = function () {\n            unregisterGlobal(API_NAME, self);\n        };\n        self.createComponentLogger = function (options) {\n            return new DiagComponentLogger(options);\n        };\n        self.verbose = _logProxy('verbose');\n        self.debug = _logProxy('debug');\n        self.info = _logProxy('info');\n        self.warn = _logProxy('warn');\n        self.error = _logProxy('error');\n    }\n    /** Get the singleton instance of the DiagAPI API */\n    DiagAPI.instance = function () {\n        if (!this._instance) {\n            this._instance = new DiagAPI();\n        }\n        return this._instance;\n    };\n    return DiagAPI;\n}());\nexport { DiagAPI };\n//# sourceMappingURL=diag.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar BaggageImpl = /** @class */ (function () {\n    function BaggageImpl(entries) {\n        this._entries = entries ? new Map(entries) : new Map();\n    }\n    BaggageImpl.prototype.getEntry = function (key) {\n        var entry = this._entries.get(key);\n        if (!entry) {\n            return undefined;\n        }\n        return Object.assign({}, entry);\n    };\n    BaggageImpl.prototype.getAllEntries = function () {\n        return Array.from(this._entries.entries()).map(function (_a) {\n            var _b = __read(_a, 2), k = _b[0], v = _b[1];\n            return [k, v];\n        });\n    };\n    BaggageImpl.prototype.setEntry = function (key, entry) {\n        var newBaggage = new BaggageImpl(this._entries);\n        newBaggage._entries.set(key, entry);\n        return newBaggage;\n    };\n    BaggageImpl.prototype.removeEntry = function (key) {\n        var newBaggage = new BaggageImpl(this._entries);\n        newBaggage._entries.delete(key);\n        return newBaggage;\n    };\n    BaggageImpl.prototype.removeEntries = function () {\n        var e_1, _a;\n        var keys = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            keys[_i] = arguments[_i];\n        }\n        var newBaggage = new BaggageImpl(this._entries);\n        try {\n            for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n                var key = keys_1_1.value;\n                newBaggage._entries.delete(key);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return newBaggage;\n    };\n    BaggageImpl.prototype.clear = function () {\n        return new BaggageImpl();\n    };\n    return BaggageImpl;\n}());\nexport { BaggageImpl };\n//# sourceMappingURL=baggage-impl.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagAPI } from '../api/diag';\nimport { BaggageImpl } from './internal/baggage-impl';\nimport { baggageEntryMetadataSymbol } from './internal/symbol';\nvar diag = DiagAPI.instance();\n/**\n * Create a new Baggage with optional entries\n *\n * @param entries An array of baggage entries the new baggage should contain\n */\nexport function createBaggage(entries) {\n    if (entries === void 0) { entries = {}; }\n    return new BaggageImpl(new Map(Object.entries(entries)));\n}\n/**\n * Create a serializable BaggageEntryMetadata object from a string.\n *\n * @param str string metadata. Format is currently not defined by the spec and has no special meaning.\n *\n */\nexport function baggageEntryMetadataFromString(str) {\n    if (typeof str !== 'string') {\n        diag.error(\"Cannot create baggage metadata from unknown type: \" + typeof str);\n        str = '';\n    }\n    return {\n        __TYPE__: baggageEntryMetadataSymbol,\n        toString: function () {\n            return str;\n        },\n    };\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description) {\n    // The specification states that for the same input, multiple calls should\n    // return different keys. Due to the nature of the JS dependency management\n    // system, this creates problems where multiple versions of some package\n    // could hold different keys for the same property.\n    //\n    // Therefore, we use Symbol.for which returns the same key for the same input.\n    return Symbol.for(description);\n}\nvar BaseContext = /** @class */ (function () {\n    /**\n     * Construct a new context which inherits values from an optional parent context.\n     *\n     * @param parentContext a context from which to inherit values\n     */\n    function BaseContext(parentContext) {\n        // for minification\n        var self = this;\n        self._currentContext = parentContext ? new Map(parentContext) : new Map();\n        self.getValue = function (key) { return self._currentContext.get(key); };\n        self.setValue = function (key, value) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.set(key, value);\n            return context;\n        };\n        self.deleteValue = function (key) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.delete(key);\n            return context;\n        };\n    }\n    return BaseContext;\n}());\n/** The root context is used as the default parent context when there is no active context */\nexport var ROOT_CONTEXT = new BaseContext();\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * NoopMeter is a noop implementation of the {@link Meter} interface. It reuses\n * constant NoopMetrics for all of its methods.\n */\nvar NoopMeter = /** @class */ (function () {\n    function NoopMeter() {\n    }\n    /**\n     * @see {@link Meter.createGauge}\n     */\n    NoopMeter.prototype.createGauge = function (_name, _options) {\n        return NOOP_GAUGE_METRIC;\n    };\n    /**\n     * @see {@link Meter.createHistogram}\n     */\n    NoopMeter.prototype.createHistogram = function (_name, _options) {\n        return NOOP_HISTOGRAM_METRIC;\n    };\n    /**\n     * @see {@link Meter.createCounter}\n     */\n    NoopMeter.prototype.createCounter = function (_name, _options) {\n        return NOOP_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createUpDownCounter}\n     */\n    NoopMeter.prototype.createUpDownCounter = function (_name, _options) {\n        return NOOP_UP_DOWN_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableGauge}\n     */\n    NoopMeter.prototype.createObservableGauge = function (_name, _options) {\n        return NOOP_OBSERVABLE_GAUGE_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableCounter}\n     */\n    NoopMeter.prototype.createObservableCounter = function (_name, _options) {\n        return NOOP_OBSERVABLE_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableUpDownCounter}\n     */\n    NoopMeter.prototype.createObservableUpDownCounter = function (_name, _options) {\n        return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.addBatchObservableCallback}\n     */\n    NoopMeter.prototype.addBatchObservableCallback = function (_callback, _observables) { };\n    /**\n     * @see {@link Meter.removeBatchObservableCallback}\n     */\n    NoopMeter.prototype.removeBatchObservableCallback = function (_callback) { };\n    return NoopMeter;\n}());\nexport { NoopMeter };\nvar NoopMetric = /** @class */ (function () {\n    function NoopMetric() {\n    }\n    return NoopMetric;\n}());\nexport { NoopMetric };\nvar NoopCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopCounterMetric, _super);\n    function NoopCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopCounterMetric.prototype.add = function (_value, _attributes) { };\n    return NoopCounterMetric;\n}(NoopMetric));\nexport { NoopCounterMetric };\nvar NoopUpDownCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopUpDownCounterMetric, _super);\n    function NoopUpDownCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopUpDownCounterMetric.prototype.add = function (_value, _attributes) { };\n    return NoopUpDownCounterMetric;\n}(NoopMetric));\nexport { NoopUpDownCounterMetric };\nvar NoopGaugeMetric = /** @class */ (function (_super) {\n    __extends(NoopGaugeMetric, _super);\n    function NoopGaugeMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopGaugeMetric.prototype.record = function (_value, _attributes) { };\n    return NoopGaugeMetric;\n}(NoopMetric));\nexport { NoopGaugeMetric };\nvar NoopHistogramMetric = /** @class */ (function (_super) {\n    __extends(NoopHistogramMetric, _super);\n    function NoopHistogramMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopHistogramMetric.prototype.record = function (_value, _attributes) { };\n    return NoopHistogramMetric;\n}(NoopMetric));\nexport { NoopHistogramMetric };\nvar NoopObservableMetric = /** @class */ (function () {\n    function NoopObservableMetric() {\n    }\n    NoopObservableMetric.prototype.addCallback = function (_callback) { };\n    NoopObservableMetric.prototype.removeCallback = function (_callback) { };\n    return NoopObservableMetric;\n}());\nexport { NoopObservableMetric };\nvar NoopObservableCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableCounterMetric, _super);\n    function NoopObservableCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableCounterMetric;\n}(NoopObservableMetric));\nexport { NoopObservableCounterMetric };\nvar NoopObservableGaugeMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableGaugeMetric, _super);\n    function NoopObservableGaugeMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableGaugeMetric;\n}(NoopObservableMetric));\nexport { NoopObservableGaugeMetric };\nvar NoopObservableUpDownCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableUpDownCounterMetric, _super);\n    function NoopObservableUpDownCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableUpDownCounterMetric;\n}(NoopObservableMetric));\nexport { NoopObservableUpDownCounterMetric };\nexport var NOOP_METER = new NoopMeter();\n// Synchronous instruments\nexport var NOOP_COUNTER_METRIC = new NoopCounterMetric();\nexport var NOOP_GAUGE_METRIC = new NoopGaugeMetric();\nexport var NOOP_HISTOGRAM_METRIC = new NoopHistogramMetric();\nexport var NOOP_UP_DOWN_COUNTER_METRIC = new NoopUpDownCounterMetric();\n// Asynchronous instruments\nexport var NOOP_OBSERVABLE_COUNTER_METRIC = new NoopObservableCounterMetric();\nexport var NOOP_OBSERVABLE_GAUGE_METRIC = new NoopObservableGaugeMetric();\nexport var NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC = new NoopObservableUpDownCounterMetric();\n/**\n * Create a no-op Meter\n */\nexport function createNoopMeter() {\n    return NOOP_METER;\n}\n//# sourceMappingURL=NoopMeter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var defaultTextMapGetter = {\n    get: function (carrier, key) {\n        if (carrier == null) {\n            return undefined;\n        }\n        return carrier[key];\n    },\n    keys: function (carrier) {\n        if (carrier == null) {\n            return [];\n        }\n        return Object.keys(carrier);\n    },\n};\nexport var defaultTextMapSetter = {\n    set: function (carrier, key, value) {\n        if (carrier == null) {\n            return;\n        }\n        carrier[key] = value;\n    },\n};\n//# sourceMappingURL=TextMapPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ROOT_CONTEXT } from './context';\nvar NoopContextManager = /** @class */ (function () {\n    function NoopContextManager() {\n    }\n    NoopContextManager.prototype.active = function () {\n        return ROOT_CONTEXT;\n    };\n    NoopContextManager.prototype.with = function (_context, fn, thisArg) {\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return fn.call.apply(fn, __spreadArray([thisArg], __read(args), false));\n    };\n    NoopContextManager.prototype.bind = function (_context, target) {\n        return target;\n    };\n    NoopContextManager.prototype.enable = function () {\n        return this;\n    };\n    NoopContextManager.prototype.disable = function () {\n        return this;\n    };\n    return NoopContextManager;\n}());\nexport { NoopContextManager };\n//# sourceMappingURL=NoopContextManager.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'context';\nvar NOOP_CONTEXT_MANAGER = new NoopContextManager();\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nvar ContextAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function ContextAPI() {\n    }\n    /** Get the singleton instance of the Context API */\n    ContextAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new ContextAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current context manager.\n     *\n     * @returns true if the context manager was successfully registered, else false\n     */\n    ContextAPI.prototype.setGlobalContextManager = function (contextManager) {\n        return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n    };\n    /**\n     * Get the currently active context\n     */\n    ContextAPI.prototype.active = function () {\n        return this._getContextManager().active();\n    };\n    /**\n     * Execute a function with an active context\n     *\n     * @param context context to be active during function execution\n     * @param fn function to execute in a context\n     * @param thisArg optional receiver to be used for calling fn\n     * @param args optional arguments forwarded to fn\n     */\n    ContextAPI.prototype.with = function (context, fn, thisArg) {\n        var _a;\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return (_a = this._getContextManager()).with.apply(_a, __spreadArray([context, fn, thisArg], __read(args), false));\n    };\n    /**\n     * Bind a context to a target function or event emitter\n     *\n     * @param context context to bind to the event emitter or function. Defaults to the currently active context\n     * @param target function or event emitter to bind\n     */\n    ContextAPI.prototype.bind = function (context, target) {\n        return this._getContextManager().bind(context, target);\n    };\n    ContextAPI.prototype._getContextManager = function () {\n        return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n    };\n    /** Disable and remove the global context manager */\n    ContextAPI.prototype.disable = function () {\n        this._getContextManager().disable();\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    return ContextAPI;\n}());\nexport { ContextAPI };\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var TraceFlags;\n(function (TraceFlags) {\n    /** Represents no flag set. */\n    TraceFlags[TraceFlags[\"NONE\"] = 0] = \"NONE\";\n    /** Bit to represent whether trace is sampled in trace flags. */\n    TraceFlags[TraceFlags[\"SAMPLED\"] = 1] = \"SAMPLED\";\n})(TraceFlags || (TraceFlags = {}));\n//# sourceMappingURL=trace_flags.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TraceFlags } from './trace_flags';\nexport var INVALID_SPANID = '0000000000000000';\nexport var INVALID_TRACEID = '00000000000000000000000000000000';\nexport var INVALID_SPAN_CONTEXT = {\n    traceId: INVALID_TRACEID,\n    spanId: INVALID_SPANID,\n    traceFlags: TraceFlags.NONE,\n};\n//# sourceMappingURL=invalid-span-constants.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nvar NonRecordingSpan = /** @class */ (function () {\n    function NonRecordingSpan(_spanContext) {\n        if (_spanContext === void 0) { _spanContext = INVALID_SPAN_CONTEXT; }\n        this._spanContext = _spanContext;\n    }\n    // Returns a SpanContext.\n    NonRecordingSpan.prototype.spanContext = function () {\n        return this._spanContext;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttribute = function (_key, _value) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttributes = function (_attributes) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.addEvent = function (_name, _attributes) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLink = function (_link) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLinks = function (_links) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setStatus = function (_status) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.updateName = function (_name) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.end = function (_endTime) { };\n    // isRecording always returns false for NonRecordingSpan.\n    NonRecordingSpan.prototype.isRecording = function () {\n        return false;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.recordException = function (_exception, _time) { };\n    return NonRecordingSpan;\n}());\nexport { NonRecordingSpan };\n//# sourceMappingURL=NonRecordingSpan.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '../context/context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n/**\n * span key\n */\nvar SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context) {\n    return context.getValue(SPAN_KEY) || undefined;\n}\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan() {\n    return getSpan(ContextAPI.getInstance().active());\n}\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context, span) {\n    return context.setValue(SPAN_KEY, span);\n}\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context) {\n    return context.deleteValue(SPAN_KEY);\n}\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(context, spanContext) {\n    return setSpan(context, new NonRecordingSpan(spanContext));\n}\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context) {\n    var _a;\n    return (_a = getSpan(context)) === null || _a === void 0 ? void 0 : _a.spanContext();\n}\n//# sourceMappingURL=context-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nvar VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nvar VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\nexport function isValidTraceId(traceId) {\n    return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\nexport function isValidSpanId(spanId) {\n    return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext) {\n    return (isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId));\n}\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext) {\n    return new NonRecordingSpan(spanContext);\n}\n//# sourceMappingURL=spancontext-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ContextAPI } from '../api/context';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { isSpanContextValid } from './spancontext-utils';\nvar contextApi = ContextAPI.getInstance();\n/**\n * No-op implementations of {@link Tracer}.\n */\nvar NoopTracer = /** @class */ (function () {\n    function NoopTracer() {\n    }\n    // startSpan starts a noop span.\n    NoopTracer.prototype.startSpan = function (name, options, context) {\n        if (context === void 0) { context = contextApi.active(); }\n        var root = Boolean(options === null || options === void 0 ? void 0 : options.root);\n        if (root) {\n            return new NonRecordingSpan();\n        }\n        var parentFromContext = context && getSpanContext(context);\n        if (isSpanContext(parentFromContext) &&\n            isSpanContextValid(parentFromContext)) {\n            return new NonRecordingSpan(parentFromContext);\n        }\n        else {\n            return new NonRecordingSpan();\n        }\n    };\n    NoopTracer.prototype.startActiveSpan = function (name, arg2, arg3, arg4) {\n        var opts;\n        var ctx;\n        var fn;\n        if (arguments.length < 2) {\n            return;\n        }\n        else if (arguments.length === 2) {\n            fn = arg2;\n        }\n        else if (arguments.length === 3) {\n            opts = arg2;\n            fn = arg3;\n        }\n        else {\n            opts = arg2;\n            ctx = arg3;\n            fn = arg4;\n        }\n        var parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();\n        var span = this.startSpan(name, opts, parentContext);\n        var contextWithSpanSet = setSpan(parentContext, span);\n        return contextApi.with(contextWithSpanSet, fn, undefined, span);\n    };\n    return NoopTracer;\n}());\nexport { NoopTracer };\nfunction isSpanContext(spanContext) {\n    return (typeof spanContext === 'object' &&\n        typeof spanContext['spanId'] === 'string' &&\n        typeof spanContext['traceId'] === 'string' &&\n        typeof spanContext['traceFlags'] === 'number');\n}\n//# sourceMappingURL=NoopTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\nvar NOOP_TRACER = new NoopTracer();\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nvar ProxyTracer = /** @class */ (function () {\n    function ProxyTracer(_provider, name, version, options) {\n        this._provider = _provider;\n        this.name = name;\n        this.version = version;\n        this.options = options;\n    }\n    ProxyTracer.prototype.startSpan = function (name, options, context) {\n        return this._getTracer().startSpan(name, options, context);\n    };\n    ProxyTracer.prototype.startActiveSpan = function (_name, _options, _context, _fn) {\n        var tracer = this._getTracer();\n        return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n    };\n    /**\n     * Try to get a tracer from the proxy tracer provider.\n     * If the proxy tracer provider has no delegate, return a noop tracer.\n     */\n    ProxyTracer.prototype._getTracer = function () {\n        if (this._delegate) {\n            return this._delegate;\n        }\n        var tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);\n        if (!tracer) {\n            return NOOP_TRACER;\n        }\n        this._delegate = tracer;\n        return this._delegate;\n    };\n    return ProxyTracer;\n}());\nexport { ProxyTracer };\n//# sourceMappingURL=ProxyTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nvar NoopTracerProvider = /** @class */ (function () {\n    function NoopTracerProvider() {\n    }\n    NoopTracerProvider.prototype.getTracer = function (_name, _version, _options) {\n        return new NoopTracer();\n    };\n    return NoopTracerProvider;\n}());\nexport { NoopTracerProvider };\n//# sourceMappingURL=NoopTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nvar NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nvar ProxyTracerProvider = /** @class */ (function () {\n    function ProxyTracerProvider() {\n    }\n    /**\n     * Get a {@link ProxyTracer}\n     */\n    ProxyTracerProvider.prototype.getTracer = function (name, version, options) {\n        var _a;\n        return ((_a = this.getDelegateTracer(name, version, options)) !== null && _a !== void 0 ? _a : new ProxyTracer(this, name, version, options));\n    };\n    ProxyTracerProvider.prototype.getDelegate = function () {\n        var _a;\n        return (_a = this._delegate) !== null && _a !== void 0 ? _a : NOOP_TRACER_PROVIDER;\n    };\n    /**\n     * Set the delegate tracer provider\n     */\n    ProxyTracerProvider.prototype.setDelegate = function (delegate) {\n        this._delegate = delegate;\n    };\n    ProxyTracerProvider.prototype.getDelegateTracer = function (name, version, options) {\n        var _a;\n        return (_a = this._delegate) === null || _a === void 0 ? void 0 : _a.getTracer(name, version, options);\n    };\n    return ProxyTracerProvider;\n}());\nexport { ProxyTracerProvider };\n//# sourceMappingURL=ProxyTracerProvider.js.map","/**\n * An enumeration of status codes.\n */\nexport var SpanStatusCode;\n(function (SpanStatusCode) {\n    /**\n     * The default status.\n     */\n    SpanStatusCode[SpanStatusCode[\"UNSET\"] = 0] = \"UNSET\";\n    /**\n     * The operation has been validated by an Application developer or\n     * Operator to have completed successfully.\n     */\n    SpanStatusCode[SpanStatusCode[\"OK\"] = 1] = \"OK\";\n    /**\n     * The operation contains an error.\n     */\n    SpanStatusCode[SpanStatusCode[\"ERROR\"] = 2] = \"ERROR\";\n})(SpanStatusCode || (SpanStatusCode = {}));\n//# sourceMappingURL=status.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { ContextAPI } from './api/context';\n/** Entrypoint for context API */\nexport var context = ContextAPI.getInstance();\n//# sourceMappingURL=context-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { DiagAPI } from './api/diag';\n/**\n * Entrypoint for Diag API.\n * Defines Diagnostic handler used for internal diagnostic logging operations.\n * The default provides a Noop DiagLogger implementation which may be changed via the\n * diag.setLogger(logger: DiagLogger) function.\n */\nexport var diag = DiagAPI.instance();\n//# sourceMappingURL=diag-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NOOP_METER } from './NoopMeter';\n/**\n * An implementation of the {@link MeterProvider} which returns an impotent Meter\n * for all calls to `getMeter`\n */\nvar NoopMeterProvider = /** @class */ (function () {\n    function NoopMeterProvider() {\n    }\n    NoopMeterProvider.prototype.getMeter = function (_name, _version, _options) {\n        return NOOP_METER;\n    };\n    return NoopMeterProvider;\n}());\nexport { NoopMeterProvider };\nexport var NOOP_METER_PROVIDER = new NoopMeterProvider();\n//# sourceMappingURL=NoopMeterProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NOOP_METER_PROVIDER } from '../metrics/NoopMeterProvider';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'metrics';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Metrics API\n */\nvar MetricsAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function MetricsAPI() {\n    }\n    /** Get the singleton instance of the Metrics API */\n    MetricsAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new MetricsAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current global meter provider.\n     * Returns true if the meter provider was successfully registered, else false.\n     */\n    MetricsAPI.prototype.setGlobalMeterProvider = function (provider) {\n        return registerGlobal(API_NAME, provider, DiagAPI.instance());\n    };\n    /**\n     * Returns the global meter provider.\n     */\n    MetricsAPI.prototype.getMeterProvider = function () {\n        return getGlobal(API_NAME) || NOOP_METER_PROVIDER;\n    };\n    /**\n     * Returns a meter from the global meter provider.\n     */\n    MetricsAPI.prototype.getMeter = function (name, version, options) {\n        return this.getMeterProvider().getMeter(name, version, options);\n    };\n    /** Remove the global meter provider */\n    MetricsAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    return MetricsAPI;\n}());\nexport { MetricsAPI };\n//# sourceMappingURL=metrics.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { MetricsAPI } from './api/metrics';\n/** Entrypoint for metrics API */\nexport var metrics = MetricsAPI.getInstance();\n//# sourceMappingURL=metrics-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * No-op implementations of {@link TextMapPropagator}.\n */\nvar NoopTextMapPropagator = /** @class */ (function () {\n    function NoopTextMapPropagator() {\n    }\n    /** Noop inject function does nothing */\n    NoopTextMapPropagator.prototype.inject = function (_context, _carrier) { };\n    /** Noop extract function does nothing and returns the input context */\n    NoopTextMapPropagator.prototype.extract = function (context, _carrier) {\n        return context;\n    };\n    NoopTextMapPropagator.prototype.fields = function () {\n        return [];\n    };\n    return NoopTextMapPropagator;\n}());\nexport { NoopTextMapPropagator };\n//# sourceMappingURL=NoopTextMapPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ContextAPI } from '../api/context';\nimport { createContextKey } from '../context/context';\n/**\n * Baggage key\n */\nvar BAGGAGE_KEY = createContextKey('OpenTelemetry Baggage Key');\n/**\n * Retrieve the current baggage from the given context\n *\n * @param {Context} Context that manage all context values\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getBaggage(context) {\n    return context.getValue(BAGGAGE_KEY) || undefined;\n}\n/**\n * Retrieve the current baggage from the active/current context\n *\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getActiveBaggage() {\n    return getBaggage(ContextAPI.getInstance().active());\n}\n/**\n * Store a baggage in the given context\n *\n * @param {Context} Context that manage all context values\n * @param {Baggage} baggage that will be set in the actual context\n */\nexport function setBaggage(context, baggage) {\n    return context.setValue(BAGGAGE_KEY, baggage);\n}\n/**\n * Delete the baggage stored in the given context\n *\n * @param {Context} Context that manage all context values\n */\nexport function deleteBaggage(context) {\n    return context.deleteValue(BAGGAGE_KEY);\n}\n//# sourceMappingURL=context-helpers.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { NoopTextMapPropagator } from '../propagation/NoopTextMapPropagator';\nimport { defaultTextMapGetter, defaultTextMapSetter, } from '../propagation/TextMapPropagator';\nimport { getBaggage, getActiveBaggage, setBaggage, deleteBaggage, } from '../baggage/context-helpers';\nimport { createBaggage } from '../baggage/utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'propagation';\nvar NOOP_TEXT_MAP_PROPAGATOR = new NoopTextMapPropagator();\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Propagation API\n */\nvar PropagationAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function PropagationAPI() {\n        this.createBaggage = createBaggage;\n        this.getBaggage = getBaggage;\n        this.getActiveBaggage = getActiveBaggage;\n        this.setBaggage = setBaggage;\n        this.deleteBaggage = deleteBaggage;\n    }\n    /** Get the singleton instance of the Propagator API */\n    PropagationAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new PropagationAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current propagator.\n     *\n     * @returns true if the propagator was successfully registered, else false\n     */\n    PropagationAPI.prototype.setGlobalPropagator = function (propagator) {\n        return registerGlobal(API_NAME, propagator, DiagAPI.instance());\n    };\n    /**\n     * Inject context into a carrier to be propagated inter-process\n     *\n     * @param context Context carrying tracing data to inject\n     * @param carrier carrier to inject context into\n     * @param setter Function used to set values on the carrier\n     */\n    PropagationAPI.prototype.inject = function (context, carrier, setter) {\n        if (setter === void 0) { setter = defaultTextMapSetter; }\n        return this._getGlobalPropagator().inject(context, carrier, setter);\n    };\n    /**\n     * Extract context from a carrier\n     *\n     * @param context Context which the newly created context will inherit from\n     * @param carrier Carrier to extract context from\n     * @param getter Function used to extract keys from a carrier\n     */\n    PropagationAPI.prototype.extract = function (context, carrier, getter) {\n        if (getter === void 0) { getter = defaultTextMapGetter; }\n        return this._getGlobalPropagator().extract(context, carrier, getter);\n    };\n    /**\n     * Return a list of all fields which may be used by the propagator.\n     */\n    PropagationAPI.prototype.fields = function () {\n        return this._getGlobalPropagator().fields();\n    };\n    /** Remove the global propagator */\n    PropagationAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    PropagationAPI.prototype._getGlobalPropagator = function () {\n        return getGlobal(API_NAME) || NOOP_TEXT_MAP_PROPAGATOR;\n    };\n    return PropagationAPI;\n}());\nexport { PropagationAPI };\n//# sourceMappingURL=propagation.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { PropagationAPI } from './api/propagation';\n/** Entrypoint for propagation API */\nexport var propagation = PropagationAPI.getInstance();\n//# sourceMappingURL=propagation-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport { isSpanContextValid, wrapSpanContext, } from '../trace/spancontext-utils';\nimport { deleteSpan, getActiveSpan, getSpan, getSpanContext, setSpan, setSpanContext, } from '../trace/context-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'trace';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nvar TraceAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function TraceAPI() {\n        this._proxyTracerProvider = new ProxyTracerProvider();\n        this.wrapSpanContext = wrapSpanContext;\n        this.isSpanContextValid = isSpanContextValid;\n        this.deleteSpan = deleteSpan;\n        this.getSpan = getSpan;\n        this.getActiveSpan = getActiveSpan;\n        this.getSpanContext = getSpanContext;\n        this.setSpan = setSpan;\n        this.setSpanContext = setSpanContext;\n    }\n    /** Get the singleton instance of the Trace API */\n    TraceAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new TraceAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current global tracer.\n     *\n     * @returns true if the tracer provider was successfully registered, else false\n     */\n    TraceAPI.prototype.setGlobalTracerProvider = function (provider) {\n        var success = registerGlobal(API_NAME, this._proxyTracerProvider, DiagAPI.instance());\n        if (success) {\n            this._proxyTracerProvider.setDelegate(provider);\n        }\n        return success;\n    };\n    /**\n     * Returns the global tracer provider.\n     */\n    TraceAPI.prototype.getTracerProvider = function () {\n        return getGlobal(API_NAME) || this._proxyTracerProvider;\n    };\n    /**\n     * Returns a tracer from the global tracer provider.\n     */\n    TraceAPI.prototype.getTracer = function (name, version) {\n        return this.getTracerProvider().getTracer(name, version);\n    };\n    /** Remove the global tracer provider */\n    TraceAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n        this._proxyTracerProvider = new ProxyTracerProvider();\n    };\n    return TraceAPI;\n}());\nexport { TraceAPI };\n//# sourceMappingURL=trace.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { TraceAPI } from './api/trace';\n/** Entrypoint for trace API */\nexport var trace = TraceAPI.getInstance();\n//# sourceMappingURL=trace-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { baggageEntryMetadataFromString } from './baggage/utils';\n// Context APIs\nexport { createContextKey, ROOT_CONTEXT } from './context/context';\n// Diag APIs\nexport { DiagConsoleLogger } from './diag/consoleLogger';\nexport { DiagLogLevel, } from './diag/types';\n// Metrics APIs\nexport { createNoopMeter } from './metrics/NoopMeter';\nexport { ValueType, } from './metrics/Metric';\n// Propagation APIs\nexport { defaultTextMapGetter, defaultTextMapSetter, } from './propagation/TextMapPropagator';\nexport { ProxyTracer } from './trace/ProxyTracer';\nexport { ProxyTracerProvider } from './trace/ProxyTracerProvider';\nexport { SamplingDecision } from './trace/SamplingResult';\nexport { SpanKind } from './trace/span_kind';\nexport { SpanStatusCode } from './trace/status';\nexport { TraceFlags } from './trace/trace_flags';\nexport { createTraceState } from './trace/internal/utils';\nexport { isSpanContextValid, isValidTraceId, isValidSpanId, } from './trace/spancontext-utils';\nexport { INVALID_SPANID, INVALID_TRACEID, INVALID_SPAN_CONTEXT, } from './trace/invalid-span-constants';\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { context } from './context-api';\nimport { diag } from './diag-api';\nimport { metrics } from './metrics-api';\nimport { propagation } from './propagation-api';\nimport { trace } from './trace-api';\n// Named export.\nexport { context, diag, metrics, propagation, trace };\n// Default export.\nexport default {\n    context: context,\n    diag: diag,\n    metrics: metrics,\n    propagation: propagation,\n    trace: trace,\n};\n//# sourceMappingURL=index.js.map","import{isAnyFunction as t}from\"@dcx/util\";import e,{SpanStatusCode as n}from\"@opentelemetry/api\";const r=\"9.10.0\";function o(t){return function(e){e.traceableAs=()=>t}}function c(t,o,c){const a=function(...a){const s=e.trace.getTracer(\"dcx-js\",r).startSpan(t);c&&s.setAttributes(c);const i=e.trace.setSpan(e.context.active(),s);try{const t=e.context.with(i,(()=>o.apply(this,a)));return s.setStatus({code:n.OK}),t&&t instanceof Promise?t.catch((t=>{throw t instanceof Error&&(s.recordException(t),s.setStatus({code:n.ERROR,message:t.message})),t})).finally((()=>{s.end()})):(s.end(),t)}catch(t){throw t instanceof Error&&(s.recordException(t),s.setStatus({code:n.ERROR,message:t.message})),s.end(),t}};return Object.defineProperties(a,{name:{value:o.name},length:{value:o.length}}),a}function a(e,n,r){var o;let a;t(e)&&(null===(o=e.prototype)||void 0===o?void 0:o.constructor)?a=e.prototype.constructor:\"object\"==typeof e&&e.constructor&&(a=e.constructor);const s=r.value;return r.value=function(...e){let r=n;if(a){let e;e=t(a.traceableAs)?a.traceableAs():a.name,r=e+\".\"+r}return c(r,s).apply(this,e)},r}function s(t,n){var r;null===(r=e.trace.getActiveSpan())||void 0===r||r.setAttribute(t,n||\"\")}export{s as setTracingSpanAttribute,c as telemetrySpan,a as trace,o as traceableAs};\n//# sourceMappingURL=index.js.map\n","import e,{_defaultStatusValidator as t,ErrorCodes as s,HTTP_STATUS_ERROR_MAP as n,isAdobeDCXError as r,DCXError as i,_handleErrorResponsePayload as o,ProblemTypes as a,AdobeDCXError as c,_responseToError as d,unexpectedResponse as l}from\"@dcx/error\";export{ProblemTypes}from\"@dcx/error\";import{newDebug as h,AdobeDCXLogger as u}from\"@dcx/logger\";import p from\"@dcx/promise\";import{isObject as _,isAnyFunction as E,getLinkProperty as f,validateParam as I,merge as T,pruneUndefined as g,parse as A,getLinkHref as y,validateParams as R,isArray as O,getLinkHrefTemplated as v,EventEmitter as b,assert as m,concatUint8Arrays as P,getFirstRegexpCapture as S,arrayBufferToString as D,stringToBuffer as k,isArrayBuffer as N,parseHeaders as C,checkRetriable as L,expandURITemplate as M,isWHATWGReadableStream as B,isNodeReadableStream as w,generateUuid as j,mergeDeep as x,normalizeHeaders as U,provideLink as V,now as H,retriesWithDelayOnError as G,verifyUuid as Y,chunkArray as F,appendPathElements as z}from\"@dcx/util\";import{telemetrySpan as $,setTracingSpanAttribute as W}from\"@dcx/telemetry\";const K={ACCESS_CHECK:\"http://ns.adobe.com/adobecloud/rel/ac/check\",ACL_POLICY:\"http://ns.adobe.com/adobecloud/rel/ac/policy\",ANNOTATIONS:\"http://ns.adobe.com/adobecloud/rel/annotations\",APP_METADATA:\"http://ns.adobe.com/adobecloud/rel/metadata/application\",BASE_DIRECTORY:\"http://ns.adobe.com/adobecloud/rel/directory/base\",BLOCK_DOWNLOAD:\"http://ns.adobe.com/adobecloud/rel/download\",BLOCK_EXTEND:\"http://ns.adobe.com/adobecloud/rel/block/extend\",BLOCK_FINALIZE:\"http://ns.adobe.com/adobecloud/rel/block/finalize\",BLOCK_TRANSFER:\"http://ns.adobe.com/adobecloud/rel/block/transfer\",BLOCK_UPLOAD_INIT:\"http://ns.adobe.com/adobecloud/rel/block/init\",BULK_REQUEST:\"http://ns.adobe.com/adobecloud/rel/bulk\",COMPONENT:\"http://ns.adobe.com/adobecloud/rel/component\",CREATE:\"http://ns.adobe.com/adobecloud/rel/create\",DESCRIBED_BY:\"describedBy\",DIRECTORY:\"http://ns.adobe.com/adobecloud/rel/directory\",DISCARD:\"http://ns.adobe.com/adobecloud/rel/discard\",EFFECTIVE_PRIVILAGES:\"http://ns.adobe.com/adobecloud/rel/ac/effective\",EMBEDDED_METADATA:\"http://ns.adobe.com/adobecloud/rel/metadata/embedded\",ID:\"http://ns.adobe.com/adobecloud/rel/id\",MANIFEST:\"http://ns.adobe.com/adobecloud/rel/manifest\",PAGE:\"http://ns.adobe.com/adobecloud/rel/page\",PATH:\"http://ns.adobe.com/adobecloud/rel/path\",PRIMARY:\"http://ns.adobe.com/adobecloud/rel/primary\",RENDITION:\"http://ns.adobe.com/adobecloud/rel/rendition\",REPO_METADATA:\"http://ns.adobe.com/adobecloud/rel/metadata/repository\",REPO_OPS:\"http://ns.adobe.com/adobecloud/rel/ops\",REPOSITORY:\"http://ns.adobe.com/adobecloud/rel/repository\",RESOLVE_BY_ID:\"http://ns.adobe.com/adobecloud/rel/resolve/id\",RESOLVE_BY_PATH:\"http://ns.adobe.com/adobecloud/rel/resolve/path\",RESTORE:\"http://ns.adobe.com/adobecloud/rel/restore\",VERSION_HISTORY:\"version-history\"};var q,Z,X,J,Q,ee,te,se;function ne(e){return _(e)&&[\"headers\",\"responseType\",\"statusCode\",\"xhr\"].every((t=>t in e))}function re(e){return _(e)&&ne(e.response)}function ie(e){return _(e)&&\"component_id\"in e}function oe(e){return _(e)&&re(e)&&\"result\"in e}function ae(e){return _(e)&&E(e.slice)}function ce(e){return _(e)&&\"resolvePullWithBranch\"in e}function de(e){return _(e)&&([\"compositeId\",\"compositeAssetId\",\"compositeRepositoryId\"].some((t=>t in e))||_(e._core))}function le(e){return _(e)&&(_(e.links)||\"string\"==typeof e.repositoryId&&(\"string\"==typeof e.path||\"string\"==typeof e.assetId))}function he(e){return\"undefined\"!=typeof Blob&&e instanceof Blob}function ue(e){return _(e)&&(\"string\"==typeof e.repositoryId&&\"string\"==typeof e.path||\"string\"==typeof e.assetId)}function pe(e){return _(e)&&(\"AdobeHTTPService\"===e.name||E(e.invoke))}function _e(e){return _(e)&&pe(e.service)}function Ee(e){if(!_(e))return!1;const t=e[q.LINKS];if(!_(t))return!1;return!!(t[K.BLOCK_TRANSFER]&&t[K.BLOCK_EXTEND]&&t[K.BLOCK_FINALIZE])}function fe(e){return t=>{const s={};for(const e in t)s[e.toLowerCase()]=t[e];for(const t of e)s.hasOwnProperty(t.toLowerCase())&&delete s[t.toLowerCase()];return s}}!function(e){e.DC_FORMAT=\"dc:format\",e.DC_TITLE=\"dc:title\",e.LINKS=\"_links\",e.PAGE=\"_page\",e.CHILDREN=\"children\",e.EMBEDDED=\"_embedded\",e.REPO_REPRESENTATIONS=\"repo:representations\",e.REPO_ASSET_ID=\"repo:assetId\",e.REPO_REPOSITORY_ID=\"repo:repositoryId\",e.REPO_REPOSITORY_TYPE=\"repo:repositoryType\",e.REPO_BASE_ASSET_ID=\"repo:baseAssetId\",e.REPO_SIZE=\"repo:size\",e.REPO_NAME=\"repo:name\",e.REPO_PATH=\"repo:path\",e.REPO_ASSET_CLASS=\"repo:assetClass\",e.REPO_CREATE_DATE=\"repo:createDate\",e.REPO_MODIFY_DATE=\"repo:modifyDate\",e.REPO_DISCARD_DATE=\"repo:discardDate\",e.REPO_ETAG=\"repo:etag\",e.REPO_CREATED_BY=\"repo:createdBy\",e.REPO_MODIFIED_BY=\"repo:modifiedBy\",e.REPO_DISCARDED_BY=\"repo:discardedBy\",e.REPO_DEVICE_CREATE_DATE=\"storage:deviceCreateDate\",e.REPO_DEVICE_MODIFY_DATE=\"storage:deviceModifyDate\",e.REPO_DEFAULT_SCHEDULED_DELETION_DURATION=\"repo:defaultScheduledDeletionDuration\",e.REPO_ASSET_TYPE=\"repo:assetType\",e.REPO_ASSET_SUB_TYPE=\"repo:assetSubType\",e.STORAGE_LES=\"storage:les\",e.REPO_SCHEDULED_DELETION_DATE=\"repo:scheduledDeletionDate\",e.REPO_VERSION=\"repo:version\",e.REPO_STATE=\"repo:state\",e.REPO_AVAILABLE_REGIONS=\"repo:availableRegions\",e.REPO_REGIONS=\"repo:regions\",e.REPO_OWNER=\"repo:owner\",e.REPO_OWNER_ID=\"id\",e.REPO_OWNER_TYPE=\"type\",e.REPO_CONTRIBUTORS=\"repo:contributors\",e.REPO_MODIFIED_BY_CLIENT_ID=\"repo:modifiedByClientId\",e.REPO_MODIFIED_BY_CLIENT_AGENT=\"repo:modifiedByClientAgent\",e.REPO_MODIFIED_BY_IP_ADDRESS=\"repo:modifiedByIpAddress\",e.STORAGE_ASSIGNEE=\"storage:assignee\",e.STORAGE_ASSIGNEE_ID=\"id\",e.STORAGE_ASSIGNEE_TYPE=\"type\",e.IMAGE_LENGTH=\"tiff:imageLength\",e.IMAGE_WIDTH=\"tiff:imageWidth\",e.NUM_OF_PAGES=\"xmpTPg:NPages\",e.PAGE_START=\"start\",e.PAGE_ORDER_BY=\"orderBy\",e.PAGE_NEXT=\"next\",e.PAGE_COUNT=\"count\",e.PAGE_LIMIT=\"limit\"}(q||(q={})),function(e){e.REPO_ID=\"repo:id\",e.CREATED=\"created\",e.CREATED_BY=\"created_by\",e.MILESTONE=\"milestone\",e.VERSION=\"version\",e.TOTAL_CHILDREN=\"total_children\"}(Z||(Z={})),function(e){e.REPO_ACL=\"repo:acl\",e.REPO_PRINCIPLE=\"repo:principal\",e.REPO_MODIFIER=\"repo:modifier\",e.REPO_PRIVILEGES=\"repo:privileges\",e.REPO_RELATIONS=\"repo:relations\",e.REPO_INHERITANCE=\"repo:inheritance\"}(X||(X={})),function(e){e.XDM_PROVIDER=\"xdm:provider\",e.ID=\"@id\",e.TYPE=\"@type\"}(J||(J={})),function(e){e.ID=\"@id\"}(Q||(Q={})),function(e){e.XML=\"application/rdf+xml\",e.JSON=\"application/ld+json\"}(ee||(ee={})),function(e){e.REPO_SIZE=\"repo:size\",e.REPO_BLOCK_SIZE=\"repo:blocksize\",e.REPO_REL_TYPE=\"repo:reltype\",e.COMPONENT_ID=\"component_id\",e.DC_FORMAT=\"dc:format\",e.REPO_MD5=\"repo:md5\",e.REPO_EXPIRES=\"repo:expires\",e.REPO_IF_MATCH=\"repo:if-match\",e.MAX_SINGLE_TRANSFER_SIZE=\"repo:maxSingleTransferSize\",e.REPO_MIN_BLOCK_TRANSFER_SIZE=\"repo:minBlockTransferSize\"}(te||(te={})),function(e){e.DEVICE_MODIFY_DATE=\"deviceModifyDate\",e.REPO_META_PATCH=\"repoMetaPatch\",e.RESPOND_WITH=\"respondWith\"}(se||(se={}));const Ie=h(\"dcx:assets:service\"),Te=e=>_e(e)?e.service:e,ge=e=>_e(e)?e.cache:void 0;function Ae(e,t){Ie(\"constructServiceEndpoint()\",e);const s=t._repoAPIBaseUrl;return s&&(e=`${s.endsWith(\"/\")?s.substr(0,s.length-1):s}${e}`),Ie(\"cSE()\",e),e}const ye={Asset:\"asset\",Composite:\"composite\",File:\"file\",Directory:\"directory\",Version:\"version\"};var Re,Oe;!function(e){e.CONTENT_ID=\"content-id\",e.CONTENT_LENGTH=\"content-length\",e.CONTENT_RANGE=\"content-range\",e.CONTENT_TYPE=\"content-type\",e.IF_MATCH=\"if-match\",e.IF_NONE_MATCH=\"if-none-match\",e.AUTHORIZATION=\"authorization\",e.X_API_KEY=\"x-api-key\",e.X_CONTRIBUTORS=\"x-contributors\",e.LES_SEQUENCE_NUMBER=\"les-sequence-number\",e.PREFER=\"prefer\",e.DIRECTIVE=\"directive\"}(Re||(Re={})),function(e){e.GET=\"GET\",e.PUT=\"PUT\",e.PATCH=\"PATCH\",e.HEAD=\"HEAD\",e.POST=\"POST\",e.DELETE=\"DELETE\"}(Oe||(Oe={}));const ve=\"application/vnd.adobecloud.accesscontrolpolicy+json\",be=\"application/vnd.adobecloud.directory+json\",me=\"application/vnd.adobe.dcx-manifest+json\",Pe=\"application/json\",Se=\"application/problem+json\",De=\"application/json-patch+json\",ke=\"application/ld+json\",Ne=\"application/vnd.adobecloud.bulk-transfer+json\",Ce=\"application/vnd.adobe.asset-operation+json\",Le=[\"buffer\",\"arraybuffer\",\"string\",\"text\",\"blob\",\"json\",\"stream\",\"defaultbuffer\"];function Me(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s}function Be(e,t,s,n){return new(s||(s=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}function we(e){return this instanceof we?(this.v=e,this):new we(e)}function je(e,t,s){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var n,r=s.apply(e,t||[]),i=[];return n={},o(\"next\"),o(\"throw\"),o(\"return\"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){r[e]&&(n[e]=function(t){return new Promise((function(s,n){i.push([e,t,s,n])>1||a(e,t)}))})}function a(e,t){try{(s=r[e](t)).value instanceof we?Promise.resolve(s.value.v).then(c,d):l(i[0][2],s)}catch(e){l(i[0][3],e)}var s}function c(e){a(\"next\",e)}function d(e){a(\"throw\",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}const xe=(i,o,a)=>{if(null==o&&null==a&&null==i)return t;const c=a||{},d=o||{},l=i||[];return(i,o)=>{var a,h;if(!i||!o)return new e(s.NETWORK_ERROR,\"Invalid or missing status code\",void 0,o);if(l.includes(i))return!0;const u=d[i]||(null===(a=n.get(i))||void 0===a?void 0:a.message)||\"Unexpected response\",p=c[i]||(null===(h=n.get(i))||void 0===h?void 0:h.code),_=t(i,o);return!0===_&&null==p||(r(_)?_:!!p&&new e(p,u,void 0,o))}},Ue=(t,s=[],n,r)=>{if(!_(t))throw new e(n||e.INVALID_PARAMS,r||\"Missing or invalid links on Asset\");s.map((s=>{if(!(s in t)||!_(t[s]))throw new e(n||e.INVALID_PARAMS,r||`Missing required link: ${s}`)}))},Ve=(t={},s=[])=>{if(0!==s.length){for(let e=0;e<s.length;e++){const n=s[e];if(n in t&&_(t[n]))return n}throw new e(e.INVALID_PARAMS,`Missing links, one required: ${s.join(\", \")}`)}},He=(t,s,n,r)=>{const i=f(t,s,n);if(!i)throw new e(e.INVALID_DATA,`Missing ${n} param on Link`);if(i!==r)throw new e(e.INVALID_DATA,`Invalid ${n} param on Link, expected ${r}`)},Ge=(e,t=[])=>{try{Ue(e,t)}catch(e){return!1}return!0},Ye=(e,t=[])=>!!_(e)&&Ge(e.links||e._links,t);function Fe(t){if(!ue(t))throw new e(e.INVALID_PARAMS,\"Asset must contain links or repositoryId + path or assetId to be resolved.\")}function ze(t,s,n){if(!_(t))throw new e(e.INVALID_PARAMS,`Invalid parameter. Expected object, encountered \"${null===t?\"null\":typeof t}\".`);if(!(s in t))throw new e(e.INVALID_PARAMS,`Invalid parameter object. Expected object containing key \"${String(s)}\".`);if(n)try{I(s,t[s],n)}catch(r){throw new e(e.INVALID_PARAMS,`Invalid parameter object. Expected object containing key \"${String(s)}\" with type \"${n}\", encountered type \"${typeof t[s]}\".`)}}function $e(t,s,n){if(!(s.length<1)){for(const e of s)try{return void ze(t,e,n)}catch(e){}throw new e(e.INVALID_PARAMS,`Invalid parameter object. Expected object containing one of [${s.join(\", \")}]`+(n?` with type ${n}, encountered types [${s.map((e=>typeof t[e])).join(\", \")}].`:\".\"))}}const We=h(\"dcx:assets:util:http\");function Ke(e,t,s){We(\"headHTTPResource()\");return Te(e).invoke(Oe.HEAD,t,s,void 0,{isStatusValid:xe()})}function qe(e,t,s,n){return Te(e).invoke(Oe.GET,t,s,void 0,{isStatusValid:xe(),responseType:n})}const Ze=h(\"dcx:assets:util:serialization\");function Xe(e,t){Ze(\"deserializeAsset()\");const s={};s.repositoryId=e.repositoryId||e[q.REPO_REPOSITORY_ID],s.assetId=e.assetId||e[q.REPO_ASSET_ID],s.name=e.name||e[q.REPO_NAME],s.size=null!=e.size?e.size:e[q.REPO_SIZE],s.path=e.path||e[q.REPO_PATH],s.assetClass=e.etag||e[q.REPO_ASSET_CLASS],s.etag=e.etag||e[q.REPO_ETAG],s.version=e.version||e[q.REPO_VERSION],s.format=e.format||e[q.DC_FORMAT],s.md5=e.md5,s.createDate=e.createDate||e[q.REPO_CREATE_DATE],s.modifyDate=e.modifyDate||e.modifiedDate||e[q.REPO_MODIFY_DATE],s.discardDate=e.discardDate||e[q.REPO_DISCARD_DATE],s.createdBy=e.createdBy||e[q.REPO_CREATED_BY],s.modifiedBy=e.modifiedBy||e[q.REPO_MODIFIED_BY],s.discardedBy=e.discardedBy||e[q.REPO_DISCARDED_BY],s.deviceCreateDate=e.deviceCreateDate||e[q.REPO_DEVICE_CREATE_DATE],s.deviceModifyDate=e.deviceModifyDate||e[q.REPO_DEVICE_MODIFY_DATE],s.defaultScheduledDeletionDuration=e.defaultScheduledDeletionDuration||e[q.REPO_DEFAULT_SCHEDULED_DELETION_DURATION],s.scheduledDeletionDate=e.scheduledDeletionDate||e[q.REPO_SCHEDULED_DELETION_DATE],s.assetType=e.assetType||e[q.REPO_ASSET_TYPE],s.assetSubType=e.assetSubType||e[q.REPO_ASSET_SUB_TYPE],s.les=e.les||e[q.STORAGE_LES],s.baseAssetId=e.baseAssetId||e[q.REPO_BASE_ASSET_ID],s.state=e.state||e[q.REPO_STATE],s.links=e.links||e[q.LINKS],s.representations=e.representations||e[q.REPO_REPRESENTATIONS],s.contributors=e.contributors||e[q.REPO_CONTRIBUTORS],s.width=e.width||e[q.IMAGE_WIDTH],s.length=e.length||e[q.IMAGE_LENGTH];const n=[t,e._embedded].flat();return s.embedded=Object.entries({EffectivePrivileges:K.EFFECTIVE_PRIVILAGES,RepositoryResource:K.REPOSITORY,AppMetadata:K.APP_METADATA}).reduce(((e,[t,s])=>(n.filter((e=>e&&s in e)).forEach((n=>T(e,{[t]:s===K.REPOSITORY?Qe(n):n}))),e)),{}),g(s)}function Je(e){Ze(\"convertToACPRepoMetadataResource()\");const t={};return t[q.REPO_REPOSITORY_ID]=e[q.REPO_REPOSITORY_ID]||e.repositoryId,t[q.REPO_ASSET_ID]=e[q.REPO_ASSET_ID]||e.assetId,t[q.REPO_NAME]=e[q.REPO_NAME]||e.name,t[q.REPO_SIZE]=null!=e[q.REPO_SIZE]?e[q.REPO_SIZE]:e.size,t[q.REPO_PATH]=e[q.REPO_PATH]||e.path,t[q.REPO_ASSET_CLASS]=e[q.REPO_ASSET_CLASS]||e.etag,t[q.REPO_ETAG]=e[q.REPO_ETAG]||e.etag,t[q.REPO_VERSION]=e[q.REPO_VERSION]||e.version,t[q.DC_FORMAT]=e[q.DC_FORMAT]||e.format,t[q.REPO_CREATE_DATE]=e[q.REPO_CREATE_DATE]||e.createDate,t[q.REPO_MODIFY_DATE]=e[q.REPO_MODIFY_DATE]||e.modifyDate||e.modifiedDate,t[q.REPO_DISCARD_DATE]=e[q.REPO_DISCARD_DATE]||e.discardDate,t[q.REPO_CREATED_BY]=e[q.REPO_CREATED_BY]||e.createdBy,t[q.REPO_MODIFIED_BY]=e[q.REPO_MODIFIED_BY]||e.modifiedBy,t[q.REPO_DISCARDED_BY]=e[q.REPO_DISCARDED_BY]||e.discardedBy,t[q.REPO_DEVICE_CREATE_DATE]=e[q.REPO_DEVICE_CREATE_DATE]||e.deviceCreateDate,t[q.REPO_DEVICE_MODIFY_DATE]=e[q.REPO_DEVICE_MODIFY_DATE]||e.deviceModifyDate,t[q.REPO_DEFAULT_SCHEDULED_DELETION_DURATION]=e[q.REPO_DEFAULT_SCHEDULED_DELETION_DURATION]||e.defaultScheduledDeletionDuration,t[q.REPO_SCHEDULED_DELETION_DATE]=e[q.REPO_SCHEDULED_DELETION_DATE]||e.scheduledDeletionDate,t[q.REPO_BASE_ASSET_ID]=e[q.REPO_BASE_ASSET_ID]||e.baseAssetId,t[q.REPO_ASSET_TYPE]=e[q.REPO_ASSET_TYPE]||e.assetType,t[q.REPO_ASSET_SUB_TYPE]=e[q.REPO_ASSET_SUB_TYPE]||e.assetSubType,t[q.REPO_STATE]=e[q.REPO_STATE]||e.state,t[q.LINKS]=e[q.LINKS]||e.links,t[q.REPO_REPRESENTATIONS]=e[q.REPO_REPRESENTATIONS]||e.representations,t[q.IMAGE_WIDTH]=e[q.IMAGE_WIDTH]||e.width,t[q.IMAGE_LENGTH]=e[q.IMAGE_LENGTH]||e.length,t[q.REPO_CONTRIBUTORS]=e[q.REPO_CONTRIBUTORS]||e.contributors,t[q.STORAGE_LES]=e[q.STORAGE_LES]||e.les,g(t)}function Qe(e={}){Ze(\"deserializeRepository()\");const t=e[K.REPOSITORY]?e[K.REPOSITORY]:e;return{repositoryId:t[q.REPO_REPOSITORY_ID],repositoryType:t[q.REPO_REPOSITORY_TYPE],owner:t[q.REPO_OWNER],createDate:t[q.REPO_CREATE_DATE],title:t[q.DC_TITLE],availableRegions:t[q.REPO_AVAILABLE_REGIONS]}}function et(e){const t=[];return e.assetType&&t.push({op:\"add\",path:`/${[q.REPO_ASSET_TYPE]}`,value:e.assetType}),e.assetSubType&&t.push({op:\"add\",path:`/${[q.REPO_ASSET_SUB_TYPE]}`,value:e.assetSubType}),t}const tt=h(\"dcx:assets:util:link\");function st(e,t){tt(\"getIndexLinks()\");const s=Te(e),n=ge(e);if(n){const e=n.getIndexLinks();if(e)return p.resolve(e);n.setPending(\"INDEX\")}return Ke(s,Ae(\"/\",s),t).then((e=>rt(e))).then((e=>(n&&n.setIndexLinks(e),e))).catch((e=>{throw n&&n.delete(\"INDEX\"),e}))}function nt(e,t){tt(\"getIndexDocument()\");const s=Te(e),n=ge(e);if(n){const e=n.getIndexRepository();if(e)return p.resolve(e)}const r=Ae(\"/\",s);return s.invoke(Oe.GET,r,t,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>{const t=rt(e),s=e.response,r={};for(const e in s.children){const t=s.children[e],n=t[q.LINKS];switch(t[q.REPO_PATH]){case\"/Index.json\":r.indexLinks=n;break;case\"/Assets.json\":r.assetLinks=n;break;case\"/Repositories.json\":r.repositoryLinks=n}}return n&&(n.setIndexLinks(t),n.setIndexRepository(r)),r}))}function rt(e){if(!e.headers||!e.headers.link)throw new i(i.INVALID_DATA,\"Failed to parse, missing link header\");return it(e.headers.link)}function it(e){try{const t=A(e),s={};for(const e in t.refs){const n=t.refs[e],{rel:r,uri:i,templated:o,type:a,width:c,height:d}=n,l=Me(n,[\"rel\",\"uri\",\"templated\",\"type\",\"width\",\"height\"]),h=g({href:i,templated:o?\"true\"===o:void 0,type:a,width:c,height:d,[te.MAX_SINGLE_TRANSFER_SIZE]:l[te.MAX_SINGLE_TRANSFER_SIZE.toLowerCase()],[te.REPO_MIN_BLOCK_TRANSFER_SIZE]:l[te.REPO_MIN_BLOCK_TRANSFER_SIZE.toLowerCase()]});[\"width\",\"height\"].filter((e=>e in h)).forEach((e=>{const t=parseInt(h[e],10);isNaN(t)||(h[e]=t)}));const u=s[r];Array.isArray(u)?u.push(h):s[r]=u?[u,h]:h}return Object.assign({},s)}catch(e){throw new i(i.INVALID_DATA,\"Failed to parse, invalid link header\",e)}}function ot(e,t){tt(\"getPubsAsset()\");const s=Te(e),n=Ae(\"/index-pubs\",s);return s.invoke(Oe.GET,n,t,void 0,{responseType:\"json\",isStatusValid:xe()}).then((t=>{const s=Xe(t.response.pubsDir[q.EMBEDDED][\"http://ns.adobe.com/adobecloud/rel/metadata/repository\"]),n=ge(e);return n&&n.setValueWithAsset(s.links,s),s}))}function at(e,t){if(_(this)){if(\"string\"==typeof this.opsHref)return p.resolve(this.opsHref);if(E(this.opsHref))return p.resolve(this.opsHref())}return st(e,t).then((e=>{try{return y(e,K.REPO_OPS)}catch(e){throw new i(i.UNEXPECTED,\"Could not get ops href.\",e)}}))}function ct(e){if(_(this)){if(\"string\"==typeof this.resolveByPathHref)return p.resolve(this.resolveByPathHref);if(E(this.resolveByPathHref))return p.resolve(this.resolveByPathHref())}return st(e).then((e=>{try{return y(e,K.RESOLVE_BY_PATH)}catch(e){throw new i(i.UNEXPECTED,\"Could not get ResolveByPath href.\",e)}}))}function dt(e){if(_(this)){if(\"string\"==typeof this.resolveByIdHref)return p.resolve(this.resolveByIdHref);if(E(this.resolveByIdHref))return p.resolve(this.resolveByIdHref())}return st(e).then((e=>{try{return y(e,K.RESOLVE_BY_ID)}catch(e){throw new i(i.UNEXPECTED,\"Could not get ResolveByID href.\",e)}}))}const lt=h(\"dcx:assets:operations\"),ht=h(\"dcx:assets:operations:builder\"),ut=30,pt=500,_t=e=>\"copy_resources\"===e.op;function Et(e,t,s,n,r,i,o){return lt(\"copyResource()\"),jt(e,t,s,n,r,i,o).then((e=>e.response)).then(Mt)}function ft(e,t,s,n,r,i,o){lt(\"copyAsset()\"),R([\"svc\",e,\"object\"],[\"srcAsset\",t,\"object\"],[\"destAsset\",s,\"object\"],[\"createIntermediates\",n,\"boolean\"],[\"overwriteExisting\",r,\"boolean\",!0],[\"manifestPatch\",o,[\"object\",\"string\"],!0]),$e(t,[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],\"string\"),$e(s,[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],\"string\");const a=wt(\"copy\",s,t,{overwriteExisting:r,createIntermediates:n},{\"repo:manifestPatch\":JSON.stringify(o)}),c=Te(e);return at.call(this,e).then((e=>Pt(c,e,a,i))).then(Ct.bind(void 0,s)).then(Lt)}const It=e=>{if((e=>e.hasOwnProperty(\"source\")&&e.hasOwnProperty(\"target\"))(e))return{source:Tt(e.source),target:Tt(e.target)};const t=Tt(e);return{source:t,target:t}},Tt=e=>\"string\"==typeof e?{reltype:e,component_id:\"\",revision:\"\"}:e;function gt(e,t,s,n,r,i){lt(\"moveAsset()\"),R([\"svc\",e,\"object\"],[\"srcAsset\",t,\"object\"],[\"destAsset\",s,\"object\"],[\"createIntermediates\",n,\"boolean\"],[\"overwriteExisting\",r,\"boolean\",!0]),$e(t,[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],\"string\"),$e(s,[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],\"string\");const o=wt(\"move\",s,t,{createIntermediates:n,overwriteExisting:r}),a=Te(e);return at.call(this,e).then((e=>Pt(a,e,o,i))).then(Ct.bind(void 0,s)).then(Lt)}function At(e,t,s,n,r){lt(\"discardAsset()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"etag\",s,\"string\",!0],[\"recursive\",n,\"boolean\",!0]);const i=Te(e);$e(t,[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],\"string\");const o=wt(\"discard\",Object.assign(Object.assign({},t),{etag:s}),void 0,{recursive:n});return at.call(this,e).then((e=>Pt(i,e,o,r))).then(Mt)}const yt=$(\"AdobeDCX.deleteAsset\",(function(t,s,n=\"*\",r,i){lt(\"deleteAsset()\"),W(\"mediaType\",s.format),W(\"assetId\",s.assetId),R([\"svc\",t,\"object\"],[\"asset\",s,\"object\"],[\"etag\",n,\"string\",!0],[\"recursive\",r,\"boolean\",!0]);const o=Te(t);if(s.format===be&&null==r)throw new e(e.INVALID_PARAMS,\"Recursive flag is required for directory assets.\");if(!r&&Ye(s,[K.REPO_METADATA])){const e=v(s,K.REPO_METADATA,{});return o.invoke(\"DELETE\",e,{[Re.IF_MATCH]:n},void 0,{isStatusValid:xe()}).then(Mt)}$e(s,[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],\"string\");const a=Object.create(Object.getPrototypeOf(s),Object.getOwnPropertyDescriptors(s));a.etag=n;const c=wt(\"delete\",a,void 0,{recursive:r});return at.call(this,t).then((e=>Pt(o,e,c,i))).then(Mt)}));function Rt(e,t,s){lt(\"restoreAsset()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]);const n=Te(e);$e(t,[\"assetId\",\"repo:assetId\"],\"string\");const r=wt(\"restore\",t);return at.call(this,e).then((e=>Pt(n,e,r,s))).then(Ct.bind(void 0,t)).then(Lt)}function Ot(e,t,s,n,r,i){var o,a;lt(\"packageAssets()\"),R([\"svc\",e,\"object\"],[\"destination\",s,\"object\"]),I(\"sources\",t,[\"object\",\"object[]\"]),t=O(t)?t:[t],o=[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],a=\"string\",t.map((e=>$e(e,o,a))),$e(s,[\"repo:path\",\"path\",\"assetId\",\"repo:assetId\"],\"string\");const c=wt(\"package\",s,t,{createIntermediates:n,overwriteExisting:r}),d=Te(e);return at.call(this,e).then((e=>Pt(d,e,c,i))).then(Ct.bind(void 0,s)).then(Mt)}function vt(e,t,s,n){return Nt(e,t,s,n).then(bt)}function bt(e){return{result:(O(e.response)?e.response:[e.response]).map(mt),response:e}}function mt(t){if(!t.error)return t;const s=Object.assign({},t),n=xe()(t.error.status);return s.error=r(n)?n:new e(e.UNEXPECTED,\"Unexpected response\"),s._additionalData=t.error,s.error._message=t.error.title,s}function Pt(e,t,s,n){return lt(\"doOperation()\"),R([\"svc\",e,\"object\"],[\"opsEndpoint\",t,\"string\"],[\"operationDocument\",s,[\"string\",\"object\"]],[\"additionalHeaders\",n,\"object\",!0]),Nt(e,t,s,n).then(o)}class St{constructor(){this.opBatchLimit=100,this._docs=[]}getDocumentEntry(e){return this._docs[e]}getDocument(){return this._docs}get entryCount(){return this._docs.length}copyResources(e,t,s,n,r,i){ht(\"copyResource()\"),this._assertUnderLimit(),this._checkSourceType(e),this._checkTargetType(t);const o=this._docs.find(function(e,t){return function(s){return\"copy_resources\"===s.op&&kt(s.source,e)&&kt(s.target,t)}}(e,t));if(o)return o.resources=o.resources.concat(s),r&&(o[\"repo:manifestPatch\"]=JSON.stringify(r)),void 0!==n&&(o.intermediates=n),this;const a=wt(\"copy_resources\",t,e,{createIntermediates:n},{resources:s,\"repo:manifestPatch\":JSON.stringify(r),additionalHeaders:i});return this._docs.push(a),this}copy(e,t,s,n,r){ht(\"copy()\"),this._assertUnderLimit(),this._checkSourceType(e),this._checkTargetType(t);const i=wt(\"copy\",t,e,{createIntermediates:s,overwriteExisting:n},r);return this._docs.push(i),this}move(e,t,s,n,r){ht(\"move()\"),this._assertUnderLimit(),this._checkSourceType(e),this._checkTargetType(t);const i=wt(\"move\",t,e,{createIntermediates:s,overwriteExisting:n},r);return this._docs.push(i),this}package(e,t,s,n,r){ht(\"package()\"),this._assertUnderLimit(),(e=O(e)?e:[e]).map((e=>{this._checkSourceType(e)})),this._checkTargetType(t);const i=wt(\"package\",t,e,{createIntermediates:s,overwriteExisting:n},r);return this._docs.push(i),this}discard(e,t,s){ht(\"discard()\"),this._assertUnderLimit(),this._checkTargetType(e);const n=wt(\"discard\",e,void 0,{recursive:t},s);return this._docs.push(n),this}restore(e,t){ht(\"restore()\"),this._assertUnderLimit(),$e(e,[\"assetId\",\"repo:assetId\"],\"string\"),this._checkTargetType(e);const s=wt(\"restore\",e,void 0,void 0,t);return this._docs.push(s),this}delete(e,t,s){ht(\"delete()\"),this._assertUnderLimit(),this._checkTargetType(e);const n=wt(\"delete\",e,void 0,{recursive:t},s);return this._docs.push(n),this}_assertUnderLimit(){if(this._docs.length>=this.opBatchLimit)throw new e(e.INVALID_STATE,`Exceeds limit of ${this.opBatchLimit} operations in a single batch.`)}_checkTargetType(e){this._checkSourceOrTargetType(e,\"Target\")}_checkSourceType(e){this._checkSourceOrTargetType(e,\"Source\")}_checkSourceOrTargetType(t,s){if(0===[!!t.assetId||!!t[\"repo:assetId\"],!!t.path||!!t[\"repo:path\"]].filter((e=>e)).length)throw new e(e.INVALID_PARAMS,`${s} identifier is underspecified. Exactly one of [href, repo:path, repo:assetId] required.`);const n=this._getSourceType(t),r=\"Source\"===s?this._batchSourceType:this._batchTargetType;if(r){if(n!==r)throw new e(e.INVALID_PARAMS,`Operation ${s.toLowerCase()} types must all be the same type. Expected ${r}, encountered ${n}.`)}else\"Source\"===s?this._batchSourceType=n:this._batchTargetType=n}_getSourceType(e){return e.assetId||e[\"repo:assetId\"]?\"id\":e.path||e[\"repo:path\"]?e.baseAssetId||e[\"repo:baseAssetId\"]?\"pathAndBaseAssetId\":\"path\":void 0}}function Dt(){return new St}function kt(e,t){var s,n;return e[q.REPO_ASSET_ID]===(null!==(s=t[q.REPO_ASSET_ID])&&void 0!==s?s:t.assetId)&&e[q.REPO_REPOSITORY_ID]===(null!==(n=t[q.REPO_REPOSITORY_ID])&&void 0!==n?n:t.repositoryId)}function Nt(e,t,s,n={}){return e.invoke(Oe.POST,t,Object.assign({[Re.CONTENT_TYPE]:Ce},n),\"string\"==typeof s?s:JSON.stringify(s),{isStatusValid:xe(),responseType:\"json\",retryOptions:{pollCodes:[202],pollHeader:\"location\",pollMethod:\"get\",modifyHeadersCallback:fe([Re.PREFER])}})}function Ct(e,t){return t.response.asset=Object.assign(Object.assign({},t.response.asset||{}),{repositoryId:e.repositoryId||e[\"repo:repositoryId\"]}),t}function Lt(e){return{response:e,result:Xe(e.response.asset)}}function Mt(e){return{response:e,result:{success:e.statusCode>199&&e.statusCode<400}}}function Bt(e,t,s){if(lt(\"_convertToACPSource()\"),\"object\"!=typeof t)return;const n={\"repo:repositoryId\":t.repositoryId||t[\"repo:repositoryId\"],\"repo:path\":t.path||t[\"repo:path\"],\"repo:assetId\":t.assetId||t[\"repo:assetId\"],\"repo:baseAssetId\":t.baseAssetId||t[\"repo:baseAssetId\"]};return\"string\"==typeof n.href?(delete n[\"repo:path\"],delete n[\"repo:assetId\"],delete n[\"repo:baseAssetId\"]):\"string\"==typeof n[\"repo:assetId\"]&&(delete n[\"repo:path\"],delete n[\"repo:baseAssetId\"]),\"target\"===e?!0===s?n[Re.IF_MATCH]=t.format!==ye.Directory&&t[\"dc:format\"]!==ye.Directory&&t.etag||\"*\":!1===s?n[Re.IF_NONE_MATCH]=\"*\":t.format!==ye.Directory&&t[\"dc:format\"]!==ye.Directory&&(n[Re.IF_MATCH]=t.etag):t.format!==ye.Directory&&t[\"dc:format\"]!==ye.Directory&&(n[Re.IF_MATCH]=t.etag||\"*\"),t.version&&(n[\"repo:version\"]=t.version),n[\"repo:path\"]&&ze(n,\"repo:repositoryId\",\"string\"),lt(\"_cTACPS() out\",n),g(n)}function wt(e,t,s,n={},r={}){lt(\"_buildOperationDoc()\");const i=g({op:e,target:t,source:O(s)?[]:s?{}:void 0}),{overwriteExisting:o,createIntermediates:a,recursive:c}=n;if(i.source&&(i.source=O(s)?s.map((e=>Bt(\"source\",e,o))).filter((e=>null!=e)):Bt(\"source\",s,o)),\"object\"==typeof t){const e=Bt(\"target\",t,o);e&&(i.target=e)}return null==i.target[\"repo:assetId\"]&&null!=a&&(i.intermediates=a),null!=c&&(i.recursive=c),Object.assign(i,r),lt(\"_OD() doc\",i),i}function jt(t,s,n,r,i,o,a){if(R([\"resources\",r,\"array\",!1]),r.length<=pt){const e=Dt().copyResources(s,n,r,i,o).getDocument();return at(t).then((s=>Pt(Te(t),s,e,a))).then((e=>{const{asset:t,source:s,target:n,resources:r}=e.response[0];return{result:{source:Xe(s),target:Xe(n),resources:r,asset:t?Xe(t):void 0},response:e}}))}return function(t,s,n,r,i,o,a,c){R([\"resources\",r,\"array\",!1]);const d=[];for(let e=0;e<r.length;e+=i)d.push(r.slice(e,e+i));let l;function h(e,r){const i=Dt().copyResources(s,n,r,o,a).getDocument();return at(t).then((e=>Pt(Te(t),e,i,c))).then((t=>{l?l.response[0].resources.push(...t.response[0].resources):l=t;const{asset:s,source:n,target:r,resources:i}=t.response[0],o={source:Xe(n),target:Xe(r),resources:i,asset:s?Xe(s):void 0};return Object.assign(Object.assign({},o),{resources:[...null==e?void 0:e.resources,...o.resources],asset:o.asset||e.asset})}))}let u=p.resolve({resources:[],source:{},target:{}});for(const e of d)u=u.then((t=>h(t,e)));return u.then((t=>{if(!l)throw new e(e.UNEXPECTED_RESPONSE,\"No response received from copy resources operation\");return{result:t,response:l}}))}(t,s,n,r,pt,i,o,a)}var xt;!function(e){e.NOT_INITIALIZED=\"NOT_INITIALIZED\",e.INITIALIZING=\"INITIALIZING\",e.INITIALIZED=\"INITIALIZED\",e.WAITING=\"WAITING\",e.STARTED=\"STARTED\",e.PAUSING=\"PAUSING\",e.PAUSED=\"PAUSED\",e.CANCELED=\"CANCELED\",e.ERROR=\"ERROR\",e.FINALIZING=\"FINALIZING\",e.COMPLETE=\"COMPLETE\"}(xt||(xt={}));const Ut=new class{constructor(){this._uploads=[],this._downloads=[],this._pendingUploadRequests=[],this._pendingDownloadRequests=[],this._downloadChunkSize=10485760}get downloads(){return this._downloads}get uploads(){return this._uploads}set downloadChunkSize(e){R([\"downloadChunkSize\",e,\"+number\"]),this._downloadChunkSize=e}get downloadChunkSize(){return this._downloadChunkSize}get pendingUploadRequests(){return this._pendingUploadRequests}get pendingDownloadRequests(){return this._pendingDownloadRequests}resetUploads(){this._uploads=[],this._pendingUploadRequests=[]}addAndStartUpload(e){return this._addAndStart(\"upload\",e)}addAndStartDownload(e){return e.state!==xt.INITIALIZED?Promise.resolve(e):this._addAndStart(\"download\",e)}startNextWaiting(e){const t=\"upload\"===e?this._uploads:this._downloads,s=[];let n=!1;for(const e of t)!n&&e&&e.state===xt.WAITING?(e.start(),n=!0):e.state!==xt.CANCELED&&e.state!==xt.ERROR&&e.state!==xt.FINALIZING&&e.state!==xt.COMPLETE||s.push(e);const r=t.filter((e=>!s.includes(e)));\"download\"===e?this._downloads=r:this._uploads=r}_addAndStart(e,t){const s=\"upload\"===e?this._uploads:this._downloads;return 0===s.filter((e=>e&&(e.state===xt.NOT_INITIALIZED||e.state===xt.INITIALIZED||e.state===xt.INITIALIZING||e.state===xt.STARTED))).length?t.start():t._setWaiting(),s.push(t),t.promise}},Vt=h(\"dcx:assets:blockdownload\"),Ht=h(\"dcx:assets:blockdownload:leaf\");const Gt=function*(){let e=0;for(;;)yield e++}();class Yt extends b{constructor(e,t,s={}){super([\"stateChanged\"]),this._state=xt.NOT_INITIALIZED,this._cachedBlocks=new Map,this._blockRequestIndex=0,this._blockHandledIndex=0,this._currentByteRange=[void 0,void 0],this._pending=[],Vt(\"constructor\");const{startByte:n,blockSize:r,endByte:i,url:o,totalSize:a,maxConcurrentRequests:c}=Object.assign({blockSize:Ut.downloadChunkSize,maxConcurrentRequests:4},g(s));R([\"svc\",e,\"object\"],[\"responseType\",t,\"enum\",!1,[\"buffer\"]],[\"blockSize\",r,\"+number\"],[\"url\",o,\"string\",!0],[\"startByte\",n,\"number\",!0],[\"endByte\",i,\"number\",!0],[\"totalSize\",a,\"number\",!0],[\"maxConcurrentRequests\",c,\"+number\"]),this._dbgId=Gt.next().value,this._maxConcurrentRequests=c,this._blockSize=Math.round(r),this._service=e,this._url=o,this._startByte=n,this._endByte=i,this._totalSize=a,this._bytes=new Uint8Array,this._promise=new p(((e,t)=>{this._resolve=()=>{Vt(this._dbgId,\"resolving\"),this.removeAllHandlers(),e(this)},this._reject=e=>{Vt(this._dbgId,\"rejecting: \",e),this.removeAllHandlers(),t(e)}}))}get contentType(){var e;return null!==(e=this._contentType)&&void 0!==e?e:\"\"}get totalSize(){return this._totalSize}get buffer(){return this._bytes}get state(){return this._state}get promise(){return this._promise}_requestBlock(e,t,s,n){Vt(this._dbgId,\"_requestBlock(): \",e,t,s,n);const r=Wt(e,t);return this._service.invoke(Oe.GET,this._url,r,void 0,{responseType:\"defaultbuffer\",isStatusValid:xe(),isExternalRequest:!0}).then((e=>({response:e,index:s,lane:n}))).catch(this._handleErrorAndThrow.bind(this))}init(e=this._url,t=this._totalSize){if(Vt(this._dbgId,\"init(): \",e,t),this._state===xt.INITIALIZED&&e===this._url&&t===this._totalSize)return p.resolve(this);if(this._assertStateIsValid(\"init\"),this._shiftState(xt.INITIALIZING),this._url=e,this._initByteRange(t),this._totalSize!==1/0||null==this._currentByteRange[0])return this._shiftState(xt.INITIALIZED),p.resolve(this);const{startByte:s,endByte:n,blockIndex:r}=this._nextBlockData();let i=xt.INITIALIZED;return this._requestBlock(s,n,r,0).then((e=>(this._updateTotalSize(e),(!n||n>this._endByte)&&(i=xt.FINALIZING),e))).then(this._handleBlock.bind(this)).then((()=>this._shiftState(i))).catch(this._handleErrorAndThrow.bind(this))}start(){if(Vt(this._dbgId,\"start()\"),this._assertStateIsValid(\"start\"),this._shiftState(xt.STARTED),null!=this._currentByteRange[0])return this._start(),this._promise;const[e,t]=this._currentByteRange,s=this._blockRequestIndex;return this._blockRequestIndex+=1,this._currentByteRange=[t+1,t],this._requestBlock(e,t,s,0).then(this._handleBlock.bind(this)).catch(this._handleError.bind(this)),this._promise}pause(){return Vt(this._dbgId,\"pause()\"),this._assertStateIsValid(\"pause\"),this._shiftState(xt.PAUSING),p.allSettled(this._pending).then((()=>(this._shiftState(xt.PAUSED),Ut.startNextWaiting(\"download\"),this)))}resume(){return Vt(this._dbgId,\"resume()\"),this.state===xt.PAUSED&&(this._shiftState(xt.STARTED),this._start()),this}cancel(){return Vt(this._dbgId,\"cancel()\"),this._assertStateIsValid(\"cancel\"),this._shiftState(xt.CANCELED),this._reject(new e(e.ABORTED,\"BlockDownload aborted.\")),Ut.startNextWaiting(\"download\"),this._promise}_setWaiting(){this._shiftState(xt.WAITING)}_start(){Vt(this._dbgId,\"_start()\");for(let e=0;e<this._maxConcurrentRequests;e++)this._loop(e).catch(this._handleError.bind(this))}get _loopShouldContinue(){const e=this._state===xt.STARTED&&this._currentByteRange[0]<=this._endByte;return Vt(this._dbgId,\"_loopShouldContinue() \",e,this._currentByteRange,this._endByte),e}_loop(e){return Be(this,void 0,void 0,(function*(){Vt(this._dbgId,\"_loop(): \",e);let t=!1;for(;this._loopShouldContinue&&!t;){const{startByte:s,endByte:n,blockIndex:r,done:i}=this._nextBlockData();t=i;const o=this._requestBlock(s,n,r,e).then(this._handleBlock.bind(this)).catch(this._handleError.bind(this));this._pending[e]=o,yield o}Vt(this._dbgId,`_loop(${e}) done, ${t}`),t&&(Vt(this._dbgId,`_loop(${e}) finalize`),this._shiftState(xt.FINALIZING))}))}_nextBlockData(){Vt(this._dbgId,\"_nextBlockData()\");const e=this._blockRequestIndex;this._blockRequestIndex+=1;const[t,s]=this._currentByteRange;this._currentByteRange[0]+=this._blockSize,this._currentByteRange[1]=Math.min(this._currentByteRange[1]+this._blockSize,this._endByte);return{startByte:t,endByte:s,blockIndex:e,done:s>=this._endByte}}_initByteRange(t=this._totalSize){if(Vt(this._dbgId,\"_initByteRange(): \",t),this._totalSize=t,null!=this._totalSize&&this._totalSize<0)throw new e(e.INVALID_PARAMS,\"Total size must be positive.\");if(this._totalSize||(this._totalSize=1/0),this._endByte||(this._endByte=this._totalSize),!this._startByte&&this._endByte===this._totalSize)return this._startByte=0,void(this._currentByteRange=[0,this._blockSize-1]);if(!this._startByte&&this._endByte<0&&this._totalSize!==1/0?(this._startByte=Math.max(0,this._totalSize+this._endByte),this._endByte=this._totalSize):!this._startByte&&this._endByte>0&&(this._startByte=0),null!=this._startByte&&(this._currentByteRange[0]=Math.max(this._startByte,0)),(null==this._endByte||this._endByte>0)&&(this._currentByteRange[1]=Math.min(this._endByte,(this._startByte||0)+this._blockSize-1)),null!=this._startByte||this._endByte===1/0)return;if(this._totalSize===1/0){if(-this._endByte>this._blockSize)throw new e(e.INVALID_PARAMS,\"Cannot download last N bytes without a total size.\");return void(this._currentByteRange=[void 0,this._endByte])}this._startByte=Math.max(0,this._totalSize+this._endByte),this._endByte=this._totalSize;const s=Math.min(this._startByte+this._blockSize-1,this._endByte);this._currentByteRange=[this._startByte,s]}_finalize(){return Vt(this._dbgId,\"_finalize() start\"),Ut.startNextWaiting(\"download\"),p.allSettled(this._pending).then((()=>{this._checkCachedBlocks(),this._shiftState(xt.COMPLETE)}))}_updateTotalSize(t){if(Vt(this._dbgId,\"_updateTotalSize()\"),null==this._totalSize||this._totalSize===1/0)try{const e=t.response.headers[\"content-range\"],s=parseInt(e.split(\"/\")[1]);m((()=>!isNaN(s)),\"Invalid number.\"),this._totalSize=s,this._endByte===1/0&&(this._endByte=this._totalSize)}catch(s){throw new e(e.INVALID_DATA,\"Could not determine total size.\",s,t.response)}return Vt(this._dbgId,\"_uTS(): \",this._totalSize,this._endByte),t}_handleError(t){Vt(this._dbgId,\"_handleError(): \",t),this._shiftState(xt.ERROR),this._error=t,r(t)||(this._error=new e(e.UNEXPECTED,\"An unexpected error occurred.\",t)),this._reject(this._error)}_handleErrorAndThrow(e){throw this._handleError(e),this._error}_handleBlock(e){this._endByte===1/0&&this._updateTotalSize(e);const{index:t,response:s}=e;if(Vt(this._dbgId,`_handleBlock(${t})`),t!==this._blockHandledIndex)return Vt(this._dbgId,`_handleBlock(${t}) cached`),void this._cachedBlocks.set(t,e);Vt(this._dbgId,`_handleBlock(${t}) handled`),this._pushBlockData(s),this._markCurrentBlockHandled()}_markCurrentBlockHandled(){this._cachedBlocks.delete(this._blockHandledIndex),this._blockHandledIndex+=1,this._checkCachedBlocks()}_checkCachedBlocks(){const e=this._cachedBlocks.get(this._blockHandledIndex);e&&this._handleBlock(e)}_pushBlockData(e){if(this._state===xt.ERROR)return;this._contentType=this._contentType||e.headers[Re.CONTENT_TYPE];const t=\"undefined\"!=typeof Buffer&&e.response instanceof Buffer?e.response:new Uint8Array(e.response);this._bytes=P(this._bytes,t)}_shiftState(e){return Vt(this._dbgId,\"_shiftState(): \",e),this._state===xt.COMPLETE||this._state===xt.ERROR||this._state===xt.CANCELED||(this._state=e,this.emit(\"stateChanged\",[this._state,this]),e===xt.FINALIZING&&this._finalize(),e===xt.COMPLETE&&Promise.all(this._pending).then(this._resolve.bind(this))),this}_assertStateIsValid(t,s=this._state){Vt(this._dbgId,\"_assertStateIsValid() \",t,s);let n=!1;const r=\"Invalid state transition.\";switch(t){case\"init\":s===xt.NOT_INITIALIZED&&(n=!0);break;case\"start\":s!==xt.INITIALIZED&&s!==xt.WAITING&&s!==xt.STARTED||(n=!0);break;case\"pause\":s!==xt.INITIALIZING&&s!==xt.STARTED||(n=!0);break;case\"cancel\":n=!0}if(!n)throw Vt(this._dbgId,\"_aSIV() throw \",r),new e(e.INVALID_STATE,r,void 0,void 0,{method:t,currentState:s})}}function Ft(e,t,s){return new Yt(e,t,s)}function zt(t,s,n,r,i=\"defaultbuffer\",o,a,c){Ht(\"_doBlockDownload()\");const d=\"stream\"===i?void 0:Ft(t,\"buffer\",{startByte:n,endByte:r});(null!=this?this:{}).blockDownload=d;let l=p.resolve(s,void 0!==this?this:{});return o||(l=l.then((()=>t.invoke(Oe.GET,s,Object.assign({priority:\"u=1\"},c),void 0,{responseType:\"text\",isStatusValid:xe(),retryOptions:{pollCodes:[202],pollHeader:\"location\",pollMethod:\"GET\"}}))).then((t=>{const s=t.response.indexOf(\"href\")>0?S(t.response,'\"href\":\\\\s*\"([^;\"]*)\"'):\"\";if(\"string\"!=typeof s||\"\"===s)throw new e(e.UNEXPECTED_RESPONSE,\"No block download href found in response.\",void 0,t);return a=a||parseInt(S(t.response,'\"size\":\\\\s*(\\\\d+)')),s}))),l.then((e=>Be(this,void 0,void 0,(function*(){return d?Promise.race([d.init(e,a).then((()=>Ut.addAndStartDownload(d))),d.promise]).then((()=>({statusCode:200,headers:g({[Re.CONTENT_TYPE]:d.contentType,[Re.CONTENT_LENGTH]:d.totalSize}),responseType:i,response:$t(d.buffer,i,d.contentType),message:\"OK\"}))):t.invoke(Oe.GET,e,Wt(n,r),void 0,{responseType:\"stream\",isExternalRequest:!0})}))))}function $t(e,t,s){if(\"defaultbuffer\"===t||\"buffer\"===t||\"arraybuffer\"===t)return e.buffer;if(\"blob\"===t)return new Blob([e],{type:s});const n=D(e);if(\"text\"===t)return n;try{return JSON.parse(n)}catch(e){return n}}function Wt(e,t){if(null==e&&null==t)return{};return{range:`bytes=${null!=e?e:null!=t&&t>0?\"0\":\"\"}-${null!=t?Math.abs(t):\"\"}`}}const Kt=h(\"dcx:assets:private\");function qt(e,t,s,n,r=\"defaultbuffer\",o,c,d={},l=!1){let h;Kt(\"_getUrlFallbackDirect()\");const u=void 0!==this?this:{};return p.resolve(void 0,u).then((()=>e.invoke(Oe.GET,s,Object.assign({priority:\"u=1\"},d),void 0,{responseType:r,isStatusValid:xe([400])}))).then((e=>(Kt(\"_gUFD() status code\",e.statusCode),h=e,400===e.statusCode&&e.xhr?e.xhr.getResponseDataAsJSON():e))).then((e=>{const t=_(e)&&(400===h.statusCode||400===e.status)&&e.type===a.RESPONSE_TOO_LARGE;if(Kt(\"_gUFD() do direct\",t),!t&&400===h.statusCode)throw new i(i.UNEXPECTED_RESPONSE,\"Unexpected response\",void 0,h);return t})).then((s=>{if(!s)return h;if(!(\"location\"in h.headers)||\"string\"!=typeof h.headers.location){if(!Ge(t.links,[K.BLOCK_DOWNLOAD]))throw new i(i.INVALID_DATA,\"Resource too large and missing download link.\");const s=g({reltype:n,component_id:o,revision:c}),a=v(t.links,K.BLOCK_DOWNLOAD,{resource:n?JSON.stringify(s):void 0});return l?{statusCode:200,headers:g({[Re.CONTENT_TYPE]:h.headers[\"content-type\"],[Re.CONTENT_LENGTH]:h.headers[\"content-length\"]}),responseType:r,response:{href:a},message:\"OK\"}:zt.call(u,e,a,void 0,void 0,r,!1,void 0,d)}return l?{statusCode:200,headers:g({[Re.CONTENT_TYPE]:h.headers[\"content-type\"],[Re.CONTENT_LENGTH]:h.headers[\"content-length\"]}),responseType:r,response:{href:h.headers.location},message:\"OK\"}:zt.call(u,e,h.headers.location,void 0,void 0,r,!0,void 0,d)}))}function Zt({additionalHeaders:e={},asset:t,contentType:s,data:n,etag:r,headHref:o,href:a,maybeIsNew:c,relation:d,service:l},h=!1){if(Kt(\"_doUpload()\"),R([\"service\",l,\"object\"],[\"asset\",t,\"object\"],[\"href\",a,\"string\"],[\"headHref\",o,\"string\"],[\"contentType\",s,\"string\",!0],[\"maybeIsNew\",c,\"boolean\",!0],[\"etag\",r,\"string\",!0],[\"isRetry\",h,\"boolean\",!0],[\"additionalHeaders\",e,\"object\",!0]),null==c)return l.invoke(Oe.HEAD,o,e,void 0,{isStatusValid:xe([404])}).then((i=>{const c=200!==i.statusCode;return Zt({additionalHeaders:e,asset:t,contentType:s,data:n,etag:r,headHref:o,href:a,maybeIsNew:c,relation:d,service:l},h)}));const u=c;return u?delete e[Re.IF_MATCH]:e[Re.IF_MATCH]=r||\"*\",s&&(e[Re.CONTENT_TYPE]=s),l.invoke(Oe.PUT,a,e,n,{isStatusValid:xe([404,409,412]),retryOptions:{pollHeader:\"location\",pollCodes:[202]}}).then((c=>{const p=c.statusCode;if(p>400&&!h){if(null!=r)throw xe()(p,c);if(!u&&404===p)return Zt({additionalHeaders:e,asset:t,contentType:s,data:n,etag:r,headHref:o,href:a,maybeIsNew:!0,relation:d,service:l},!0);if(404===p)throw new i(i.NOT_FOUND,\"Unexpected response\",void 0,c);if(409===p||412===p)return Zt({additionalHeaders:e,asset:t,contentType:s,data:n,etag:r,headHref:o,href:a,maybeIsNew:void 0,relation:d,service:l},!0)}return c}))}const Xt=h(\"dcx:assets:bulk\");function Jt(e,t){const s=\"\\r\\n\";let n=Uint8Array.from([]);for(let r=0;r<e.length;r++){const i=e[r];n=P(n,k(0===r?`--${t}${s}`:`${s}--${t}${s}`)),n=P(n,k(`${[Re.CONTENT_TYPE]}: application/http${s}`)),n=P(n,k(`${s}${i.method} ${i.href}`));let o=!1;for(const e in i.headers){const t=e.toLowerCase();\"content-length\"===t&&(o=!0),n=P(n,k(`${s}${t}: ${i.headers[e]}`))}if(i.body){const e=Qt(i.body);o||(n=P(n,k(`${s}content-length: ${e.length}`))),n=P(n,k(`${s}${s}`)),n=P(n,e)}}return n=P(n,k(`${s}--${t}--${s}`)),n}function Qt(e){if(\"string\"==typeof e)return k(e);if(N(e))return new Uint8Array(e);if(ae(e))return e;throw new c(c.INVALID_PARAMS,\"Bulk subrequest body expecting string | ArrayBuffer | Buffer\")}function es(e,t){const s=e.headers[Re.CONTENT_TYPE];if(!s)throw new c(c.UNEXPECTED_RESPONSE,\"Missing boundary header in multipart response\");const n=s.split(\"=\")[1],r=function(e,t){const s=new Uint8Array(e),n=k(`--${t}`),r=ss(s,ts(s,n),n.byteLength);return r.map((e=>ns(e,!0)))}(e.response,n);if(t&&r.length!==t)throw new c(c.UNEXPECTED_RESPONSE,`Unexpected number of parts; Expected ${t}, Received ${r.length}`);return r}function ts(e,t){const s=new Array(256).fill(-1),n=[];for(let e=0;e<t.length;e++)s[t[e]]=e;let r=0;for(;r<=e.length-t.length;){let i=t.length-1;for(;i>=0&&t[i]===e[r+i];)i--;i<0?(n.push(r),r+=r+t.length<e.length?t.length-s[e[r+t.length]]:1):r+=Math.max(1,i-s[e[r+i]])}return n}function ss(e,t,s,n=!1){let r=n?0:void 0;const i=[];for(const n of t)void 0!==r&&i.push(e.subarray(r,n)),r=n+s;return n&&i.push(e.subarray(r)),i}function ns(e,t=!1){const s=k(\"\\r\\n\\r\\n\"),n=ts(e,s).slice(0,2),r=k(\"\\n\\n\"),i=ss(e,...n.length>0?[n,s.byteLength]:[ts(e,r).slice(0,2),r.byteLength],!0),o=i.slice(0,t||i.length>1?2:1).reduce(((e,t)=>Object.assign(e,C(D(t)))),{}),a=i.length>1?i[i.length-1]:void 0,c=parseInt(D(i[t?1:0]).split(\"\\r\\n\",1)[0].split(\" \")[1]),d=parseInt(o[\"content-length\"],10);let l;return l=isNaN(d)?0===(null==a?void 0:a.length)?new Uint8Array([]):a:0===d?new Uint8Array([]):null==a?void 0:a.subarray(0,d),{headers:o,response:o[Re.CONTENT_TYPE]===Se&&void 0!==l?JSON.parse(D(l)):l,statusCode:c}}function rs(e){if(e.length>10)throw new c(c.INVALID_PARAMS,\"A single bulk request can only contain a maximum of 10 sub-requests.\");const{writeOperations:t,readOperations:s}=e.reduce(((e,t)=>{if(\"string\"!=typeof t.href)throw new c(c.INVALID_PARAMS,\"A sub-request of the bulk operation is missing an href\");if(\"string\"!=typeof t.method)throw new c(c.INVALID_PARAMS,\"A sub-request of the bulk operation is missing the HTTP method\");const s=t.method.toUpperCase();if(!Object.values(Oe).includes(s))throw new c(c.INVALID_PARAMS,\"A sub-request of the bulk operation includes an invalid HTTP method\");return[Oe.GET,Oe.HEAD].includes(s)?e.readOperations.push(t):e.writeOperations.push(t),e}),{readOperations:[],writeOperations:[]});if(t.length>0&&s.length>0)throw new c(c.INVALID_PARAMS,\"Cannot mix READ and WRITE operations in bulk sub requests.\")}function is(e,t,s,n=\"id\",r={},i=!1){return Xt(\"performBulkRequest()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"requests\",s,\"array\"],[\"linkMode\",n,\"string\",!0,[\"id\",\"path\"]]),Ue(t.links,[K.BULK_REQUEST]),rs(s),os(e,t,s,n,r).then((({response:o,subresponses:a})=>Be(this,void 0,void 0,(function*(){const c=as(a,s);return{result:i?yield cs(e,t,c,n,r,a):a,response:o}}))))}function os(e,t,s,n=\"id\",r={}){const i=`boundary-${Date.now()}`,o=Jt(s,i),a=Object.assign(Object.assign({},r),{[Re.CONTENT_TYPE]:`multipart/mixed;boundary=${i}`}),c=y(t.links,K.BULK_REQUEST,n);return e.invoke(Oe.POST,c,a,o,{isStatusValid:xe(),responseType:\"defaultbuffer\",retryOptions:{pollHeader:\"location\",pollCodes:[202],pollMethod:Oe.GET}}).then((e=>({response:e,subresponses:es(e,s.length)})))}function as(e,t){return e.filter((({statusCode:e})=>L(e))).map((e=>t.find((({href:t})=>t===e.headers[\"content-id\"])))).filter((e=>e))}function cs(e,t,s,n=\"id\",r={},i,o=5){return Be(this,void 0,void 0,(function*(){if(0===s.length||o<=0)return i;if(1===s.length){const[t]=s,n=yield Te(e).invoke(t.method,t.href,t.headers,t.body,{isStatusValid:xe(),responseType:\"defaultbuffer\",retryOptions:{pollHeader:\"location\",pollCodes:[202],pollMethod:Oe.GET}});return n.headers[\"content-id\"]=t.href,i.map((e=>\"content-id\"in e.headers&&e.headers[\"content-id\"]===n.headers[\"content-id\"]?n:e))}const a=yield os(e,t,s,n,r).then((i=>Be(this,void 0,void 0,(function*(){const a=as(i.subresponses,s);return a.length?yield cs(e,t,a,n,r,i.subresponses,o-1):i.subresponses}))));return i.map((e=>a.find((t=>t.headers[\"content-id\"]===e.headers[\"content-id\"]))||e))}))}const ds=h(\"dcx:assets:asset\"),ls=h(\"dcx:assets:asset:leaf\");class hs{constructor(e,t,s={}){this.type=ye.Asset,this._data={},this._data=Xe(e),this._svc=Te(t),this._cache=ge(t),this._links=T({},e.links||{},e._links||{},s)}setLinks(e){this._links=e,this._updateCachedLinks()}get links(){return this._links}set links(e){this.setLinks(e)}setLink(e,t){this._links[e]=t,this._updateCachedLinks()}getLink(e){return this._links[e]}removeLink(e){delete this._links[e],this._updateCachedLinks()}_updateCachedLinks(){this._cache&&this._cache.setValueWithAsset(this.links,this.asset)}getLinkProperty(e,t,s=\"id\"){return ds(\"getLinkProperty()\"),f({_links:this._links},e,t,s)}getLinkHrefTemplated(e,t,s=\"id\"){return ds(\"getLinkHrefTemplated()\"),v({_links:this._links},e,t,s)}getLinkHref(e,t=\"id\"){return ds(\"getLinkHref()\"),y({_links:this._links},e,t)}get asset(){return Object.assign(Object.assign({},this._data),this.links)}get serviceConfig(){return{service:this._svc,cache:this._cache}}get repositoryId(){return this._data.repositoryId}set repositoryId(e){this._data.repositoryId=e}get assetId(){return this._data.assetId}set assetId(e){this._data.assetId=e}get path(){return this._data.path}set path(e){this._data.path=e}get name(){return this._data.name}get etag(){return this._data.etag}set etag(e){this._data.etag=e}get version(){return this._data.version}set version(e){this._data.version=e}get format(){return this._data.format}set format(e){this._data.format=e}get assetClass(){return this._data.assetClass}get createDate(){return this._data.createDate}get modifyDate(){return this._data.modifyDate}get discardDate(){return this._data.discardDate}get createdBy(){return this._data.createdBy}get modifiedBy(){return this._data.modifiedBy}get discardedBy(){return this._data.discardedBy}get deviceCreateDate(){return this._data.deviceCreateDate}get deviceModifyDate(){return this._data.deviceModifyDate}get baseAssetId(){return this._data.baseAssetId}set baseAssetId(e){this._data.baseAssetId=e}get state(){return this._data.state}get size(){return this._data.size}set size(e){this._data.size=e}get md5(){return this._data.md5}set defaultScheduledDeletionDuration(e){this._data.defaultScheduledDeletionDuration=e}get defaultScheduledDeletionDuration(){return this._data.defaultScheduledDeletionDuration}set scheduledDeletionDate(e){this._data.scheduledDeletionDate=e}get scheduledDeletionDate(){return this._data.scheduledDeletionDate}get assetType(){return this._data.assetType}set assetType(e){this._data.assetType=e}get assetSubType(){return this._data.assetSubType}set assetSubType(e){this._data.assetSubType=e}get representations(){return this._data.representations}get contributors(){return this._data.contributors}get les(){return this._data.les}set width(e){this._data.width=e}get width(){return this._data.width}set length(e){this._data.length=e}get length(){return this._data.length}fetchLinksIfMissing(e=[],t){return ds(\"fetchLinksIfMissing()\"),Hs(this.serviceConfig,this,e,void 0,t).then((({result:e,response:t})=>(this._updateDataWithResponse(t),this)))}useLinkOrResolveResource(e,t){return ds(\"useLinkOrResolveResource()\"),ws(this.serviceConfig,this,e,t).then((e=>(this._updateDataWithResponse(e.response),this.setLinks(T(this.links,e.result.links)),e)))}headPrimaryResource(e){return ds(\"headPrimaryResource()\"),this.fetchLinksIfMissing([K.PRIMARY],e).then((()=>ps(this.serviceConfig,this,e))).then((e=>(this._updateDataWithResponse(e),e)))}getRepresentation(e){return this._data.representations?this._data.representations[e]:void 0}getRepoMetadata(){return ds(\"getRepoMetadata()\"),this.useLinkOrResolveResource(K.REPO_METADATA,\"json\").then((e=>{this._data=T(this._data,e.result,Xe(e.response.response));const t=e.response.response;return t&&t._links&&this.setLinks(T(this.links,t._links)),{result:this._data,response:e.response}}))}updateRepoMetadata(e){return ds(\"updateRepoMetadata()\"),this.fetchLinksIfMissing([K.REPO_METADATA],e).then((()=>vs(this._svc,this,e)))}headAppMetadata(e){return ds(\"headAppMetadata()\"),this.fetchLinksIfMissing([K.APP_METADATA],e).then((()=>Ps(this.serviceConfig,this)))}getAppMetadata(e,t){return ds(\"getAppMetadata()\"),R([\"etag\",e,\"string\",!0]),this.fetchLinksIfMissing([K.APP_METADATA],t).then((()=>Ss(this._svc,this,e,t)))}putAppMetadata(e,t,s){return ds(\"putAppMetadata()\"),R([\"etag\",t,\"string\",!0],[\"metadata\",e,[\"object\",\"string\"]]),this.fetchLinksIfMissing([K.APP_METADATA],s).then((()=>Ds(this._svc,this,e,t,s)))}patchAppMetadata(e,t,s){return ds(\"patchAppMetadata()\"),R([\"patchDoc\",e,[\"string\",\"object[]\"]],[\"etag\",t,\"string\"]),this.fetchLinksIfMissing([K.APP_METADATA],s).then((()=>ks(this._svc,this,e,t,s)))}getBaseDirectoryMetadata(){return ds(\"getBaseDirectoryMetadata()\"),bs(this._svc)}getLinks(e){return ds(\"getLinks()\"),_(this.links)&&Object.keys(this.links).length>0?p.resolve(this.links):Rs(this._svc,this,e).then((e=>(this.setLinks(e),e)))}getRepositoryResource(e){return ds(\"getRepositoryResource()\"),this.fetchLinksIfMissing([K.REPOSITORY],e).then((()=>ms(this._svc,this,e))).then((e=>(this.repositoryId=e.result[\"repo:repositoryId\"],e)))}getEffectivePrivileges(e){return ds(\"getEffectivePrivileges()\"),this.fetchLinksIfMissing([K.EFFECTIVE_PRIVILAGES],e).then((()=>Ns(this._svc,this)))}performBulkRequest(e,t,s){return ds(\"performBulkRequest()\"),R([\"requests\",e,\"array\"],[\"linkMode\",t,\"string\",!0,[\"id\",\"path\"]]),this.fetchLinksIfMissing([K.BULK_REQUEST],s).then((()=>is(this._svc,this,e,t,s)))}getACLPolicy(e){return ds(\"getACLPolicy()\"),this.fetchLinksIfMissing([K.ACL_POLICY],e).then((()=>Cs(this._svc,this)))}checkACLPrivilege(e,t,s){return ds(\"checkACLPrivilege()\"),R([\"privilege\",e,\"string\"],[\"relation\",t,\"string\"]),this.fetchLinksIfMissing([K.ACCESS_CHECK],s).then((()=>Ls(this._svc,this,e,t)))}patchACLPolicy(e,t,s){return ds(\"patchACLPolicy()\"),R([\"policy\",e,[\"string\",\"object\"]]),this.fetchLinksIfMissing([K.ACL_POLICY],s).then((()=>Ms(this._svc,this,e,t)))}deleteACLPolicy(e){return ds(\"deleteACLPolicy()\"),this.fetchLinksIfMissing([K.ACL_POLICY],e).then((()=>Bs(this._svc,this)))}getPrimaryResource(e,t){ds(\"getPrimaryResource()\"),R([\"responseType\",e,\"string\"]);const s={};return this._withSourcePromise(s).then((()=>this.fetchLinksIfMissing([K.PRIMARY],t))).then((()=>us.call(s,this._svc,this,e,t)))}copy(e,t,s,n,r){return ds(\"copy()\"),R([\"destination\",e,[\"object\",\"string\"]],[\"createIntermediates\",t,\"boolean\"],[\"overwriteExisting\",s,\"boolean\"],[\"manifestPatch\",r,[\"object\",\"string\"],!0]),ft(this.serviceConfig,{repositoryId:this.repositoryId,assetId:this.assetId,path:this.path},e,t,s,n,r).then((({response:e,result:t})=>({response:e,result:new hs(t,this.serviceConfig)})))}copyResources(e,t,s,n,r){return ds(\"copyResources()\"),R([\"targetAsset\",e,\"object\"],[\"resources\",t,\"array\"],[\"manifestPatch\",n,[\"object\",\"string\"],!0],[\"intermediates\",s,\"boolean\",!0]),jt(this.serviceConfig,{repositoryId:this.repositoryId,assetId:this.assetId,path:this.path,version:this.version},e,t,s,n,r)}move(e,t,s,n){return ds(\"move()\"),R([\"destination\",e,[\"object\",\"string\"]],[\"createIntermediates\",t,\"boolean\"],[\"overwriteExisting\",s,\"boolean\"]),gt(this.serviceConfig,{repositoryId:this.repositoryId,assetId:this.assetId,path:this.path},e,t,s,n).then((({response:e,result:t})=>(this._data=Object.assign(Object.assign({},this._data),g(t)),{response:e,result:this})))}delete(e,t=!1,s){return ds(\"delete()\"),R([\"etag\",e,\"string\",!0],[\"recursive\",t,\"boolean\"]),yt(this.serviceConfig,{repositoryId:this.repositoryId,assetId:this.assetId,path:this.path},e,t,s).then((e=>(this._data.state=\"DELETED\",e)))}discard(e,t=!1,s){return ds(\"discard()\"),R([\"etag\",e,\"string\",!0],[\"recursive\",t,\"boolean\"]),At(this.serviceConfig,{repositoryId:this.repositoryId,assetId:this.assetId,path:this.path},e,t,s).then((e=>(this._data.state=\"DISCARDED\",e)))}package(e,t,s,n){return ds(\"package()\"),R([\"destination\",e,[\"object\",\"string\"]],[\"createIntermediates\",t,\"boolean\"],[\"overwriteExisting\",s,\"boolean\"]),Ot(this._svc,{repositoryId:this.repositoryId,assetId:this.assetId,path:this.path},e,t,s,n)}restore(e){return ds(\"restore()\"),Rt(this._svc,{repositoryId:this.repositoryId,assetId:this.assetId},e).then((({response:e,result:t})=>(this._data=Object.assign(Object.assign(Object.assign({},this._data),g(t)),{state:\"ACTIVE\"}),{response:e,result:this})))}_updateDataWithResponse(e){return e?(this._data.etag=e.headers.etag||this._data.etag,this._data.version=e.headers.version||this._data.version,this._data.assetId=e.headers[\"asset-id\"]||this._data.assetId,this._data.md5=e.headers[\"content-md5\"]||this._data.md5,this._data.repositoryId=e.headers[\"repository-id\"]||this._data.repositoryId,e):e}_withSourcePromise(e){return p.resolve(void 0,e)}}function us(e,t,s,n){ds(\"getPrimaryResource()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"responseType\",s,\"enum\",!0,Le]),Ue(t.links,[K.PRIMARY]);const r=y(t.links,K.PRIMARY);return qt.call({},e,t,r,K.PRIMARY,s,void 0,void 0,n)}function ps(e,t,s){ds(\"headPrimaryResource()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.PRIMARY]);const n=y(t.links,K.PRIMARY);return Te(e).invoke(Oe.HEAD,n,s,void 0,{isStatusValid:xe()}).then((s=>{const n=rt(s);t.links=T(t.links||{},n);const r=ge(e);return r&&r.setValueWithAsset(t.links||{},t),s}))}const _s=\"/content/directory/resolve{?repositoryId,id,resource,mode}\",Es=\"/content/directory/resolve{?repositoryId,path,resource,mode}\";function fs(e,t,s=\"id\",n,r){ls(\"getResolveLinkForAsset()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"mode\",s,\"enum\",!1,[\"id\",\"path\"]],[\"resource\",n,[\"string\",\"object\"],!0]),Fe(t);const i={repositoryId:t.repositoryId,id:t.assetId,path:t.path,mode:s,resource:_(n)?JSON.stringify(n):n},o=Te(e),a=Ae(t.assetId?_s:Es,o);return p.resolve(M(a,g(i)))}const Is=\"/content/create/~/:create{?path,mode,intermediates,respondWith,repoMetaPatch*}\";const Ts=\"/content/create/~/:block_upload\";function gs(e,t,s=\"id\",n,r,i){ls(\"resolveAsset()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"mode\",s,\"enum\",!0,[\"id\",\"path\"]],[\"resource\",n,[\"string\",\"object\"],!0]),Fe(t);const o=Te(e),a=ge(e),c=a&&t.assetId&&t.repositoryId&&\"id\"===s;return c&&(ls(\"rA() set pending\"),a.setPending(t.assetId,t.repositoryId)),fs(e,t,s,n).then((e=>null==n?Ke(o,e,i):qe(o,e,i,r))).then((e=>({response:e,result:zs(t,e,\"id\"===s,a)}))).catch((e=>{throw c&&a.deleteWithAsset(t),e}))}function As(e,t,s){return ls(\"fetchLinksForAsset()\"),ys(e,t,s).then((e=>e.result.links))}function ys(e,t,s){if(ls(\"fetchAsset()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),ue(t))return gs(e,t,\"id\",void 0,void 0,s).then((e=>e));let n;try{n=Ve(t.links,[K.ID,K.REPO_METADATA,K.PRIMARY,K.PATH])}catch(e){throw new i(i.INVALID_PARAMS,\"Asset is not resolvable. Must contain repositoryId & path, assetId, or links.\",e)}const r=y(t.links,n),o=Te(e),a=ge(e);return o.invoke(Oe.HEAD,r,s,void 0,{isStatusValid:xe()}).then((e=>({result:zs(t,e,n===K.ID,a),response:e})))}function Rs(e,t,s){ls(\"getLinksForAsset()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]);const n=t.links||t[q.LINKS];if(_(n)&&0!==Object.keys(n).length)return p.resolve(n);const r=ge(e);if(r){const e=r.getValueWithAsset(t);if(e)return p.resolve(e)}return As(e,t,s)}function Os(e,t,s){ls(\"getRepoMetadata()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.REPO_METADATA]);const n=y(t.links,K.REPO_METADATA);return e.invoke(Oe.GET,n,s,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>{const t=rt(e),s=e.response;return s[q.LINKS]=T({},s[q.LINKS],t),{result:s,response:e}}))}function vs(e,t,s){ls(\"updateRepoMetadata()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.REPO_METADATA]);const n=y(t.links,K.REPO_METADATA),r=Object.assign({[Re.CONTENT_TYPE]:De},s),i=et(t);return e.invoke(Oe.PATCH,n,r,JSON.stringify(i),{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function bs(e,t){throw ls(\"getBaseDirectoryMetadata()\"),new i(i.NOT_IMPLEMENTED,\"Method not implemented.\")}function ms(e,t,s){ls(\"getRepositoryResource()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.REPOSITORY]);const n=y(t.links,K.REPOSITORY);return e.invoke(Oe.GET,n,s,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function Ps(e,t,s){ds(\"headAppMetadata()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.APP_METADATA]);const n=y(t.links,K.APP_METADATA);return Te(e).invoke(Oe.HEAD,n,s,void 0,{isStatusValid:xe()}).then((s=>{const n=rt(s);t.links=T(t.links||{},n);const r=ge(e);return r&&r.setValueWithAsset(t.links,t),s}))}function Ss(e,t,s,n={}){ls(\"getAppMetadata()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"etag\",s,\"string\",!0]);const r=y(t.links,K.APP_METADATA),i=Object.assign({},n);return s&&(i[Re.IF_NONE_MATCH]=s),e.invoke(Oe.GET,r,i,void 0,{responseType:\"json\",isStatusValid:xe([304])}).then((e=>{let t=e.response,n=e.headers.etag;return 304===e.statusCode&&(t=null,n=s),{result:t,response:e,etag:n}}))}function Ds(e,t,s,n,r={}){ls(\"putAppMetadata()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"metadata\",s,[\"object\",\"string\"]],[\"etag\",n,\"string\",!0]),Ue(t.links,[K.APP_METADATA]);const i=y(t.links,K.APP_METADATA);return e.invoke(Oe.PUT,i,g(Object.assign(r,{[Re.IF_MATCH]:n,[Re.CONTENT_TYPE]:Pe})),\"string\"==typeof s?s:JSON.stringify(s),{isStatusValid:xe()}).then((e=>({response:e,result:{etag:e.headers.etag}})))}function ks(e,t,s,n,r={}){ls(\"patchAppMetadata()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"metadata\",s,[\"object[]\",\"string\"]],[\"etag\",n,\"string\"]),Ue(t.links,[K.APP_METADATA]);const i=y(t.links,K.APP_METADATA);return e.invoke(Oe.PATCH,i,g(Object.assign(r,{[Re.IF_MATCH]:n,[Re.CONTENT_TYPE]:De})),\"string\"==typeof s?s:JSON.stringify(s),{isStatusValid:xe()}).then((e=>({response:e,result:{etag:e.headers.etag}})))}function Ns(e,t,s){ls(\"getEffectivePrivileges()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.EFFECTIVE_PRIVILAGES]);const n=y(t.links,K.EFFECTIVE_PRIVILAGES);return e.invoke(Oe.GET,n,s,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function Cs(e,t,s){ls(\"getACLPolicy()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.ACL_POLICY]);const n=y(t.links,K.ACL_POLICY);return e.invoke(Oe.GET,n,s,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function Ls(e,t,s,n,r={}){ls(\"checkACLPrivilege()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"privilege\",s,\"string\",!1,[\"ack\",\"read\",\"write\",\"delete\"]]),Ue(t.links,[K.ACCESS_CHECK]);const i=v(t.links,K.ACCESS_CHECK,{privilege:s.toString(),relation:n});return e.invoke(Oe.GET,i,Object.assign({directive:\"acl-check-no-body\"},r),void 0,{responseType:\"json\",isStatusValid:xe([403])}).then((e=>({result:403!==e.statusCode,response:e})))}function Ms(e,t,s,n,r={}){ls(\"patchACLPolicy()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"policy\",s,[\"string\",\"object\"]],[\"etag\",n,\"string\",!0]),Ue(t.links,[K.ACL_POLICY]);const i=g(Object.assign(r,{[Re.CONTENT_TYPE]:De,[Re.IF_MATCH]:n})),o=y(t.links,K.ACL_POLICY);return Te(e).invoke(Oe.PATCH,o,i,\"string\"==typeof s?s:JSON.stringify(s),{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function Bs(e,t,s={}){ls(\"deleteACLPolicy()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.ACL_POLICY]);const n=y(t.links,K.ACL_POLICY);return Te(e).invoke(Oe.DELETE,n,s,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function ws(e,t,s,n,r){ls(\"useLinkOrResolveResource()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"resource\",s,\"string\"]);const o=Te(e);let a;try{a=y(t.links,s)}catch(e){}return p.resolve(a).then((n=>{if(\"string\"==typeof n)return ls(\"uLORR() asset has link\"),n;const r=ge(e);return Gs(t,r,[s])})).then((e=>{if(\"string\"==typeof e)return e;try{return y(e,s)}catch(e){return}})).then((a=>{if(\"string\"==typeof a)return ls(\"uLORR() cache or asset had link\"),o.invoke(Oe.GET,a,r,void 0,{isStatusValid:xe(),responseType:n});if(!ue(t))throw new i(i.INVALID_PARAMS,\"Asset is not resolvable. Must contain repository ID + path/id or links.\");return gs(e,t,\"id\",s,n,r)})).then((e=>oe(e)?e:{result:t,response:e}))}function js(e,t,s=[],n=!1,r){return Hs(e,t,s,n,r).then((({result:e})=>e))}const xs=new Set([K.BASE_DIRECTORY,K.RESOLVE_BY_ID,K.RESOLVE_BY_PATH,K.REPO_OPS,K.REPOSITORY,K.DIRECTORY,K.DISCARD,K.RESTORE,K.PATH,K.ANNOTATIONS]),Us=\"/links{?assetId,repositoryId,clientRegion}\";function Vs(e,t,s){const n=function(e,t){ls(\"getLinksAPIUrlForAsset()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]);const s=Te(e),n=Ae(Us,s),{assetId:r,repositoryId:i,contentRegion:o}=t,a=g({assetId:r,repositoryId:i,contentRegion:o});return M(n,a)}(e,t);return Te(e).invoke(Oe.GET,n,s,void 0,{responseType:\"json\"}).then((s=>{const n=ge(e);return t.links=Object.assign({},t.links,s.response._links),null==n||n.setValueWithAsset(t.links,t),{response:s,result:t}}))}function Hs(e,t,s=[],n=!1,r){if(ls(\"fetchLinksIfMissing()\",s),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"linksToPopulate\",s,\"string[]\"],[\"suppressMissingErrors\",n,\"boolean\",!0]),Ge(t.links,s))return ls(\"fLIM() links exist\"),p.resolve({result:t.links});const o=ge(e);return Gs(t,o,s,!0).then((n=>n||(function(e,t){return\"string\"==typeof e.assetId&&e.assetId.length>0&&t.every((e=>!xs.has(e)))}(t,s)?Vs(e,t,r):(ls(\"fLIM() fetching links\"),ys(e,t,r))))).then((r=>{let o,a,c=r;if(oe(r)&&(o=r.response,c=r.result.links,a=r.result),t.links!==c){t.links=T(t.links||{},c);const s=ge(e);s&&s.setValueWithAsset(t.links,t)}if(!n&&!Ge(c,s))throw new i(i.INVALID_PARAMS,\"Required links could not be fetched for asset.\",void 0,o,g({required:s,asset:a}));return ls(\"fLIM() fetchedOCached exists\"),{result:c||t.links,response:o}}))}function Gs(e,t,s,n){if(ls(\"getLinksFromCache()\"),!t)return p.resolve(void 0);const r=t.getValueWithAsset(e);return null==r?(n&&t.setPending(e.assetId,e.repositoryId),p.resolve(void 0)):p.resolve(r).then((r=>s?Ge(r,s)?r:void(n&&t.setPending(e.assetId,e.repositoryId)):r))}function Ys(e){ls(\"assetTransformer()\");const t=Xe(e);return t.links=T({},e.links,e._links),[t.assetId,t]}function Fs(e,t,s,n,r,i,o){return jt(e,t,s,n,r,i,o)}function zs(e,t,s,n){const r=rt(t),i=Object.assign(Object.assign(Object.assign({},function(e){if(!_(e.asset))return e;return e.asset}(e)),g({assetId:t.headers[\"asset-id\"]||t.headers[\"x-resource-id\"],format:t.headers[Re.CONTENT_TYPE],md5:t.headers[\"content-md5\"],etag:t.headers.etag,version:t.headers.version,repositoryId:t.headers[\"repository-id\"]})),{links:r});return s&&r&&Object.keys(r).length>0&&n&&n.setValueWithAsset(r,i),i}const $s=h(\"dcx:assets:block_transfer\"),Ws=10485760,Ks=52428800,qs=4,Zs=Ws/4;let Xs=Ks;function Js(e,t){const s=function(e){return Qs(e,te.REPO_MIN_BLOCK_TRANSFER_SIZE)}(e);if(s&&t<s)return!1;const n=en(e);return!!(n&&t>n)||t>Ws}function Qs(e,t){if(!Ge(e.links,[K.BLOCK_UPLOAD_INIT]))return;const s=f(e.links,K.BLOCK_UPLOAD_INIT,t);return s?parseInt(s):void 0}function en(e){return Qs(e,te.MAX_SINGLE_TRANSFER_SIZE)}const tn=(e,t=52428800)=>((e,t)=>e>=t)(e,t),sn=e=>\"string\"==typeof e?e.length>=Zs?k(e).byteLength:e.length:\"size\"in e?e.size:e.byteLength,nn=(e,t)=>{if(!E(e))return e;if(e.length<2)throw new i(i.INVALID_PARAMS,\"GetSliceCallback is expected to accept 2 parameters\");if(void 0===t||isNaN(t)||t<0)throw new i(i.INVALID_PARAMS,\"Size parameter should indicate total number of bytes to be read from GetSliceCallback\");return{getSlice:e,size:t}},rn=()=>Xs,on=e=>{if(Number.isNaN(e)||\"number\"!=typeof e||e<=0)throw new i(i.INVALID_PARAMS,\"Invalid block download threshold, must be positive integer\");Xs=e};function an(e,t,s,n=4){var r;const o=null!==(r=en(s))&&void 0!==r?r:Ws,a=o*n,c=new ArrayBuffer(a),d=new Uint8Array(c);let l=0;const h=B(e)?e.pipeThrough(function(e,t){let s;const n=new ByteLengthQueuingStrategy({highWaterMark:e*t});return{writable:new WritableStream({write(t){if($s(\"Chunk Received:\",t.byteLength),t.byteLength<e)s.enqueue(t);else{const n=Math.ceil(t.byteLength/e),r=[...Array(n).keys()].map((s=>t.subarray(s*e,Math.min((s+1)*e,t.byteLength))));for(const e of r)$s(\"enqueue smaller chunk:\",e.byteLength),s.enqueue(e)}},close(){s.close()}},n),readable:new ReadableStream({start(e){s=e}},n)}}(o,n)).getReader():e;let u=!1,p=Promise.resolve();return function(e,t){return Be(this,void 0,void 0,(function*(){if(u)return new Uint8Array([]);try{let s;const n=new Promise(((r,i)=>Be(this,void 0,void 0,(function*(){function o(s){const n=l%a;if(s.byteLength+n>a){const e=a-n;d.set(s.subarray(0,e),n),d.set(s.subarray(e),0)}else d.set(s,n);if(l+=s.byteLength,$s(`chunk ${e}-${t} progress: ${l-e}/${t-e}`),l>=t){const s=d.subarray(e%a,t%a||t);$s(`resolving slice - start:  ${e}, end: ${t}, length: ${s.byteLength}`),r(s)}}if(w(h)){function c(){return Be(this,void 0,void 0,(function*(){const e=h.read(t-l);null!==e&&o(e)}))}const _=()=>{u=!0,r(d.subarray(e%a,l%a||a))},E=()=>{h.off(\"readable\",c),h.off(\"end\",_),h.off(\"error\",i)},f=()=>{h.on(\"readable\",c),h.on(\"end\",_),h.on(\"error\",i)};s=()=>Be(this,void 0,void 0,(function*(){f(),yield c(),n.finally(E)}))}else{function I(){return Be(this,void 0,void 0,(function*(){const{value:s,done:n}=yield h.read();return n?(u=!0,$s(\"End of stream\",e,l),r(d.subarray(e%a,l%a||a))):(o(s),l<=t?yield I():void 0)}))}s=()=>($s(\"starting read for slice\",e,t),I())}p=p.then((()=>Be(this,void 0,void 0,(function*(){s(),yield n}))))}))));return n}catch(e){throw new i(i.UNEXPECTED,e.message,e)}}))}}function cn(e,t,s,n){const r=C(n);return{id:t,length:s,type:e,links:it(r.link),etag:r.etag,location:r.location,version:r.version,revision:r.revision,md5:r[\"content-md5\"]}}function dn(e){return new Promise((t=>{let s;e.finally((()=>{clearTimeout(s),t(void 0)})),function n(){[\"blockUpload\",\"blockDownload\"].forEach((r=>{if(_(e[r]))return clearTimeout(s),t(e[r]);clearTimeout(s),s=setTimeout(n,1)}))}()}))}function ln(e,t){return Be(this,void 0,void 0,(function*(){const s=yield dn(e);if(s)return t&&s.on(\"stateChanged\",t),yield s.pause(),s}))}const hn=h(\"dcx:assets:blockupload\"),un=h(\"dcx:assets:blockupload:leaf\");class pn extends b{constructor(e,t,s,n,r,o,a,c,d,l,h,u,_,E){super([\"stateChanged\"]),this._internalBlockUploadId=j(),this._state=xt.NOT_INITIALIZED,this._currentBlockIndex=0,this._pendingBlockRequests=new Map,this._bytesUploaded=0,this._indeterminateTransfer=!1,this._maxConcurrentRequests=4,this._retryQueue=new Set,this._activeBlockIndex=0,this._lastExtendTime=0,this._uploadedBlocksURLs=[],this._service=e,this._getSliceCallback=t,Ee(s)?(R([te.REPO_SIZE,s[te.REPO_SIZE],\"number\"]),this._blockTransferDocument=s,this._transferBlockLinks=this._blockTransferDocument[q.LINKS][K.BLOCK_TRANSFER],this._dataSize=this._blockTransferDocument[te.REPO_SIZE],this._relationType=this._blockTransferDocument[te.REPO_REL_TYPE],this._shiftState(xt.INITIALIZED),hn(`BlockUpload Initialized: Transfer document found with ${this._transferBlockLinks.length} links. BlockUploadId: ${this._internalBlockUploadId}`)):(R([\"relationType\",n,\"string\"],[\"dataSize\",r,\"number\"],[\"contentType\",o,\"string\"],[\"componentId\",a,\"string\",!0],[\"etag\",d,\"string\",!0]),this._asset=s,Ue(this._asset.links,[K.BLOCK_UPLOAD_INIT],i.UNEXPECTED,\"/rel/block/init missing from BlockTransferDocument.\"),this._relationType=n,this._dataSize=r,this._contentType=o,this._componentId=a,this._md5=c,this._ifMatch=d),this._relPath=l,this._createIntermediates=h,this._respondWith=u,this._repoMetaPatch=_,this._maxConcurrentRequests=E||4,this._promise=new p(((e,t)=>{this._reject=t,this._resolve=e})),Ut.uploads.push(this)}init(e){if(this._assertStateIsValid(\"init\"),!this._blockTransferDocument||!this._blockTransferDocument[q.LINKS]){this._shiftState(xt.INITIALIZING);const t=g(Object.assign({[te.REPO_REL_TYPE]:this._relationType,[te.REPO_IF_MATCH]:this._ifMatch,[te.REPO_SIZE]:this._dataSize,[te.DC_FORMAT]:this._contentType,[te.COMPONENT_ID]:this._componentId,[te.REPO_MD5]:this._md5},this._blockTransferDocument));return _n(this._service,this._asset,t,e).then((e=>(this._blockTransferDocument=e.result,this._transferBlockLinks=this._blockTransferDocument[q.LINKS][K.BLOCK_TRANSFER],this._shiftState(xt.INITIALIZED),hn(`BlockUpload Initialized: Transfer document found with ${this._transferBlockLinks.length} links. BlockUploadId: ${this._internalBlockUploadId}`),this)))}return p.resolve(this)}get state(){return this._state}get promise(){return this._promise}start(){return this._assertStateIsValid(\"start\"),Ut.uploads[0]!==this||this._state!==xt.INITIALIZED&&this._state!==xt.PAUSED||(hn(`Starting the transfer of BlockUpload: ${this._internalBlockUploadId}`),this._shiftState(xt.STARTED),this._uploadLoop()),this._promise}pause(){return this._assertStateIsValid(\"pause\"),this._shiftState(xt.PAUSING),p.allSettled([...this._pendingBlockRequests.values()]).then((()=>(this._shiftState(xt.PAUSED),hn(`BlockUploading has been paused.  BlockUploadId: ${this._internalBlockUploadId}`),this)))}resume(){return this._assertStateIsValid(\"resume\"),hn(`BlockUploading has been resumed.  BlockUploadId: ${this._internalBlockUploadId}`),this.start(),this}cancel(){this._assertStateIsValid(\"cancel\"),this._shiftState(xt.CANCELED),hn(`A BlockUpload has been canceled... BlockUploadId: ${this._internalBlockUploadId}`),this._promise.cancel(),this._cancel()}_setWaiting(){this._shiftState(xt.WAITING)}uploadNextBlock(e){if(this._assertStateIsValid(\"uploadNextBlock\"),this._isEmptyBlock(e))throw new i(i.INVALID_PARAMS,\"Trying to upload empty data block.\");const t=this._activeBlockIndex,s=Date.now(),n=this._blockTransferDocument[q.LINKS][K.BLOCK_TRANSFER][t].href;let r;hn(`Uploading a block... BlockUploadId: ${this._internalBlockUploadId}`);const o=sn(e),a=this._uploadBlock(e,n).then((e=>(this._uploadedBlocksURLs[t]={href:n},this._updateProgress(o),r(),hn(`A block has completed... ${this._pendingBlocksCount} requests still active. BlockUploadId: ${this._internalBlockUploadId}`),e))).catch((e=>(r(),this._isTransferUrlExpiredError(e)?(hn(`A block with index as ${t} has FAILED due to Transfer Expiry!! ${this._pendingBlocksCount} requests still active. BlockUploadId: ${this._internalBlockUploadId}`),this._retryQueue.add(t),s<=this._lastExtendTime?(hn(`Skipping extend for block ${t} — request started after last extend.`),this._maybePauseForRetry().then((()=>p.reject(xt.PAUSED)))):this._maybeExtendWithPauseResume().catch((e=>(hn(`Extend flow failed for block ${t}`,e),p.reject(e))))):(hn(`A block upload has failed. BlockUploadId: ${this._internalBlockUploadId}`),this._shiftState(xt.ERROR),this._reject(new i(i.UNEXPECTED_RESPONSE,\"A block has failed during upload\",e,e.response)),this.cancel(),p.reject(e)))));return r=this._pushPendingBlockRequest(t,a),a}get _pendingBlocksCount(){return Ut.pendingUploadRequests.filter((e=>!!e)).length}_nextBlockLock(){return this._pendingBlocksCount<this._maxConcurrentRequests?Promise.resolve():Promise.race(Ut.pendingUploadRequests.filter((e=>!!e)))}_handleAssetMoved(e){throw hn(\"_handleAssetMoved\"),this._pendingBlockRequests.forEach((e=>{e.abort()})),this._pendingBlockRequests.clear(),this._uploadedBlocksURLs.length=0,this._transferBlockLinks.length=0,this._asset.links=Object.assign(Object.assign({},this._asset.links),rt(e.response)),this._retryQueue.clear(),this._activeBlockIndex=0,this._lastExtendTime=0,this._currentBlockIndex=0,this._bytesUploaded=0,this._state=xt.NOT_INITIALIZED,this._blockTransferDocument[q.LINKS]=void 0,this.init().then((()=>this.start())),xt.INITIALIZING}_getNextUploadBlockData(){if(this._retryQueue.size>0){const[e]=this._retryQueue;this._retryQueue.delete(e),this._activeBlockIndex=e}else this._activeBlockIndex=this._currentBlockIndex;return this._getBlockAtIndex(this._activeBlockIndex)}_uploadLoop(){this._nextBlockLock().then((()=>{if(this._state===xt.FINALIZING||this._state===xt.COMPLETE)throw xt.COMPLETE;if(this._state===xt.PAUSING||this._state===xt.PAUSED)throw xt.PAUSED;if(this._state===xt.CANCELED)throw xt.CANCELED;if(this._state===xt.ERROR)throw xt.ERROR})).then((()=>this._getNextUploadBlockData())).then((e=>this._isEmptyBlock(e)?(hn(`No more blocks.  BlockUploadId: ${this._internalBlockUploadId}`),Promise.all([...this._pendingBlockRequests.values()]).then(this._finalize.bind(this))):e&&sn(e)>0&&this._activeBlockIndex>=this._transferBlockLinks.length?this._extend().then((()=>e)):e)).then((e=>{if(!e)throw xt.COMPLETE;this.uploadNextBlock(e),this._activeBlockIndex===this._currentBlockIndex&&this._currentBlockIndex++})).then((()=>{this._uploadLoop()})).catch((e=>{if(\"string\"!=typeof e&&(this._continueBlockUploads(),this._reject(e)),e!==xt.INITIALIZING)if(e!==xt.COMPLETE){if(e!==xt.PAUSED)return e===xt.CANCELED?(hn(`BlockUpload loop is terminated due to the upload being canceled. BlockUploadId: ${this._internalBlockUploadId}`),void this._continueBlockUploads()):e===xt.ERROR?(hn(`BlockUpload loop is terminated due to error state. BlockUploadId: ${this._internalBlockUploadId}`),void this._continueBlockUploads()):void 0;hn(`BlockUpload loop is terminated due to paused state. BlockUploadId: ${this._internalBlockUploadId}`)}else hn(`BlockUpload loop is complete. BlockUploadId: ${this._internalBlockUploadId}`);else hn(`BlockUpload loop must be re-started due to assetmoved BlockUploadId: ${this._internalBlockUploadId}`)}))}_getBlockAtIndex(e){hn(`_getBlockAtIndex(${e})`);const t=Math.min(this._dataSize,this._blockTransferDocument[te.REPO_BLOCK_SIZE]);if(this._state===xt.STARTED){const s=e*t;return hn(\"calling _getSliceCallback\",s,s+t),this._getSliceCallback(s,s+t).catch((e=>{throw new i(i.UNEXPECTED_RESPONSE,\"The getSliceCallback threw an unexpected error.\",e)}))}}_uploadBlock(e,t){return this._service.invoke(Oe.PUT,t,void 0,e,{isStatusValid:xe(),isExternalRequest:!0})}_isEmptyBlock(e){return\"string\"==typeof e?0===e.length:he(e)?0===e.size:!e||0===e.byteLength}_extend(e=!0){Ue(this._blockTransferDocument[q.LINKS],[K.BLOCK_EXTEND],i.UNEXPECTED,\"The transfer document does not contain an extend href\");const t=this._blockTransferDocument[te.REPO_SIZE],s=e?Math.ceil(1.5*t):t,n=v(this._blockTransferDocument[q.LINKS],K.BLOCK_EXTEND,{size:s});return this._service.invoke(Oe.POST,n,{},void 0,{isStatusValid:xe(),responseType:\"json\"}).then((t=>(this._indeterminateTransfer=!0,this._blockTransferDocument=t.response,this._transferBlockLinks=this._blockTransferDocument[q.LINKS][K.BLOCK_TRANSFER],hn(`Transfer document extended (${e?\"size increased\":\"URL refresh only\"}): ${this._transferBlockLinks.length} transfer links. BlockUploadId: ${this._internalBlockUploadId}`),t))).catch((e=>{throw r(e)&&e.problemType===a.ASSET_MOVED&&this._handleAssetMoved(e),new i(i.UNEXPECTED_RESPONSE,\"An unexpected error occurred while extending the block transfer document.\",e,e.response)}))}_maybeExtendWithPauseResume(){if(this._extendPromise)return hn(\"Reusing in-progress extend (with pause/resume)\"),p.reject(xt.PAUSED);hn(\"[_maybeExtendWithPauseResume] Setting state to PAUSED and triggering extend\"),this._shiftState(xt.PAUSED);const e=p.resolve().then((()=>(hn(\"[_maybeExtendWithPauseResume] Pause done, calling _extend()\"),this._extend(!1)))).then((e=>(this._lastExtendTime=Date.now(),hn(\"[_maybeExtendWithPauseResume] Extend done, calling resume()\"),p.resolve(this.resume()).then((()=>(hn(\"[_maybeExtendWithPauseResume] Resume done\"),e))))));return this._extendPromise=e.finally((()=>{this._extendPromise=void 0})),p.reject(xt.PAUSED)}_maybePauseForRetry(){return this._state===xt.PAUSED||this._state===xt.PAUSING?(hn(\"[_maybePauseForRetry] Already in PAUSED or PAUSING state — skipping.\"),p.resolve()):(hn(\"[_maybePauseForRetry] Shifting to PAUSED state to trigger retry mechanism.\"),this._shiftState(xt.PAUSED),hn(\"[_maybePauseForRetry] Calling resume() to restart upload loop for retries.\"),this.resume(),p.resolve())}_isTransferUrlExpiredError(e){var t,s;const n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.statusCode,r=null==e?void 0:e.code,i=(null===(s=null==e?void 0:e.response)||void 0===s?void 0:s.response)||\"\";return hn(`[TransferExpiryCheck] StatusCode: ${n}`),hn(`[TransferExpiryCheck] Code: ${r}`),hn(`[TransferExpiryCheck] RawResponse: ${i}`),!(403!==n&&\"FORBIDDEN\"!==r||\"string\"!=typeof i||!i.toLowerCase().includes(\"request has expired\"))}_pushPendingBlockRequest(e,t){this._pendingBlockRequests.set(e,t);const s=Ut.pendingUploadRequests.push(t);return()=>{this._pendingBlockRequests.delete(e),delete Ut.pendingUploadRequests[s-1]}}_updateProgress(e){if(hn(\"_updateProgress()\",e),\"number\"==typeof e&&(this._bytesUploaded+=e),this.onProgress&&E(this.onProgress))try{this.onProgress(this._bytesUploaded,Math.max(this._blockTransferDocument[te.REPO_SIZE],this._bytesUploaded),this._indeterminateTransfer)}catch(e){console.error(\"Error in onProgress callback\",e)}}_cancel(){this._pendingBlockRequests.forEach((e=>{null==e||e.cancel()})),this._state!==xt.ERROR&&this._resolve(this)}_assertStateIsValid(e,t){const s=t||this._state;switch(e){case\"init\":if(s!==xt.NOT_INITIALIZED&&s!==xt.INITIALIZED)throw new i(i.INVALID_STATE,\"BlockUpload has already been initialized\");break;case\"start\":if(s===xt.NOT_INITIALIZED)throw new i(i.INVALID_STATE,\"Please call init before starting the block upload\");break;case\"uploadNextBlock\":if(s===xt.PAUSED||s===xt.CANCELED)throw new i(i.INVALID_STATE,\"Cannot add block when Paused or Cancelled\");break;case\"getBlockAtIndex\":if(s!==xt.STARTED)throw new i(i.INVALID_STATE,`Cannot fetch block while in the ${s} state`);break;case\"cancel\":if(s!==xt.STARTED&&s!==xt.FINALIZING&&s!==xt.PAUSING&&s!==xt.PAUSED&&s!==xt.ERROR)throw new i(i.INVALID_STATE,`Trying to cancel while in an invalid state ${s}`)}}_continueBlockUploads(){if(hn(\"continueBlockUploads()\"),Ut.uploads[0]===this)if(Ut.uploads.shift(),Ut.uploads.length>0){const e=Ut.uploads[0];hn(\"Another block upload found in the queue, starting...\"),e.start()}else 0===this._pendingBlocksCount&&(hn(\"There are no more pending block transfers.. Clean up blockUploadManager..\"),Ut.resetUploads())}_finalize(){hn(`Finalizing block transfer.  BlockUploadId: ${this._internalBlockUploadId}`),this._shiftState(xt.FINALIZING);const e=v(this._blockTransferDocument[q.LINKS],K.BLOCK_FINALIZE,g({path:this._relPath,intermediates:this._createIntermediates,respondWith:_(this._respondWith)?JSON.stringify(this._respondWith):this._respondWith,repoMetaPatch:this._repoMetaPatch}));return this._blockTransferDocument[q.LINKS][K.BLOCK_TRANSFER]=this._uploadedBlocksURLs,this._service.invoke(Oe.POST,e,{[Re.CONTENT_TYPE]:Ne},JSON.stringify(g(this._blockTransferDocument)),{isStatusValid:xe(),retryOptions:{pollHeader:\"location\",pollCodes:[202],timeoutAfter:12e4},responseType:\"arraybuffer\"}).then((e=>{if(200===e.statusCode||201===e.statusCode){hn(`Finalize complete.  BlockUploadId: ${this._internalBlockUploadId}`);const t=ns(new Uint8Array(e.response));if(this._relationType===K.PRIMARY){if(this.finalizeResponse=t,this.createdAsset=g({assetId:t.headers[\"asset-id\"],repositoryId:t.headers[\"repository-id\"],links:it(t.headers.link),etag:t.headers.etag,md5:t.headers[\"content-md5\"]}),t.response&&this._respondWith)try{const e=JSON.parse(D(t.response));t.response=e,this.createdAsset=x(this.createdAsset,Xe(e))}catch(e){throw new i(i.UNEXPECTED,\"Unexpected error parsing respondWith parameter\",e)}}else{this.finalizeResponse=e;try{this.uploadRecord=cn(this._blockTransferDocument[te.DC_FORMAT],this._blockTransferDocument[te.COMPONENT_ID],this._bytesUploaded,D(e.response))}catch(e){throw new i(i.UNEXPECTED,\"An error occurred while deserializing upload component record.\",e,t)}}this._shiftState(xt.COMPLETE),this._updateProgress(!0),this._resolve(this)}this._continueBlockUploads()})).catch((e=>{if(r(e))switch(e.problemType){case a.ASSET_MOVED:return void this._handleAssetMoved(e);case a.ASSET_NAME_CONFLICT:return hn(\"Error occurred finalizing the block transfer due to asset name conflict.. Rejecting with ALREADY_EXISTS\"),this._reject(new i(i.ALREADY_EXISTS,\"Asset name conflict occurred during block transfer finalization.\",e,e.response)),void this._continueBlockUploads()}hn(\"Error occurred finalizing the block transfer.. Rejecting\"),this._reject(new i(i.UNEXPECTED_RESPONSE,\"An error occurred while finalizing the block transfer.\",e,e.response)),this._continueBlockUploads()}))}_shiftState(e){return hn(`_shiftState(): ${e}`),this._state===xt.COMPLETE||this._state===xt.ERROR||this._state===xt.CANCELED||(this._state=e,this.emit(\"stateChanged\",[this._state])),this}}function _n(e,t,s,n={}){if(R([\"svc\",e,\"object\"],[\"assetOrLink\",t,[\"object\",\"string\"]],[\"transferDocument\",s,\"object\"],[\"additionalHeaders\",n,\"object\",!0]),le(t)&&Ue(t.links,[K.BLOCK_UPLOAD_INIT]),s[\"repo:resource\"]){if(!s[\"repo:resource\"].reltype)throw new i(i.INVALID_DATA,\"reltype param is required in the Resource Designator\");s[te.REPO_REL_TYPE]=s[\"repo:resource\"].reltype,s[\"repo:resource\"].component_id&&(s[te.COMPONENT_ID]=s[\"repo:resource\"].component_id),s[\"repo:resource\"].etag&&(s[te.REPO_IF_MATCH]=s[\"repo:resource\"].etag),delete s[\"repo:resource\"]}if(s[te.REPO_REL_TYPE]===K.COMPONENT&&!s[te.COMPONENT_ID])throw new i(i.INVALID_DATA,\"Component Id required to block upload to a component\");const r=le(t)?y(t.links,K.BLOCK_UPLOAD_INIT):t;n[Re.CONTENT_TYPE]=Ne;const o=U(n);return o.priority=o.priority||\"u=1\",e.invoke(Oe.POST,r,o,JSON.stringify(s),{responseType:\"json\",isStatusValid:xe()}).then((e=>({response:e,result:e.response})))}function En({additionalHeaders:e,asset:t,componentId:s,contentType:n,dataOrSliceCallback:r,etag:i,maybeIsNew:o,md5:a,progressCb:c,relation:d,size:l,svc:h,blockSize:u,maxConcurrentRequests:_}){un(\"_upload()\"),R([\"svc\",h,\"object\"],[\"asset\",t,\"object\"],[\"size\",l,\"number\",!0],[\"md5\",a,\"string\",!0],[\"etag\",i,\"string\",!0]);const f=nn(r,l),I=sn(f),g=Te(h);if(Js(t,I))return In({asset:t,additionalHeaders:e,componentId:s,contentType:n,dataOrSliceCallback:r,etag:i,md5:a,progressCb:c,relation:d,size:l,service:g,blockSize:u,maxConcurrentRequests:_});Ue(t.links,[d]);const A=v(t.links,d,{component_id:s});return p.resolve(void 0,{blockUpload:void 0,progress:c}).then((()=>Promise.resolve(E(r)?r(0,I):r))).then((s=>Zt({asset:t,additionalHeaders:e,contentType:n,data:s,etag:i,headHref:A,href:A,maybeIsNew:o,relation:d,service:g}))).then((e=>{let s={};try{s=rt(e),t.links=T(t.links||{},s);const n=ge(h);n&&n.setValueWithAsset(t.links,t)}catch(e){}return{response:e,result:{revision:e.headers.revision||e.headers.version,location:e.headers.location,links:s,etag:e.headers.etag,version:e.headers.version||e.headers.revision,md5:e.headers.md5||e.headers[\"content-md5\"],length:I,type:n},isBlockUpload:!1,asset:{assetId:t.assetId||e.headers[\"asset-id\"],repositoryId:t.repositoryId||e.headers[\"repository-id\"],links:t.links||s}}})).catch((e=>{throw e}))}function fn({service:e,asset:t,additionalHeaders:s,dataOrSliceCallback:n,contentType:r,progressCb:o,relation:a,size:c,componentId:d,md5:l,etag:h,relPath:u,createIntermediates:p,respondWith:_,blockSize:f,repoMetaPatch:I,maxConcurrentRequests:T}){const A=E(n)?n:function(e){if(!E(e.slice))throw new i(i.INVALID_PARAMS,\"Data cannot be sliced\");return function(t,s){return Be(this,void 0,void 0,(function*(){return e.slice(t,s)}))}}(n);t&&Ue(t.links,[K.BLOCK_UPLOAD_INIT]);const y=_n(e,t||function(e){ds(\"getBlockUploadLinkForGuest\"),R([\"svc\",e,\"object\"]);const t=Te(e),s=Ae(Ts,t);return M(s,{})}(e),g({[te.REPO_REL_TYPE]:a,[te.REPO_IF_MATCH]:h,[te.REPO_SIZE]:c,[te.DC_FORMAT]:r,[te.COMPONENT_ID]:d,[te.REPO_MD5]:l,[te.REPO_BLOCK_SIZE]:f}),s);return y.then((t=>{const n=new pn(e,A,t.result,a,c,r,d,l,h,u,p,_,I,T);return n.onProgress=o,Object.assign(y,{blockUpload:n}),n.init(s)})).then((e=>e.start())).then((e=>{const s=e.finalizeResponse||{headers:{}},n=e.uploadRecord||e.createdAsset;return{response:s,result:n,blockUpload:e,isBlockUpload:!0,asset:{assetId:s.headers[\"asset-id\"]||t.assetId,repositoryId:s.headers[\"repository-id\"]||t.repositoryId,etag:s.headers.etag,links:t?t.links:n.links}}}))}function In({service:e,asset:t,additionalHeaders:s,dataOrSliceCallback:n,contentType:r,progressCb:i,relation:o,size:a,componentId:c,md5:d,etag:l,relPath:h,createIntermediates:u,respondWith:p,blockSize:_,repoMetaPatch:E,maxConcurrentRequests:f}){return fn({service:e,asset:t,additionalHeaders:s,dataOrSliceCallback:n,contentType:r,progressCb:i,relation:o,size:a,componentId:c,md5:d,etag:l,relPath:h,createIntermediates:u,respondWith:p,blockSize:_,repoMetaPatch:E,maxConcurrentRequests:f})}function Tn({service:e,additionalHeaders:t,dataOrSliceCallback:s,contentType:n,progressCb:r,relation:i,size:o,componentId:a,md5:c,etag:d,relPath:l,respondWith:h,blockSize:u,repoMetaPatch:p,maxConcurrentRequests:_}){return fn({service:e,asset:void 0,additionalHeaders:t,dataOrSliceCallback:s,contentType:n,progressCb:r,relation:i,size:o,componentId:a,md5:c,etag:d,relPath:l,createIntermediates:!0,respondWith:h,blockSize:u,repoMetaPatch:p,maxConcurrentRequests:_})}const gn=Ut;function An(e){return e||\"defaultbuffer\"}function yn(e){return!!(e.deviceModifyDate||e.assetType||e.assetSubType)}function Rn(e,t,s=\"json\",n={}){R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"format\",s,\"enum\",!1,[\"json\",\"xml\"]]),Ue(t.links,[K.EMBEDDED_METADATA]);const r=y(t.links,K.EMBEDDED_METADATA);return e.invoke(Oe.GET,r,Object.assign(Object.assign({},n),{accept:ee[s.toUpperCase()]}),void 0,{isStatusValid:xe(),responseType:\"json\"===s?\"json\":\"text\"}).then((e=>({result:e.response,response:e})))}function On(e,t,s,n,r=\"json\",i={}){R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"data\",s,[\"string\",\"object\",\"object[]\"]],[\"etag\",n,\"string\",!0],[\"format\",r,\"enum\",!1,[\"json\",\"xml\"]]),Ue(t.links,[K.EMBEDDED_METADATA]);const o=y(t.links,K.EMBEDDED_METADATA),a=Object.assign(Object.assign({},i),{[Re.CONTENT_TYPE]:ee[r.toUpperCase()],[Re.IF_MATCH]:n});return e.invoke(Oe.PUT,o,a,\"string\"==typeof s?s:JSON.stringify(s),{isStatusValid:xe()})}function vn(e,t,s,n,r={}){R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"data\",s,[\"string\",\"object\",\"object[]\"]],[\"etag\",n,\"string\",!0]),Ue(t.links,[K.EMBEDDED_METADATA]);const i=y(t.links,K.EMBEDDED_METADATA);return e.invoke(Oe.PATCH,i,Object.assign(r,{[Re.CONTENT_TYPE]:De,[Re.IF_MATCH]:n}),\"string\"==typeof s?s:JSON.stringify(s),{isStatusValid:xe(),retryOptions:{pollCodes:[202],pollHeader:\"location\",pollMethod:\"GET\"}})}const bn=h(\"dcx:assets:filebase\"),mn=h(\"dcx:assets:filebase:leaf\"),Pn=\"application/vnd.adobe.versions+json\";class Sn extends hs{constructor(e,t,s){super(e,t,s),this._data.width=null!=e.width?e.width:e[q.IMAGE_WIDTH],this._data.length=null!=e.length?e.length:e[q.IMAGE_LENGTH],this._data.renderable=null!=e.renderable?e.renderable:\"object\"==typeof this._data.links?K.RENDITION in this._data.links:void 0}get width(){return this._data.width}get length(){return this._data.length}get renderable(){return this._data.renderable}getRendition(e,t,s,n){return bn(\"getRendition()\"),R([\"opts\",e,\"object\",!0],[\"responseType\",t,\"string\",!0],[\"linkProvider\",s,\"object\",!0]),this.fetchLinksIfMissing([K.RENDITION],n).then((()=>Dn(this._svc,this,e,t,s,n)))}getEmbeddedMetadata(e=\"json\",t){return bn(\"getEmbeddedMetadata()\"),R([\"format\",e,\"enum\",!1,[\"json\",\"xml\"]]),this.fetchLinksIfMissing([K.EMBEDDED_METADATA],t).then((()=>Rn(this._svc,this,e,t)))}putEmbeddedMetadata(e,t,s=\"json\",n){return R([\"data\",e,[\"object\",\"object[]\",\"string\"]],[\"etag\",t,\"string\",!0],[\"format\",s,\"enum\",!1,[\"json\",\"xml\"]]),this.fetchLinksIfMissing([K.EMBEDDED_METADATA],n).then((()=>On(this._svc,this,e,t,s,n)))}patchEmbeddedMetadata(e,t,s){return R([\"data\",e,[\"object\",\"object[]\",\"string\"]],[\"etag\",t,\"string\",!0]),this.fetchLinksIfMissing([K.EMBEDDED_METADATA],s).then((()=>vn(this._svc,this,e,t,s)))}blockDownload(e,t,s,n,r,i,o){bn(\"blockDownload()\"),R([\"startByte\",e,\"number\",!0],[\"endByte\",t,\"number\",!0],[\"resource\",s,\"string\",!0],[\"componentId\",n,\"string\",!0],[\"version\",r,\"string\",!0],[\"responseType\",i,\"enum\",!0,Le]),m((()=>null==e||null==t||e<t),\"endByte must be greater than startByte\");const a={};return this._withSourcePromise(a).then((()=>this.fetchLinksIfMissing([K.BLOCK_DOWNLOAD]))).then((()=>kn.call(a,this._svc,this,e,t,s,n,r,i,o)))}updatePrimaryResource(e,t,s,n,r,i){bn(\"updatePrimaryResource()\");const o=E(e)?K.BLOCK_UPLOAD_INIT:K.PRIMARY;return this.fetchLinksIfMissing([o],i).then((()=>Nn(this.serviceConfig,this,e,t,s,n,r,i))).then((e=>(this._data.etag=e.result.etag,this._data.md5=e.result.md5,this._data.length=e.result.length,this._data.version=e.result.version,e)))}}function Dn(e,t,s,n=\"defaultbuffer\",r,i){mn(\"getRendition()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"renditionOptions\",s,\"object\",!0],[\"linkProvider\",r,\"object\",!0]),Ue(t.links,[K.RENDITION]);const o=r?V(t.links[K.RENDITION],r,s):v(t.links,K.RENDITION,Object.assign({},s));return e.invoke(Oe.GET,o,i,void 0,{responseType:An(n),isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function kn(e,t,s,n,r,i,o,a,c){mn(\"doBlockDownload()\"),R([\"svc\",e,\"object\"],[\"assetOrPresignedUrl\",t,[\"object\",\"string\"]],[\"startByte\",s,\"number\",!0],[\"endByte\",n,\"number\",!0],[\"resource\",r,\"string\",!0],[\"componentId\",i,\"string\",!0],[\"version\",o,\"string\",!0],[\"responseType\",a,\"enum\",!0,Le]),m((()=>null==s||null==n||s<n),\"endByte must be greater than startByte\");const d=null!=this?this:{};if(\"string\"==typeof t)return zt.call(d,e,t,s,n,a,!0,void 0,c);const l=t;Ue(l.links,[K.BLOCK_DOWNLOAD]);const h=g({reltype:r,component_id:i,revision:o}),u=v(l.links,K.BLOCK_DOWNLOAD,{resource:void 0!==r?JSON.stringify(h):void 0});return zt.call(d,e,u,s,n,a,!1,void 0,c)}function Nn(e,t,s,n,r,i,o,a){return mn(\"updatePrimaryResource()\"),R([\"service\",e,\"object\"],[\"asset\",t,\"object\"],[\"dataOrSliceCallback\",s,[\"function\",\"object\",\"string\"]],[\"contentType\",n,\"string\"],[\"size\",r,\"number\",!0],[\"md5\",o,\"string\",!0]),Ue(t.links,[K.PRIMARY]),En({svc:e,asset:t,dataOrSliceCallback:s,contentType:n,relation:K.PRIMARY,size:r,md5:o,maybeIsNew:!1,etag:i,additionalHeaders:a}).catch((c=>{var d;if(413===(null===(d=c.response)||void 0===d?void 0:d.statusCode))return In({service:Te(e),asset:t,dataOrSliceCallback:s,contentType:n,relation:K.PRIMARY,size:r,md5:o,etag:i,additionalHeaders:a});throw c}))}const Cn=h(\"dcx:assets:pagination\");class Ln{constructor(e,t,s,n){if(this._links=e,this._svc=t,this._transformer=s,this._items={},this.ListResource=n,!e||!e[K.PAGE])throw new i(i.INVALID_PARAMS,\"Asset must have links that contain a page relation.\")}get items(){return Object.values(this._items)}get data(){return this._data}getPage(e={},t){Cn(\"getPage()\");const{embed:s}=e,n=Me(e,[\"embed\"]);s&&(n.embed=s.some((e=>\"object\"==typeof e))?JSON.stringify(s):s.join(\",\")),this.ListResource&&Object.assign(n,{resource:this.ListResource});const r=v(this._links,K.PAGE,n);return this._svc.invoke(Oe.GET,r,t,void 0,{isStatusValid:xe(),responseType:\"json\"}).then((e=>{const t=this.parseResponse(e);return this._data=t,{paged:this,result:this._data,response:e}}))}getNextPage(){if(Cn(\"getNextPage()\"),this.hasNextPage()&&this._nextPageLink)return this._svc.invoke(Oe.GET,this._nextPageLink.href,void 0,void 0,{isStatusValid:xe(),responseType:\"json\"}).then((e=>{const t=this.parseResponse(e);return this._data=t,{paged:this,result:this._data,response:e}}))}hasNextPage(){return Cn(\"hasNextPage() \",void 0!==this._nextPageLink),void 0!==this._nextPageLink}*[Symbol.iterator](){for(const e in this._items)yield this._items[e]}[Symbol.asyncIterator](){return je(this,arguments,(function*(){for(const e in this._items)yield yield we(this._items[e]);for(;this.hasNextPage();){const e=yield we(this.next());for(const t of e.value.paged)yield yield we(t)}}))}next(){return Be(this,void 0,void 0,(function*(){if(Cn(\"next()\"),!this.hasNextPage())return{done:!0,value:void 0};const e=yield this.getNextPage();return e?{done:!1,value:e}:{done:!0,value:void 0}}))}parseResponse(e){Cn(\"parseResponse()\"),this._items={};const t=e.response;for(const e in t[q.CHILDREN]){const s=t[q.CHILDREN][e],[n,r]=this._transformer(s,this._svc);this._items[n]=r}return this._nextPageLink=t[q.LINKS].next,this.currentPage=t[q.PAGE],t}}const Mn=h(\"dcx:assets:version\"),Bn=h(\"dcx:assets:version:leaf\");class wn extends Sn{constructor(e,t,s){super(e,t,s),this._svc=t,this.type=ye.Version,this._data=Un(e)}get milestone(){return this._data.milestone}getRepositoryResource(){throw Mn(\"getRepositoryResource()\"),new i(i.NOT_IMPLEMENTED,\"Method not implemented.\")}getEffectivePrivileges(){throw Mn(\"getEffectivePrivileges()\"),new i(i.NOT_IMPLEMENTED,\"Method not implemented.\")}performBulkRequest(e,t){throw Mn(\"performBulkRequest()\"),new i(i.NOT_IMPLEMENTED,\"Method not implemented.\")}checkACLPrivilege(e,t){throw Mn(\"checkACLPrivilege()\"),new i(i.NOT_IMPLEMENTED,\"Method not implemented.\")}getACLPolicy(){throw Mn(\"getACLPolicy()\"),new i(i.NOT_IMPLEMENTED,\"Method not implemented.\")}}function jn(e){Bn(\"adobeVersionTransformer()\");const t=Un(e);return t.links=T({},e.links,e._links),[t.version,t]}function xn(e,t){Bn(\"versionTransformer()\");const s=new wn(e,t);return[s.version,s]}function Un(e){Bn(\"deserializeVersion()\");return{version:e.version||e[Z.VERSION],createDate:e.created||e[Z.CREATED],createdBy:e.createdBy||e[Z.CREATED_BY],milestone:e.milestone||e[Z.MILESTONE],links:e._links}}const Vn=h(\"dcx:assets:file\"),Hn=h(\"dcx:assets:file:leaf\");class Gn extends Sn{constructor(e,t,s){super(e,t,s),this.type=ye.File}getPagedVersions(e={itemTransformer:xn},t){return Vn(\"getPagedVersions()\"),R([\"pageOpts\",e,\"object\",!0]),this.fetchLinksIfMissing([K.PAGE],t).then((()=>zn(this._svc,this,e,t)))}getVersionResource(e,t){return Vn(\"getVersionResource()\"),R([\"version\",e,\"string\"]),this.fetchLinksIfMissing([K.PAGE],t).then((()=>Fn(this._svc,this,e,t).then((e=>({result:e.result?new wn(e.result,this._svc):void 0,response:e.response})))))}patchVersions(e,t,s){return Vn(\"patchVersions()\"),R([\"patchDoc\",e,[\"string\",\"array\"]],[\"etag\",t,\"string\",!0]),this.fetchLinksIfMissing([K.VERSION_HISTORY],s).then((()=>Yn(this._svc,this,e,t,s)))}initBlockUpload(e,t){return R([\"transferDocument\",e,\"object\"],[\"additionalHeaders\",t,\"object\",!0]),this.fetchLinksIfMissing([K.BLOCK_UPLOAD_INIT],t).then((()=>_n(this._svc,this,e,t)))}copy(e,t,s,n,r){return super.copy(e,t,s,n,r).then((({response:e,result:t})=>({response:e,result:new Gn(t,this.serviceConfig)})))}}function Yn(e,t,s,n,r){Hn(\"patchVersions()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"patchDoc\",s,[\"string\",\"array\"]],[\"etag\",n,\"string\",!0]),Ue(t.links,[K.VERSION_HISTORY]);const i=Object.assign(Object.assign({},r),{[Re.CONTENT_TYPE]:De});n&&(i[Re.IF_MATCH]=n);const o=y(t.links,K.VERSION_HISTORY);return e.invoke(Oe.PATCH,o,i,\"string\"==typeof s?s:JSON.stringify(s),{isStatusValid:xe()})}function Fn(e,t,s,n){Hn(\"getVersionResource()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"version\",s,\"string\"]),Ue(t.links,[K.PAGE]),He(t.links,K.PAGE,\"type\",Pn);const r=v(t.links,K.PAGE,{version:s});return e.invoke(Oe.GET,r,n,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response[Z.TOTAL_CHILDREN]>0?e.response[q.CHILDREN][0]:void 0,response:e})))}function zn(e,t,s={},n){Hn(\"getPagedVersions()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"pageOpts\",s,\"object\"]),Ue(t.links,[K.PAGE]),He(t.links,K.PAGE,\"type\",Pn);return new Ln(t.links,e,s.itemTransformer||jn,K.VERSION_HISTORY).getPage(s,n)}const $n=h(\"dcx:assets:composite\"),Wn=h(\"dcx:assets:composite:leaf\"),Kn=u.getInstance();class qn extends Gn{constructor(e,t,s){super(e,t,s),this.type=ye.Composite}headManifest(e){return $n(\"headManifest()\"),this.fetchLinksIfMissing([K.MANIFEST],e).then((()=>Zn(this._svc,this,e))).then((e=>this._updateDataWithResponse(e)))}getManifest(e,t,s){return $n(\"getManifest()\"),R([\"version\",e,\"string\",!0],[\"etag\",t,\"string\",!0]),this.fetchLinksIfMissing([K.MANIFEST],s).then((()=>Xn(this._svc,this,e,t,s)))}getManifestUrl(e){$n(\"getManifestUrl()\");const t=null==e?K.MANIFEST:K.PAGE;return this.fetchLinksIfMissing([t]).then((()=>Jn(this._svc,this,e)))}getManifestAndComponentsByPath(e,t,s,n){return Wn(\"getManifestAndComponentsByPath()\"),tr(this._svc,this,e,t,s,n)}getComponent(e,t,s,n,r){$n(\"getComponent()\");const i={};return this._withSourcePromise(i).then((()=>lr.call(i,this._svc,this,e,t,s,n,r)))}getComponentByPath(e,t=\"defaultbuffer\",s){return $n(\"getComponentByPath()\"),dr(this.serviceConfig,this,e,t,s)}getComponentUrl(e,t,s){return $n(\"getComponentUrl()\"),this.fetchLinksIfMissing([K.COMPONENT],s).then((()=>or(this._svc,this,e,t)))}updateManifest(e,t,s,n,r,i){return $n(\"updateManifest()\"),this.fetchLinksIfMissing([K.MANIFEST],r).then((()=>hr(this._svc,this,e,t,s,n,r,i))).then(this._updateDataWithResponse.bind(this))}putComponent(e,t,s,n,r,o,a,c){if($n(\"putComponent()\"),n&&!Y(e))throw new i(i.INVALID_PARAMS,\"Component id is not a uuid\");return Y(e)||Kn.warn(\"Existing component id is not a uuid\"),this.fetchLinksIfMissing([K.COMPONENT],c).then((()=>ur(this.serviceConfig,this,e,t,s,n,r,o,a,c)))}putEmbeddedMetadata(e,t,s=\"json\",n){return R([\"data\",e,[\"object\",\"object[]\",\"string\"]],[\"etag\",t,\"string\",!0],[\"format\",s,\"enum\",!1,[\"json\",\"xml\"]]),this.fetchLinksIfMissing([K.EMBEDDED_METADATA],n).then((()=>On(this._svc,this,e,t,s,n))).then((e=>Be(this,void 0,void 0,(function*(){return yield this.headManifest(n),e}))))}patchEmbeddedMetadata(e,t,s){return R([\"data\",e,[\"object\",\"object[]\",\"string\"]],[\"etag\",t,\"string\",!0]),this.fetchLinksIfMissing([K.EMBEDDED_METADATA],s).then((()=>vn(this._svc,this,e,t,s))).then((e=>Be(this,void 0,void 0,(function*(){return yield this.headManifest(),e}))))}copy(e,t,s,n,r){return super.copy(e,t,s,n,r).then((({response:e,result:t})=>({response:e,result:new qn(t,this.serviceConfig)})))}}function Zn(e,t,s){return Wn(\"headCompositeManifest()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),Ue(t.links,[K.MANIFEST]),Jn(e,t,void 0,s).then((t=>e.invoke(Oe.HEAD,t,s,void 0,{responseType:\"json\",isStatusValid:xe()})))}function Xn(e,t,s,n,r){return Wn(\"getCompositeManifest()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"version\",s,\"string\",!0],[\"etag\",n,\"string\",!0]),Ue(t.links,[K.MANIFEST]),Jn(e,t,s,r).then((t=>e.invoke(Oe.GET,t,Object.assign(null!=r?r:{},n?{[Re.IF_NONE_MATCH]:n}:{}),void 0,{isStatusValid:xe([304]),retryOptions:{pollCodes:[404,202],pollHeader:\"location\",pollMethod:Oe.GET,problemWithCode:{problemType:a.RESOURCE_NOT_READY,code:404}}}))).then((e=>{if((200===e.statusCode||201===e.statusCode)&&\"application/http\"===e.headers[Re.CONTENT_TYPE]){if(e.response){const t=ns(k(e.response));return{manifestData:JSON.parse(D(t.response))||null,manifestEtag:t.headers.etag,response:t}}return{manifestData:e.response||null,manifestEtag:e.headers.etag,response:e.response}}if(\"string\"==typeof e.response)return{manifestData:e.response?JSON.parse(e.response):null,manifestEtag:e.headers.etag,response:e};if(null===e.response&&[\"application/problem+json\",\"application/json\"].includes(e.headers[\"content-type\"]))throw new i(i.UNEXPECTED,\"Unexpected response type\");return{manifestData:e.response||null,manifestEtag:e.headers.etag,response:e}}))}function Jn(e,t,s,n){return Wn(\"getCompositeManifestUrl()\"),er(e,t,K.MANIFEST,s,n).then((e=>M(e,{})))}function Qn(e,t,s,n){return Wn(\"_getComponentPathUrl()\"),er(e,t,K.COMPONENT,t.version,n).then((e=>M(e,g({component_path:s}))))}function er(e,t,s,n,r){return Wn(\"_getUrl()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"versionId\",n,\"string\",!0]),p.resolve().then((()=>{if(n)return Fn(e,t,n,r)})).then((e=>{if(null!=n){if(!e||!_(e)||\"object\"!=typeof e.result)throw new i(i.UNEXPECTED_RESPONSE,\"Invalid version resource.\",void 0,e?e.response:void 0);return Ue(e.result[q.LINKS],[s]),y(e.result[q.LINKS],s)}return y(t.links,s)}))}function tr(e,t,s,n,r,i){R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"components\",s,\"array\"],[\"version\",n,\"string\",!0],[\"etag\",r,\"string\",!0]);const o=[K.MANIFEST,K.COMPONENT,K.BULK_REQUEST,K.BLOCK_DOWNLOAD];return n&&o.push(K.PAGE),js(e,t,o,void 0,i).then((o=>Be(this,void 0,void 0,(function*(){t.links=Object.assign({},t.links,o);const c=Te(e),d=s.map((({component_path:e,responseType:s,subrequestHeaders:n})=>({method:Oe.GET,href:v(t.links,K.COMPONENT,{component_path:e}),headers:Object.assign(n||{},i),component_path:e,responseType:s}))),l=yield Jn(c,t,n,i);d.unshift({method:Oe.GET,href:l,headers:Object.assign(r?{[Re.IF_NONE_MATCH]:r}:{},i)});const h={startTime:H(),timeoutAfter:72e5};return G(sr.bind(void 0,e,t,s,d,i),404,h,a.RESOURCE_NOT_READY)}))))}function sr(e,t,s,n,r){return Be(this,void 0,void 0,(function*(){const o=Te(e),c=yield Promise.all(F(n,10).map((e=>is(o,t,e,void 0,r,!0))));return p.resolve(yield c.reduce(((c,l)=>Be(this,void 0,void 0,(function*(){var h,u;const p=yield c;if(p.responses.push(l.response),200!==l.response.statusCode)return p;const{componentResponses:_,manifestResponse:E}=function(e,t){return e.reduce(((e,s)=>{const n=t.find((e=>e.href===s.headers[Re.CONTENT_ID]));if(!n)throw new i(i.UNEXPECTED_RESPONSE,\"Bulk sub-response content-id did not match any bulk request\",void 0,s);return\"component_path\"in n?e.componentResponses.push(s):e.manifestResponse=s,e}),{componentResponses:[]})}(l.result,n),f={};if(s.forEach((e=>{e.hasOwnProperty(\"skipBlockDownload\")&&(f[e.component_path]=e.skipBlockDownload)})),Object.assign(p.components,yield function(e,t,s,n,r,o){return Be(this,void 0,void 0,(function*(){return(yield Promise.all(t.map((t=>Be(this,void 0,void 0,(function*(){if(t.headers[Re.CONTENT_TYPE]===Se&&t.response.type===a.RESPONSE_TOO_LARGE){const i=nr(t,e),a=t.headers.location?t.headers.location:v(n,K.BLOCK_DOWNLOAD,{resource:JSON.stringify({component_path:i.component_path})});if(o&&o[i.component_path])return{statusCode:200,headers:g({[Re.CONTENT_TYPE]:t.headers[\"content-type\"],[Re.CONTENT_LENGTH]:t.headers[\"content-length\"],[Re.CONTENT_ID]:t.headers[Re.CONTENT_ID]}),responseType:\"application/json\",response:{href:a},message:\"OK\"};const c=yield zt(Te(s),a,void 0,void 0,\"defaultbuffer\",!0,void 0,r);return Object.assign(c.headers,{[Re.CONTENT_ID]:t.headers[Re.CONTENT_ID]}),c}return t})))))).reduce(((t,s)=>{const n=nr(s,e);try{const e=d(s);t[n.component_path]=Object.assign({},n,{response:s,[e?\"error\":\"data\"]:e||rr(s.response,n.responseType||\"defaultbuffer\",s.headers[\"content-type\"])})}catch(e){t[n.component_path]=Object.assign({},n,{response:s,error:new i(i.UNEXPECTED,\"Error parsing sub-response into requested responseType\",e)})}return t}),{})}))}(n.slice(1),_,e,t.links,r,f)),!E)return p;if(200===E.statusCode){p.manifest.data=rr(E.response,\"json\"),p.manifest.response=E,ce(t)&&\"function\"==typeof(null===(h=t.current)||void 0===h?void 0:h.parse)&&(t.current.parse(D(E.response)),t.current.versionId=E.headers.version),t.links=rt(E);const s=ge(e);return s&&s.setValueWithAsset(t.links,t),p}if(304===E.statusCode)return p.manifest.response=E,p;if(404===E.statusCode){if(E.response=rr(E.response,\"json\"),E.response&&E.response.type===a.RESOURCE_NOT_READY)throw new i(i.NOT_FOUND,void 0,void 0,E);return p.manifest.error=d(E)||new i(i.NO_COMPOSITE,\"Composite missing or deleted\",void 0,E),p}if(E.headers[Re.CONTENT_TYPE]===Se&&E.response.type===a.RESPONSE_TOO_LARGE){try{const e=E.headers.location?E.headers.location:v(t.links,K.BLOCK_DOWNLOAD,{resource:JSON.stringify({reltype:K.MANIFEST})}),s=yield zt(o,e,void 0,void 0,\"json\",!0,void 0,r);p.manifest.data=s.response,p.manifest.response=s,ce(t)&&\"function\"==typeof(null===(u=t.current)||void 0===u?void 0:u.parse)&&t.current.parse(JSON.stringify(s.response)),t.links=rt(s)}catch(e){p.manifest.error=e instanceof i?e:new i(i.UNEXPECTED,\"Error fetching manifest via block download\",e)}return p}return p.manifest.error=d(E)||new i(i.UNEXPECTED_RESPONSE,E.response.title||\"Failed to fetch manifest. Operation failed.\",void 0,E),p}))),Promise.resolve({manifest:{},components:{},responses:[]})))}))}function nr(e,t){if(!e.headers[Re.CONTENT_ID])throw new i(i.UNEXPECTED_RESPONSE,\"Sub-response is missing content-id header\",void 0,e);const s=t.find((({href:t})=>t===e.headers[Re.CONTENT_ID]));if(!s)throw new i(i.UNEXPECTED_RESPONSE,\"Bulk sub-response content-id did not match any bulk request\",void 0,e);return s}function rr(e,t,s){if(!ae(e))return e;switch(t){case\"text\":return D(e);case\"json\":return JSON.parse(D(e));case\"blob\":return new Blob([e],{type:s});case\"buffer\":case\"defaultbuffer\":return e;case\"arraybuffer\":return e.buffer}throw new i(i.INVALID_PARAMS,\"requested response type is not supported\")}function ir(e,t,s,n,r,o){return Be(this,void 0,void 0,(function*(){const a=[{method:Oe.PUT,href:s,headers:r,body:n}],c=[];if(t.deviceModifyDate&&c.push({op:\"add\",path:`/${[q.REPO_DEVICE_MODIFY_DATE]}`,value:t.deviceModifyDate}),c.length){const e={[Re.CONTENT_TYPE]:De};a.push({method:Oe.PATCH,href:y(t.links,K.REPO_METADATA),headers:e,body:JSON.stringify(c)})}const{result:d,response:l}=yield is(e,t,a,void 0,o,!0),{manifestResponse:h,repoMetadataResponse:u}=function(e,t){const s={manifestResponse:{},repoMetadataResponse:{}};return t.forEach((t=>{const n=e.find((e=>e.headers[Re.CONTENT_ID]===t.href));if(!n)throw new i(i.UNEXPECTED_RESPONSE,\"Bulk sub-response content-id did not match any bulk request\",void 0,n);t.href.includes(\":repometadata\")?s.repoMetadataResponse=n:s.manifestResponse=n})),s}(d,a);return{manifestResponse:h,repoMetadataResponse:u,response:l}}))}function or(e,t,s,n){return Wn(\"getCompositeComponentUrl()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"componentId\",s,\"string\"],[\"componentRevision\",n,\"string\",!0]),Ue(t.links,[K.COMPONENT]),v(t.links,K.COMPONENT,{component_id:s,revision:n})}function ar(e,t,s,n){return Wn(\"getPresignedUrl()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"]),js(e,t,[K.BLOCK_DOWNLOAD],void 0,n).then((t=>{const r=s?JSON.stringify(s):void 0,i=v(t,K.BLOCK_DOWNLOAD,{resource:r});return(_e(e)?e.service:e).invoke(Oe.GET,i,Object.assign({priority:\"u=1\"},n),void 0,{isStatusValid:xe(),responseType:\"json\",retryOptions:{pollCodes:[202],pollHeader:\"location\",pollMethod:Oe.GET}})})).then((e=>{if(\"string\"!=typeof e.response.href)throw new i(i.INVALID_DATA,\"Direct download URL not found.\",void 0,e);return{response:e,result:e.response.href}}))}const cr=$(\"AdobeDCX.getCompositeComponentPresignedUrl\",(function(e,t,s,n,r){return Wn(\"getCompositeComponentPresignedUrl()\"),W(\"componentId\",s),W(\"componentRevision\",n),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"componentId\",s,\"string\"],[\"componentRevision\",n,\"string\"]),ar(e,t,{reltype:K.COMPONENT,revision:n,component_id:s},r)}));function dr(e,t,s,n=\"defaultbuffer\",r,i){return R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"componentPath\",s,\"string\"],[\"responseType\",n,\"string\",!0],[\"additionalHeaders\",r,\"object\",!0]),js(e,t,[K.COMPONENT,K.PAGE],void 0,r).then((n=>{if(t.links=n,t.version)return Qn(Te(e),t,s)})).then((o=>qt(Te(e),t,null!=o?o:v(t.links,K.COMPONENT,{component_path:s}),K.COMPONENT,n,void 0,void 0,r,i)))}function lr(e,t,s,n,r=\"defaultbuffer\",i,o){Wn(\"getCompositeComponent()\"),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"componentId\",s,\"string\"],[\"componentRevision\",n,\"string\"],[\"responseType\",r,\"string\",!0],[\"additionalHeaders\",i,\"object\",!0],[\"componentSize\",o,\"number\",!0]);const a={};if(!o||o<rn()){const o=or(e,t,s,n);return qt.call(a,e,t,o,K.COMPONENT,r,s,n,i)}return cr(e,t,s,n,i).then((({response:t,result:s})=>zt.call(a,e,s,void 0,void 0,r,!0,t.response.size,i)))}function hr(e,t,s,n,r=1,o,a={},c){if(Wn(\"updateCompositeManifest() \",n,o),R([\"svc\",e,\"object\"],[\"asset\",t,\"object\"],[\"manifest\",s,[\"object\",\"string\"]],[\"overwrite\",n,\"boolean\"],[\"validationLevel\",r,\"+number\"],[\"etag\",o,\"string\",!0]),r<1)throw new i(i.INVALID_PARAMS,\"ValidationLevel must be >=1\");return Ue(t.links,[K.BULK_REQUEST,K.REPO_METADATA]),er(e,t,K.MANIFEST,void 0,a).then((l=>Be(this,void 0,void 0,(function*(){const h=Object.assign({},a);n?h[Re.IF_MATCH]=\"*\":o&&(h[Re.IF_MATCH]=o);const u=`${me}; validation-level=${r}`;h[Re.CONTENT_TYPE]=u;const p=\"string\"==typeof s?s:JSON.stringify(s);let _,E,f;const I=l.includes(se.REPO_META_PATCH)||l.includes(se.RESPOND_WITH);if(I){const s={},n=g({[q.REPO_DEVICE_MODIFY_DATE]:t.deviceModifyDate});Object.keys(n).length&&(s[se.REPO_META_PATCH]=n),c&&(s[se.RESPOND_WITH]=c),l=M(l,s),_=yield function(e,t,s,n){return Be(this,void 0,void 0,(function*(){return yield e.invoke(Oe.PUT,t,n,s,{isStatusValid:xe([412,409]),responseType:\"arraybuffer\",retryOptions:{pollCodes:[202],pollHeader:\"location\",pollMethod:Oe.GET,modifyHeadersCallback:fe([Re.IF_MATCH])}})}))}(e,l,p,h)}else{const s=yield ir(e,t,l,p,h,a);_=s.manifestResponse,E=s.repoMetadataResponse,f=s.response}if(Wn(\"uCM() status code for manifest response: \",_.statusCode),412===_.statusCode&&n)return Wn(\"uCM() retry 412 without overwrite\"),hr(e,t,s,!1,r,void 0,a);if(409===_.statusCode&&n)return Wn(\"uCM() retry 409 without overwrite\"),hr(e,t,s,!1,r,o,a);if(409===_.statusCode)throw new i(i.UPDATE_CONFLICT,\"Manifest has been changed\",void 0,_);if(412===_.statusCode)throw new i(i.PRECONDITION_FAILED,\"Precondition failed\",void 0,_);if(400===_.statusCode){const e=d(_);throw new i(null==e?void 0:e.code,null==e?void 0:e.message,void 0,_)}{const e=xe()(_.statusCode,_);if(!0!==e)throw new i(e.code||i.UNEXPECTED_RESPONSE,e._message||e.message,e.underlyingError,_)}if(!I){if(_.xhr=f.xhr,Wn(\"uCM() status code for metadata response: \",E.statusCode),yn(t)&&200!==E.statusCode&&201!==E.statusCode&&204!==E.statusCode)throw new i(i.UNEXPECTED_RESPONSE,\"Unexpected HTTP Response\",void 0,E);return _}let T=_;if(200===_.statusCode&&(T=ns(new Uint8Array(_.response))),T.response&&c)try{const e=JSON.parse(D(T.response));T.response=Xe(e)}catch(e){throw new i(i.UNEXPECTED,\"Unexpected error parsing respondWith parameter\",e)}return T}))))}function ur(e,t,s,n,r,o,a,c,d,l,h){if(R([\"service\",e,\"object\"],[\"asset\",t,\"object\"],[\"componentId\",s,\"string\"],[\"contentType\",r,\"string\"],[\"maybeIsNew\",o,\"boolean\",!0],[\"size\",a,\"number\",!0],[\"blockSize\",h,\"number\",!0],[\"md5\",c,\"string\",!0]),o&&!Y(s))throw new i(i.INVALID_PARAMS,\"Component id is not a uuid\");Y(s)||Kn.warn(\"Existing component id is not a uuid\");return En({svc:e,asset:t,dataOrSliceCallback:n,contentType:r,relation:K.COMPONENT,size:a,componentId:s,md5:c,maybeIsNew:o,additionalHeaders:l,progressCb:d,blockSize:h}).then((({response:e,result:t,isBlockUpload:n,asset:i})=>{const o={response:e,result:Object.assign(Object.assign({},t),{id:s,type:r}),isBlockUpload:n,asset:i};return Object.defineProperty(o,\"compositeAsset\",{get:()=>i}),o}))}function pr(e,t,s,n){return js(e,t,[K.COMPONENT,K.BLOCK_UPLOAD_INIT],void 0,n).then((r=>{var o;const a=Te(e);null===(o=ge(e))||void 0===o||o.setValueWithAsset(r,t),t.links=Object.assign(Object.assign({},t.links),r);const c=U(g(Object.assign(Object.assign({},n),{[Re.AUTHORIZATION]:a.authProvider.authToken,[Re.X_API_KEY]:a.authProvider.apiKey})));return Promise.all(s.map((e=>Js(t,e.size)?function(e,t,s,n){const r=g({\"repo:reltype\":K.COMPONENT,\"repo:size\":s.size,\"dc:format\":s.contentType,component_id:s.componentId});return _n(e,t,r,n).then((e=>{if(200!==e.response.statusCode)throw new i(i.UNEXPECTED_RESPONSE,\"Unexpected response from block upload init\",e.response);const t=e.result;return{blockSize:t[te.REPO_BLOCK_SIZE],uploadRequestParameters:t[q.LINKS][K.BLOCK_TRANSFER].map((({href:e})=>({href:e,method:Oe.PUT}))),finalizeRequestParameters:{href:v(t[q.LINKS],K.BLOCK_FINALIZE,{}),method:Oe.POST,headers:n,body:`${JSON.stringify(t)}`}}})).catch((e=>{throw new i(i.UNEXPECTED_RESPONSE,\"Unexpected response from block upload init\",e)}))}(a,t,e,c):function(e,t,s,n){return p.resolve({blockSize:s.size,uploadRequestParameters:[{href:or(e,t,s.componentId),method:Oe.PUT,headers:n}]})}(a,t,e,c))))}))}const _r=h(\"dcx:assets:directory\"),Er=h(\"dcx:assets:directory:leaf\");class fr extends hs{constructor(e,t,s){super(e,t,s),this.type=ye.Directory,this.children=[],this.children=e[q.CHILDREN]}getPagedChildren(e,t){return _r(\"getPagedChildren()\"),this.fetchLinksIfMissing([K.PAGE],t).then((()=>Ar(this._svc,this,e,t)))}createAsset(e,t,s,n,r,i,o,a,c){return _r(\"createAsset()\"),yr(this._svc,this,e,t,s,n,r,i,o,a,c).then((e=>({result:new hs(e.result,this.serviceConfig),response:e.response})))}createAssetForGuest(e,t,s,n,r,i,o,a){return _r(\"createAssetForGAT\"),Rr(this._svc,e,t,s,n,r,i,o,a).then((e=>({result:new hs(e.result,this.serviceConfig),response:e.response})))}copy(e,t,s){return super.copy(e,t,s).then((({response:e,result:t})=>({response:e,result:new fr(t,this.serviceConfig)})))}}function Ir(e){var t;Er(\"directoryTransformer()\");const s=Xe(e,null===(t=e[q.PAGE])||void 0===t?void 0:t.embed);s.links=T({},e.links,e._links);const n=e.children||e[q.CHILDREN];return n&&n.length>0?s.children=n.map((e=>Xe(e))):s.children=[],[s.assetId,s]}function Tr(e,t){return Er(\"directoryTransformer()\"),js(e,t,[K.PRIMARY]).then((t=>gr(Te(e),y(t,K.PRIMARY))))}function gr(e,t){return Er(\"getDirectoryByURL()\"),e.invoke(Oe.GET,t,void 0,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:e.response,response:e})))}function Ar(e,t,s={},n){if(Er(\"getPagedChildren()\"),Ue(t.links,[K.PAGE]),s&&s.embed&&s.embed.includes(K.REPOSITORY))throw new i(i.INVALID_PARAMS,\"Repository Resource embeds on directory listings are not supported\");try{return new Ln(t.links,e,Ir,\"api:primary\").getPage(s,n)}catch(e){return p.reject(e)}}const yr=$(\"AdobeDCX.createAsset\",(function(t,s,n,r,o,c,d={},h,u,f,I){Er(\"createAsset()\"),R([\"service\",t,\"object\"],[\"parentDir\",s,\"object\"],[\"relPath\",n,\"string\"],[\"createIntermediates\",r,\"boolean\"],[\"contentType\",o,\"string\"],[\"respondWith\",c,[\"string\",\"object\"],!0],[\"additionalHeaders\",d,\"object\",!0],[\"repoMetaPatch\",f,\"object\",!0]);const T=_(c)?JSON.stringify(c):c;return js(t,s,[K.CREATE]).then((A=>{const y=v(A,K.CREATE,{path:n,intermediates:r.toString(),respondWith:T,mode:\"id\",repoMetaPatch:f}),R=Object.assign({},{[Re.CONTENT_TYPE]:o},d),O=Te(t),b=h?nn(h,u):void 0,m=b?sn(b):0;return h&&Js(s,m)?In({service:O,contentType:o,relation:K.PRIMARY,asset:s,dataOrSliceCallback:h,size:m,relPath:n,createIntermediates:r,respondWith:c,repoMetaPatch:f,additionalHeaders:d,progressCb:I}).then((({result:e,response:t})=>{const s=n.split(\"/\").slice(-1);return{result:g(x({name:s},e)),response:t}})):p.resolve().then((()=>Be(this,void 0,void 0,(function*(){const p=E(h)?yield h(0,m):b;return O.invoke(Oe.POST,y,R,p,{responseType:\"json\",isStatusValid:xe([413]),reuseRequestDesc:{id:\"createAsset\",method:Oe.POST,href:y,headers:R,progress:I}}).then((p=>{var E;if(413===p.statusCode)return In({service:O,contentType:o,relation:K.PRIMARY,asset:s,dataOrSliceCallback:h,size:sn(nn(h,u)),relPath:n,createIntermediates:r,respondWith:c,repoMetaPatch:f,additionalHeaders:d,progressCb:I}).catch((e=>{var t;if(e.problemType===a.ASSET_NAME_CONFLICT){const s={assetId:null===(t=e.response.response)||void 0===t?void 0:t[\"repo:assetId\"],links:rt(e.response)};return In({service:O,contentType:o,relation:K.PRIMARY,asset:s,dataOrSliceCallback:h,size:sn(nn(h,u)),relPath:n,createIntermediates:r,respondWith:c,repoMetaPatch:f,additionalHeaders:d,progressCb:I})}throw e})).then((({result:e,response:t})=>{const s=n.split(\"/\")[n.split(\"/\").length-1];return{result:g(x({name:s},e)),response:t}}));const T=n.split(\"/\")[n.split(\"/\").length-1];let A;s.path&&(A=z(s.path,n));const y=rt(p),R=p.headers;if(null===(E=R[Re.CONTENT_TYPE])||void 0===E?void 0:E.includes(\"multipart/mixed\")){const t=es(p)[1];throw 404===t.statusCode?new e(i.ASSET_NOT_FOUND,\"Asset was created successfully but repository metadata could not be found.\",void 0,p):403===t.statusCode?new e(i.FORBIDDEN,\"Asset was created successfully but Permission denied for fetching repository metadata.\",void 0,p):l(\"Unexpected Server Response\",void 0,p)}const v=_(p.response)?p.response:{etag:\"\",md5:\"\"},b=R[\"asset-id\"]||R[\"x-resource-id\"],m=s.repositoryId;W(\"assetId\",b);let P=v.etag,S=v.md5;null==c&&(P=R.etag,S=R[\"content-md5\"]);const D=_(p.response)&&c&&(c===K.REPO_METADATA||_(c)&&c.reltype===K.REPO_METADATA)?Xe(p.response):{};p.response&&(D.representations=p.response.representations||p.response[q.REPO_REPRESENTATIONS]);const k=ge(t);return k&&k.setValueWithAsset(y,D),{result:g(x({name:T},D,g({links:y,assetId:b,etag:P,md5:S,repositoryId:m,format:o,path:A}))),response:p}}))}))))}))}));function Rr(t,s,n,r,o={},c,d,h,u){Er(\"createAssetForGuest()\"),R([\"service\",t,\"object\"],[\"relPath\",s,\"string\"],[\"contentType\",n,\"string\"],[\"respondWith\",r,[\"string\",\"object\"],!0],[\"additionalHeaders\",o,\"object\",!0],[\"repoMetaPatch\",h,\"object\",!0]);const f=_(r)?JSON.stringify(r):r,I=Te(t);return function(e,t,s,n){ds(\"getCreateLinkForGuestUser\"),R([\"svc\",e,\"object\"],[\"assetPath\",t,\"string\"]);const r={path:t,mode:\"id\",intermediates:\"true\",repoMetaPatch:n,respondWith:s},i=Te(e),o=Ae(Is,i);return p.resolve(M(o,g(r)))}(I,s,f,h).then((f=>{const T=Object.assign({},{[Re.CONTENT_TYPE]:n},o),A=c?nn(c,d):void 0,y=A?sn(A):0;return c&&y>Ws?Tn({service:I,contentType:n,relation:K.PRIMARY,dataOrSliceCallback:c,size:y,relPath:s,respondWith:r,repoMetaPatch:h,additionalHeaders:o,progressCb:u}).then((({result:e,response:t})=>{const n=s.split(\"/\").slice(-1);return{result:g(x({name:n},e)),response:t}})):p.resolve().then((()=>Be(this,void 0,void 0,(function*(){const p=E(c)?yield c(0,y):A;return I.invoke(Oe.POST,f,T,p,{responseType:\"json\",isStatusValid:xe([413]),reuseRequestDesc:{id:\"createAssetForGuest\",method:Oe.POST,href:f,headers:T,progress:u}}).then((p=>{var E;if(413===p.statusCode)return Tn({service:I,contentType:n,relation:K.PRIMARY,dataOrSliceCallback:c,size:sn(nn(c,d)),relPath:s,respondWith:r,repoMetaPatch:h,additionalHeaders:o,progressCb:u}).catch((e=>{if(e.problemType===a.ASSET_NAME_CONFLICT)return Tn({service:I,contentType:n,relation:K.PRIMARY,dataOrSliceCallback:c,size:sn(nn(c,d)),relPath:s,respondWith:r,repoMetaPatch:h,additionalHeaders:o,progressCb:u});throw e})).then((({result:e,response:t})=>{const n=s.split(\"/\")[s.split(\"/\").length-1];return{result:g(x({name:n},e)),response:t}}));const f=s.split(\"/\")[s.split(\"/\").length-1],T=rt(p),A=p.headers;if(null===(E=A[Re.CONTENT_TYPE])||void 0===E?void 0:E.includes(\"multipart/mixed\")){const t=es(p)[1];throw 404===t.statusCode?new e(i.ASSET_NOT_FOUND,\"Asset was created successfully but repository metadata could not be found.\",void 0,p):403===t.statusCode?new e(i.FORBIDDEN,\"Asset was created successfully but Permission denied for fetching repository metadata.\",void 0,p):l(\"Unexpected Server Response\",void 0,p)}const y=_(p.response)?p.response:{etag:\"\",md5:\"\"},R=A[\"asset-id\"]||A[\"x-resource-id\"],O=A[\"repository-id\"];let v=y.etag,b=y.md5;null==r&&(v=A.etag,b=A[\"content-md5\"]);const m=_(p.response)&&r&&(r===K.REPO_METADATA||_(r)&&r.reltype===K.REPO_METADATA)?Xe(p.response):{},P=ge(t);return P&&P.setValueWithAsset(T,m),{result:g(x({name:f},m,g({links:T,assetId:R,etag:v,md5:b,format:n,repositoryId:O,path:s}))),response:p}}))}))))}))}const Or=h(\"dcx:assets:discoverable\");function vr(e,t={},s){Or(\"getDiscoverableAssets()\"),R([\"svc\",e,\"object\"],[\"pageOpts\",t,\"object\"]);const n=Te(e);return nt(e,s).then((e=>new Ln(e.assetLinks,n,br,\"api:primary\").getPage(t,s))).then((e=>({result:e.response.response,paged:e.paged,response:e.response})))}function br(e){Or(\"discoverableAssetTransformer()\");const t=e[q.EMBEDDED][K.REPO_METADATA],s=Xe(t,e[q.EMBEDDED]);return s.links=T({},e.links,t._links),[s.assetId,s]}function mr(e){Or(\"discoverableReposTransformer()\");const t=e[q.EMBEDDED][K.PRIMARY],s=Qe(t);return s.links=t._links,[s.repositoryId,s]}function Pr(e,t={},s){Or(\"getDiscoverableRepos()\"),R([\"svc\",e,\"object\"],[\"pageOpts\",t,\"object\"]);const n=Te(e),r=Ae(\"/repositories\",n);return p.resolve(void 0).then((()=>Be(this,void 0,void 0,(function*(){const i=ge(e);let o;if(i&&(o=yield i.getRepositoryLinks()),!o){o=rt(yield n.invoke(Oe.HEAD,r,s,void 0,{isStatusValid:xe()}))}i&&i.setRepositoryLinks(o);return new Ln(o,n,mr).getPage(t,s)})))).then((e=>({result:e.response.response,paged:e.paged,response:e.response})))}const Sr=h(\"dcx:assets:factory\");function Dr(e,t){Sr(\"hydrateAsset()\"),R([\"asset\",e,\"object\"],[\"svc\",t,\"object\"]);const s=e.format||\"\",n=s.endsWith(\"+dcx\")?ye.Composite:s===be?ye.Directory:s.split(\"/\").length>1?ye.File:ye.Asset;switch(n){case ye.Directory:return e.type===n&&e instanceof fr?e:new fr(e,t);case ye.Composite:return e.type===n&&e instanceof qn?e:new qn(e,t);case ye.File:return e.type===n&&e instanceof Gn?e:new Gn(e,t);case ye.Asset:return e.type===n&&e instanceof hs?e:new hs(e,t);default:return new hs(e,t)}}class kr{constructor(e){this._svc=e}hydrate(e){return Dr(e,this._svc)}}const Nr=h(\"dcx:assets:indexdocument\");function Cr(e,t){Nr(\"getIndexDocument()\"),R([\"svc\",e,\"object\"]);const s=Te(e),n=Ae(\"/index\",s);return s.invoke(Oe.GET,n,t,void 0,{responseType:\"json\",isStatusValid:xe()}).then((e=>({result:Lr(e.response),response:e.response})))}function Lr(e){Nr(\"deserializeIndexDocument()\");const t=e.children.map((e=>{const t=Xe(e[q.EMBEDDED][K.REPO_METADATA]),s=Qe(e[q.EMBEDDED][K.REPOSITORY]);return t.embedded={RepositoryResource:s},t}));return{regions:e[q.REPO_REGIONS],assignedDirectories:t,links:e._links}}const Mr=1e5;class Br{constructor(e=1e5,t=\"SESSION\"){if(this.values={},this.maxEntries=Mr,this.promiseToResolveMap=new Map,e<=0)throw new i(i.INVALID_PARAMS,\"Cache Max enteries must be great than 0.\");this.maxEntries=e,this.defaultSessionKey=t}clear(){this.promiseToResolveMap.forEach((e=>{e.call(void 0)}));for(const e in this.values)this.values[e].clear();this.values={}}getKey(e){if(e.assetId||\"object\"!=typeof e)return e.assetId}getValueWithAsset(e){if(!e.assetId&&\"object\"==typeof e)return;const t=this.getKey(e);return t?this.get(t,e.repositoryId):void 0}setPending(e,t=this.defaultSessionKey){let s;this.values[t]||(this.values[t]=new Map);const n=this.values[t].get(e);if(n&&n instanceof Promise)return this.promiseToResolveMap.get(n);const r=new Promise((e=>{s=e}));return this.values[t].set(e,r),this.promiseToResolveMap.set(r,s),r.then((()=>this.promiseToResolveMap.delete(r))).catch((()=>this.promiseToResolveMap.delete(r))),s}get(e,t=this.defaultSessionKey){if(this.values[t]&&t in this.values)return this.values[t].get(e)}setValueWithAsset(e,t){if(!e)return;const s=this.getKey(t);if(s){const n=t.repositoryId||this.defaultSessionKey;this.set(e,s,n)}}set(e,t,s=this.defaultSessionKey){if(this.values[s]){if(this.values[s]&&this.values[s].get(t)instanceof Promise){const n=this.values[s].get(t),r=this.promiseToResolveMap.get(n);this.promiseToResolveMap.delete(n),r&&r(e)}}else this.values[s]=new Map;if(this.values[s].size>=this.maxEntries){const e=this.values[s].keys().next().value;this.values[s].delete(e)}this.values[s].set(t,Promise.resolve(e))}delete(e,t=this.defaultSessionKey){this.values[t]&&this.values[t].delete(e)}deleteWithAsset(e){const t=this.getKey(e);t&&this.delete(t,e.repositoryId)}}const wr=2592e6;class jr extends Br{constructor(e=1e5,t=2592e6){super(e,\"SESSION\"),this.timestampsOnLinkCreation=0,this.maxCachePeriodMS=0,this.maxCachePeriodMS=t}isLinkExpired(){return this.maxCachePeriodMS<Date.now()-this.timestampsOnLinkCreation}setIndexLinks(e){this.set(e,\"INDEX\",\"SESSION\"),this.timestampsOnLinkCreation=Date.now()}getIndexLinks(){if(!this.isLinkExpired())return this.get(\"INDEX\",\"SESSION\")}setIndexRepository(e){this.indexRepository=e}getIndexRepository(){return this.indexRepository}setRepositoryLinks(e){this.set(e,\"/Repositories\",\"SESSION\"),this.timestampsOnLinkCreation=Date.now()}getRepositoryLinks(){if(!this.isLinkExpired())return this.get(\"/Repositories\",\"SESSION\")}}var xr,Ur;!function(e){e.IMAGE_JPG=\"image/jpg\",e.IMAGE_PNG=\"image/png\",e.IMAGE_GIF=\"image/gif\",e.VIDEO_MP4=\"video/mp4\",e.VIDEO_METADATA=\"application/vnd.adobe.ccv.videometadata\"}(xr||(xr={})),function(e){e.NONE=\"none\",e.EMBEDDED=\"embedded\"}(Ur||(Ur={}));const Vr=h(\"dcx:assets:versionset\"),Hr=h(\"dcx:assets:versionset:leaf\");class Gr{constructor(e,t,s){this._svc=t,this.versionCount=e.versionCount||e[Z.TOTAL_CHILDREN],this.repositoryId=e.repositoryId||e[q.REPO_REPOSITORY_ID],this.assetId=e.assetId||e[q.REPO_ASSET_ID],this.versions=[];for(const s in e.versions||e[q.CHILDREN])this.versions.push(new wn(e.versions&&e.versions[s]?e.versions[s]:e[q.CHILDREN][s],t));this.links=T({},e.links,e._links,s)}versionByVersionId(e){return Vr(\"versionByVersionId()\"),this.versions.find((t=>t.version===e))}versionsByLabel(e){return Vr(\"versionsByLabel()\"),this.versions.filter((t=>!(!t.milestone||t.milestone.label!==e)))}}function Yr(e){Hr(\"deserializeVersionSet()\");const t={versionCount:e[Z.TOTAL_CHILDREN],repositoryId:e[Z.REPO_ID],assetId:e[q.REPO_ASSET_ID],links:{},versions:[]},s=e.children||e[q.CHILDREN];return s&&s.length>0&&(t.versions=s.map((e=>Un(e)))),t.links=e._links,t}export{ve as ACLPolicyMediaType,hs as Asset,kr as AssetFactory,ye as AssetTypes,Ne as BlockTransferMediaType,te as BlockTransferProperties,xt as BlockTransferStates,pn as BlockUpload,pt as COPY_RESOURCES_LIMIT,ut as COPY_RESOURCES_RESOURCE_LIMIT,qn as Composite,se as Constants,Ks as DEFAULT_BLOCK_DOWNLOAD_THRESHOLD,Ws as DEFAULT_BLOCK_UPLOAD_THRESHOLD,Mr as DEFAULT_CACHE_MAX_ENTRIES,qs as DEFAULT_MAX_CONCURRENT_REQUESTS,Zs as DEFAULT_STRING_LENGTH_CHECK,fr as Directory,be as DirectoryMediaType,ee as EmbeddedMetadataMediaTypes,Gn as File,Br as GenericCache,Oe as HTTPMethods,Re as HeaderKeys,ke as JSONLDMediaType,Pe as JSONMediaType,De as JSONPatchMediaType,Se as JSONProblemMediaType,K as LinkRelation,wr as MAX_CACHE_PERIOD_MS,me as ManifestMediaType,St as OperationDocumentBuilder,Ce as OperationDocumentMediaType,Ln as PageResource,J as PolicyPrincipalProperties,X as PolicyProperties,q as Properties,Ur as RenditionC2paSign,xr as RenditionType,jr as RepositoryLinksCache,Le as STREAMABLE_RESPONSE_TYPES,wn as Version,Z as VersionProperties,Gr as VersionSet,Q as XDMProviderProperties,jt as _copyResources,Qn as _getComponentPathUrl,er as _getUrl,nn as _parseUploadableData,jn as adobeVersionTransformer,Ue as assertLinksContain,Ve as assertLinksContainAny,rs as assertValidBulkRequest,Ys as assetTransformer,gn as blockTransferManager,Qt as bodyToUint8Array,Wt as buildRangeHeader,Ls as checkACLPrivilege,Jt as constructMultipartRequestBody,Ae as constructServiceEndpoint,Je as convertToACPRepoMetadataResource,ft as copyAsset,Fs as copyAssetResources,Et as copyResources,yr as createAsset,Rr as createAssetForGuest,An as defaultBufferResponseType,Bs as deleteACLPolicy,yt as deleteAsset,Xe as deserializeAsset,Lr as deserializeIndexDocument,Qe as deserializeRepository,cn as deserializeUploadComponentRecord,Un as deserializeVersion,Yr as deserializeVersionSet,Ir as directoryTransformer,At as discardAsset,br as discoverableAssetTransformer,mr as discoverableReposTransformer,vt as doBatchOperation,kn as doBlockDownload,Ge as doLinksContain,Pt as doOperation,Ye as doesAssetContainLinks,As as fetchLinksForAsset,ys as fetchLinksForAssetWithResponse,js as fetchLinksIfMissing,Cs as getACLPolicy,Ss as getAppMetadata,bs as getBaseDirectoryMetadata,rn as getBlockDownloadThreshold,lr as getCompositeComponent,dr as getCompositeComponentByPath,cr as getCompositeComponentPresignedUrl,or as getCompositeComponentUrl,pr as getCompositeComponentsUrlsForUpload,Xn as getCompositeManifest,Jn as getCompositeManifestUrl,sn as getDataLength,Tr as getDirectory,gr as getDirectoryByURL,vr as getDiscoverableAssets,Pr as getDiscoverableRepos,Ns as getEffectivePrivileges,Rn as getEmbeddedMetadata,qe as getHTTPResource,Cr as getIndexDocument,st as getIndexLinks,nt as getIndexRepository,Rs as getLinksForAsset,Gs as getLinksFromCache,tr as getManifestAndComponentsByPath,at as getOpsHref,Ar as getPagedChildren,zn as getPagedVersions,ar as getPresignedUrl,us as getPrimaryResource,ot as getPubsAsset,Dn as getRendition,Os as getRepoMetadata,ms as getRepositoryResource,ge as getReposityLinksCache,dt as getResolveByIdHref,ct as getResolveByPathHref,fs as getResolveLinkForAsset,Te as getService,Fn as getVersionResource,Ps as headAppMetadata,Zn as headCompositeManifest,Ke as headHTTPResource,ps as headPrimaryResource,Dr as hydrateAsset,_t as isAdobeCopyResourcesDocument,de as isAdobeDCXBranchLike,ce as isAdobeDCXCompositeLike,ne as isAdobeResponseLike,he as isBlob,ae as isBufferLike,ie as isComponentResourceDesignator,pe as isHttpService,le as isMinimalAdobeAsset,yn as isRepoMetaPatch,re as isRepoResponseLike,oe as isRepoResponseResultLike,ue as isResolvableAsset,_e as isServiceConfig,Ee as isTransferDocument,dn as maybeGetBlockTransfer,gt as moveAsset,Ft as newBlockDownload,Dt as newOperationDocBuilder,It as normalizeCopyResourcesDesignator,Ot as packageAssets,ns as parseHttpResponseContent,it as parseLinkString,rt as parseLinksFromResponseHeader,es as parseMultipartResponseParts,Ms as patchACLPolicy,ks as patchAppMetadata,vn as patchEmbeddedMetadata,Yn as patchVersions,ln as pauseBlockTransfer,is as performBulkRequest,Ds as putAppMetadata,ur as putCompositeComponent,On as putEmbeddedMetadata,fe as removeKeysFromHeader,gs as resolveAsset,Rt as restoreAsset,on as setBlockDownloadThreshold,tn as shouldUseBlockTransferForDownload,Js as shouldUseBlockTransferForUpload,an as streamToGetSliceCallback,et as transformAssetPropsToJsonPatch,hr as updateCompositeManifest,Nn as updatePrimaryResource,vs as updateRepoMetadata,ws as useLinkOrResolveResource,xn as versionTransformer};\n//# sourceMappingURL=index.js.map\n","import{assertLinksContainAny as e,LinkRelation as t,DEFAULT_BLOCK_UPLOAD_THRESHOLD as s,RepositoryLinksCache as i,getBlockDownloadThreshold as o,setBlockDownloadThreshold as n,createAsset as r,createAssetForGuest as c,isMinimalAdobeAsset as h,parseLinksFromResponseHeader as d,copyAssetResources as a,getIndexLinks as p,getIndexRepository as I,getIndexDocument as l,getDiscoverableAssets as u,getDiscoverableRepos as A,headHTTPResource as g,headCompositeManifest as m,resolveAsset as f,headPrimaryResource as v,deserializeAsset as _,updateRepoMetadata as C,getEmbeddedMetadata as k,putEmbeddedMetadata as L,patchEmbeddedMetadata as y,getPagedChildren as M,directoryTransformer as R,getDirectoryByURL as w,getLinksForAsset as P,getACLPolicy as b,getPrimaryResource as D,updatePrimaryResource as T,getRepositoryResource as E,getPagedVersions as S,deserializeVersionSet as N,getVersionResource as j,deserializeVersion as O,doBlockDownload as V,fetchLinksIfMissing as U,useLinkOrResolveResource as x,getEffectivePrivileges as F,checkACLPrivilege as B,headAppMetadata as Y,getAppMetadata as W,putAppMetadata as H,patchAppMetadata as z,getCompositeManifestUrl as X,getCompositeManifest as G,getManifestAndComponentsByPath as J,getRendition as K,getCompositeComponentPresignedUrl as q,getCompositeComponentUrl as Q,getCompositeComponentByPath as $,STREAMABLE_RESPONSE_TYPES as Z,getCompositeComponent as ee,putCompositeComponent as te,getCompositeComponentsUrlsForUpload as se,performBulkRequest as ie,updateCompositeManifest as oe,patchVersions as ne,patchACLPolicy as re,deleteACLPolicy as ce,copyAsset as he,moveAsset as de,deleteAsset as ae,discardAsset as pe,restoreAsset as Ie,packageAssets as le,getOpsHref as ue,doOperation as Ae,doBatchOperation as ge,isAdobeDCXCompositeLike as me,isAdobeDCXBranchLike as fe}from\"@dcx/assets\";import ve,{DCXError as _e,unexpectedResponse as Ce}from\"@dcx/error\";import{newDebug as ke,AdobeDCXLogger as Le}from\"@dcx/logger\";import ye from\"@dcx/promise\";import{setTracingSpanAttribute as Me,trace as Re,traceableAs as we}from\"@dcx/telemetry\";import{validateParams as Pe,pruneUndefined as be,validateObject as De,getLinkHrefTemplated as Te,endPointOf as Ee,isObject as Se,isAnyFunction as Ne,validateParam as je,merge as Oe,getLinkHref as Ve,verifyUuid as Ue,appendPathElements as xe,generateUuid as Fe}from\"@dcx/util\";function Be(e,t,s,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(r=(n<3?o(r):n>3?o(t,s,r):o(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r}const Ye=\"0\",We=\"md5\";class He{constructor(e,t,s,i,o,n){this.id=e,this.etag=t,this.version=s,this.md5=i,this.length=o,this.type=n}}class ze{constructor(e,t,s){this.compositeId=e,this.compositeAssetId=t,this.repositoryId=s,this.records={}}addUploadRecord(e,t){Pe([\"componentId\",e,\"string\"],[\"record\",t,\"object\"]),this.records[e]=t}getComponentDescriptor(e){const t=this._checkRAPIComponentParams(e);return JSON.stringify(function(e,t,s,i){try{De(i,\"UploadRecord\",[\"id\",\"string\"],[\"version\",\"string\"],[\"length\",\"number\"],[\"etag\",\"string\"],[\"type\",\"string\"])}catch(e){throw new _e(_e.INVALID_STATE,\"Invalid record data\",e)}const o={versionId:Ye,componentId:i.id,cloudAssetId:e,compositeId:t,repositoryId:s,componentRevisionId:i.version,type:i.type,cloudExpiration:void 0,size:i.length,etag:i.etag,hashType:We,hashValue:i.md5};return be(o)}(this.compositeAssetId,this.compositeId,this.repositoryId,t))}getComponentURL(e,t){const s=this._checkRAPIComponentParams(t);return e.getCompositeComponentUrlForDownload({repositoryId:this.repositoryId,assetId:this.compositeAssetId},t,s.length,s.version)}getComponent(e,t,s){const i=this._checkRAPIComponentParams(t);return e.getCompositeComponent({repositoryId:this.repositoryId,assetId:this.compositeAssetId},t,i.version,s)}_checkRAPIComponentParams(e){if(!this.repositoryId)throw new _e(_e.INVALID_STATE,\"Repository ID must be defined.\",void 0,void 0,{componentId:e});const t=this.records[e];if(!t)throw new _e(_e.INVALID_PARAMS,\"UploadRecord does not exist\",void 0,void 0,{componentId:e});return t}}function Xe(e,t,s){return Pe([\"compositeId\",e,\"string\",!0],[\"compositeAssetId\",t,\"string\"],[\"repositoryId\",s,[\"string\",\"undefined\"]]),new ze(e,t,s)}function Ge(e,t,s,i,o,n){return Pe([\"componentId\",e,\"string\"],[\"etag\",t,\"string\"],[\"version\",s,\"string\"],[\"md5\",i,\"string\"],[\"length\",o,\"number\"],[\"type\",n,\"string\"]),new He(e,t,s,i,o,n)}function Je(e){let t;Pe([\"decriptor\",e,\"string\"]);try{t=JSON.parse(e)}catch(e){throw new ve(ve.INVALID_JSON,\"Invalid component descriptor\",e)}switch(t.versionId){case Ye:case void 0:if(!t.repositoryId)throw new ve(ve.INVALID_DATA,\"Component descriptor missing repositoryId\");try{const e=Xe(t.compositeId,t.cloudAssetId,t.repositoryId),s=Ge(t.componentId,t.etag,t.componentRevisionId,t.hashValue,t.size,t.type);return e.addUploadRecord(t.componentId,s),e}catch(e){throw new ve(ve.INVALID_DATA,\"Invalid component descriptor\",e)}default:throw new ve(ve.INVALID_DATA,\"ComponentDescriptor serialization versionId not valid or not yet handled.\")}}function Ke(s,i,o){Pe([\"repoUploadResults\",i,\"object\"],[\"compositeId\",o,\"string\",!0]),De(i,\"repoUploadResults\",[\"result\",\"object\"]);const n=i.asset||i.compositeAsset,{result:r}=i;if(!(n.assetId&&n.repositoryId||n.links||r.links))throw new ve(ve.INVALID_PARAMS,\"AdobeRepoUploadResult#asset object missing repositoryId or assetId, and links\");const c=Ge(r.id,r.etag,r.revision,r.md5,r.length,r.type);let h;if(n.assetId&&n.repositoryId)h=ye.resolve(Xe(o,n.assetId,n.repositoryId));else{Pe([\"session\",s,\"object\"]);const i=n.links||r.links,c=e(i,[t.PRIMARY,t.ID,t.PATH,t.COMPONENT]),d=Te(i,c,{component_id:\"manifest\"});h=s.headHTTPResource(d).then((e=>{const t=e.headers[\"repository-id\"],s=e.headers[\"asset-id\"];if(!t||!s)throw new ve(ve.INVALID_DATA,\"Fetched data missing repositoryId or assetId\");return Xe(o,s,t)}))}return h.then((e=>(e.addUploadRecord(r.id,c),e)))}const qe=ke(\"dcx:repoapisession\"),Qe=Le.getInstance(),$e=\"+dcx\";let Ze=class{constructor(e,t,o){this._authenticationAllowList=[\"adobe.com\",\"adobe.io\",\"adobelogin.com\",\"fotolia.net\"],this._blockUploadThreshold=s,Pe([\"httpService\",e,\"object\"],[\"server\",t,\"string\"]),this._service=e,this._service._repoAPIBaseUrl=t;const n=Ee(t);if(!n)throw new ve(ve.INVALID_PARAMS,\"Could not determine endpoint from: \"+t);this._endPoint=n,Se(o)&&Ne(o.getIndexLinks)?this._linksCache=o:this._linksCache=new i}get serviceConfig(){return{service:this._service,cache:this._linksCache}}get blockUploadThreshold(){return this._blockUploadThreshold}set blockUploadThreshold(e){je(\"threshold\",e,\"+number\"),this._blockUploadThreshold=e}get blockDownloadThreshold(){return o()}set blockDownloadThreshold(e){je(\"threshold\",e,\"+number\"),n(e)}createAsset(e,t,s,i,o,n,c,h,d){return r(this._service,e,t,s,i,o,n,c,h,d)}createAssetForGuest(e,t,s,i,o,n,r,h){return c(this._service,e,t,s,i,o,n,r,h)}createComposite(e,t,s,i,o,n,r,c){if(qe(\"createComposite()\"),Pe([\"parentDir\",e,\"object\"],[\"relPath\",t,\"string\"],[\"contentType\",s,\"string\"]),!s.endsWith($e))throw new ve(ve.INVALID_PARAMS,`Composite contentType must end in \"${$e}\"`);if(!h(e))throw new ve(ve.INVALID_PARAMS,\"parentDir must contain links or repositoryId & assetId or path\");return this.createAsset(e,t,!0,n&&s.endsWith(\"dcx\")?s+\"ucf\":s,i,o,n,r,c).catch((s=>{if(!s.response||409!==s.response.statusCode)throw Ce(\"Error creating composite\",s,s.response);if(s.response.headers.link){const t=d(s.response);this._linksCache.setValueWithAsset(t,{assetId:s.response.headers[\"asset-id\"]||s.response.headers[\"x-resource-id\"],repositoryId:e.repositoryId})}throw new ve(ve.ALREADY_EXISTS,\"Composite already exists at \"+t,void 0,s.response)}))}copyResources(e,t,s,i,o,n){return a(this._service,e,t,s,i,o,n)}getIndexLinks(e){return p(this.serviceConfig,e)}getIndexRepository(e){return I(this.serviceConfig,e)}getIndexDocument(e){return l(this.serviceConfig,e)}getDiscoverableAssets(e={},t){return u(this.serviceConfig,e,t)}getDiscoverableRepos(e={},t){return A(this.serviceConfig,e,t)}headHTTPResource(e,t){return g(this._service,e,t)}headCompositeManifest(e,s){return this.fetchLinksIfMissing(e,[t.COMPONENT],s).then((()=>m(this._service,e,s)))}resolveAsset(e,t=\"id\",s,i,o){return f(this.serviceConfig,e,t,s,i,o)}headPrimaryResource(e,s){return this.fetchLinksIfMissing(e,[t.PRIMARY],s).then((()=>v(this.serviceConfig,e,s)))}getRepoMetadata(e,s){return e.assetId&&Me(\"assetId\",e.assetId),this.useLinkOrResolveResource(e,t.REPO_METADATA,\"json\",s).then((e=>({result:_(e.response.response),response:e.response})))}updateRepoMetadata(e,s){return this.fetchLinksIfMissing(e,[t.REPO_METADATA],s).then((()=>C(this.serviceConfig.service,e,s)))}getEmbeddedMetadata(e,s=\"json\",i){return Pe([\"asset\",e,\"object\"],[\"format\",s,\"enum\",!1,[\"json\",\"xml\"]]),this.fetchLinksIfMissing(e,[t.EMBEDDED_METADATA],i).then((()=>k(this._service,e,s)))}putEmbeddedMetadata(e,s,i,o=\"json\",n){return Pe([\"asset\",e,\"object\"],[\"data\",s,[\"string\",\"object\",\"object[]\"]],[\"etag\",i,\"string\",!0],[\"format\",o,\"enum\",!1,[\"json\",\"xml\"]]),this.fetchLinksIfMissing(e,[t.EMBEDDED_METADATA],n).then((()=>L(this._service,e,s,i,o,n)))}patchEmbeddedMetadata(e,s,i,o){return Pe([\"asset\",e,\"object\"],[\"data\",s,[\"string\",\"object\",\"object[]\"]],[\"etag\",i,\"string\",!0]),this.fetchLinksIfMissing(e,[t.EMBEDDED_METADATA],o).then((()=>y(this._service,e,s,i,o)))}getDirectory(e,s,i){return this.fetchLinksIfMissing(e,[t.PAGE],i).then((()=>M(this._service,e,s,i).then((e=>({result:R(e.paged.data)[1],paged:e.paged,response:e.response})))))}getDirectoryByURL(e){return w(this._service,e).then((e=>({response:e.response,result:_(e.result)})))}getLinksForAsset(e,t){return P(this.serviceConfig,e,t)}getACLPolicy(e,s){return this.fetchLinksIfMissing(e,[t.ACL_POLICY],s).then((()=>b(this._service,e,s)))}getPrimaryResource(e,s,i){const o={};return this._withSourcePromise(o).then((()=>this.fetchLinksIfMissing(e,[t.PRIMARY],i))).then((()=>D.call(o,this._service,e,s,i)))}updatePrimaryResource(e,s,i,o,n,r,c){return this.fetchLinksIfMissing(e,[t.PRIMARY],c).then((()=>T(this._service,e,s,i,o,n,r,c)))}getRepositoryResource(e,s){return this.fetchLinksIfMissing(e,[t.REPOSITORY],s).then((()=>E(this._service,e,s)))}getVersions(e,s,i){return this.fetchLinksIfMissing(e,[t.PAGE],i).then((()=>S(this._service,e,s,i).then((e=>({result:N(e.result),response:e.response,paged:e.paged})))))}getVersionResource(e,s,i){return this.fetchLinksIfMissing(e,[t.PAGE],i).then((()=>j(this._service,e,s,i).then((e=>({result:O(e.result),response:e.response})))))}blockDownloadAsset(e,s,i,o,n,r,c,h){if(\"string\"==typeof e)return V(this._service,e,s,i,o,n,r,c,h);const d={};return this._withSourcePromise(d).then((()=>this.fetchLinksIfMissing(e,[t.PRIMARY]))).then((()=>V.call(d,this._service,e,s,i,o,n,r,c,h)))}fetchLinksIfMissing(e,t,s){return U(this.serviceConfig,e,t,void 0,s)}useLinkOrResolveResource(e,t,s,i){return x(this.serviceConfig,e,t,s,i).then((t=>(e.links!==t.result.links&&(e.links=Oe(e.links||{},t.result.links),this._linksCache.setValueWithAsset(e.links,e)),t)))}getLinkHrefForAsset(e,t,s=\"id\",i){return this.fetchLinksIfMissing(e,[t],i).then((e=>Ve(e,t,s)))}getEffectivePrivileges(e,s){return this.fetchLinksIfMissing(e,[t.EFFECTIVE_PRIVILAGES],s).then((()=>F(this._service,e,s)))}checkACLPrivilege(e,s,i,o){return this.fetchLinksIfMissing(e,[t.ACCESS_CHECK],o).then((()=>B(this._service,e,s,i,o)))}headAppMetadata(e,s){return this.fetchLinksIfMissing(e,[t.APP_METADATA],s).then((()=>Y(this.serviceConfig,e,s)))}getAppMetadata(e,s,i){return this.fetchLinksIfMissing(e,[t.APP_METADATA],i).then((()=>W(this._service,e,s,i)))}putAppMetadata(e,s,i,o){return this.fetchLinksIfMissing(e,[t.APP_METADATA],o).then((()=>H(this._service,e,s,i,o)))}patchAppMetadata(e,s,i,o){return this.fetchLinksIfMissing(e,[t.APP_METADATA],o).then((()=>z(this._service,e,s,i)))}getCompositeManifestUrl(e,s,i){Pe([\"asset\",e,\"object\"],[\"version\",s,\"string\",!0]);const o=this._getAsAdobeAsset(e);return o.version=s||o.version,this.fetchLinksIfMissing(o,[t.MANIFEST],i).then((()=>X(this._service,o,s,i)))}getCompositeManifest(e,s,i,o){Pe([\"asset\",e,\"object\"],[\"version\",s,\"string\",!0],[\"etag\",i,\"string\",!0]);const n=this._getAsAdobeAsset(e);return n.version=s||n.version,this.fetchLinksIfMissing(n,[t.MANIFEST],o).then((()=>G(this._service,n,s,i,o)))}getManifestAndComponentsByPath(e,t,s,i,o){return J(this.serviceConfig.service,e,t,s,i,o)}getRendition(e,s,i,o,n){return this.fetchLinksIfMissing(e,[t.RENDITION]).then((()=>K(this._service,e,s,i,o,n)))}getCompositeComponentUrlForDownload(e,t,s,i,o){var n;const r=this._getAsAdobeAsset(e),c=null!==(n=this._isDCXComponentLike(e)?e.length:s)&&void 0!==n?n:0,{id:h,revision:d}=this._resolveComponentIdAndRevision(e,t,i);return c>this.blockDownloadThreshold?q(this.serviceConfig,r,h,d,o).then((({response:e,result:t})=>({response:e,isPresignedUrl:!0,url:t}))):this.getCompositeComponentUrl(r,h,d,o).then((e=>({response:void 0,url:e,isPresignedUrl:!1})))}getCompositeComponentUrl(e,s,i,o){const n=this._getAsAdobeAsset(e),{id:r,revision:c}=this._resolveComponentIdAndRevision(e,s,i,!1);return this.fetchLinksIfMissing(n,[t.COMPONENT],o).then((()=>(Pe([\"asset\",n,\"object\"],[\"componentId\",r,\"string\"],[\"componentRevision\",c,\"string\",!0]),Q(this._service,n,r,c))))}getCompositeComponentByPath(e,t,s,i,o){return $(this._service,this._getAsAdobeAsset(e),t,s,i,o)}getCompositeComponent(e,s,i,o,n,r){const c=this._getAsAdobeAsset(e),{id:h,revision:d}=this._resolveComponentIdAndRevision(e,s,i);return c.assetId&&Me(\"assetId\",c.assetId),s&&Me(\"componentId\",s),r&&Me(\"componentSize\",String(r)),this.fetchLinksIfMissing(c,[t.COMPONENT],n).then((()=>(Pe([\"asset\",e,\"object\"],[\"componentId\",h,\"string\"],[\"componentRevision\",d,\"string\"],[\"responseType\",o,\"enum\",!0,Z]),ee(this._service,c,h,d,o,n,this._isDCXComponentLike(e)?e.length:r))))}putCompositeComponent(e,s,i,o,n,r,c,h,d,a){if(Pe([\"asset\",e,\"object\"],[\"componentId\",s,\"string\"],[\"contentType\",o,\"string\"],[\"maybeIsNew\",n,\"boolean\",!0],[\"size\",r,\"number\",!0],[\"md5\",c,\"string\",!0]),n&&!Ue(s))throw new ve(ve.INVALID_PARAMS,\"Component id is not a uuid\");Ue(s)||Qe.warn(\"Existing component id is not a uuid\");const p=this._getAsAdobeAsset(e);return(p.assetId||p.id)&&Me(\"assetId\",p.assetId||p.id),Me(\"componentId\",s),r&&Me(\"componentSize\",String(r)),this.fetchLinksIfMissing(p,[t.COMPONENT,t.BLOCK_UPLOAD_INIT],d).then((()=>te(this.serviceConfig,e,s,i,o,n,r,c,h,d,a)))}getCompositeComponentsUrlsForUpload(e,t,s){return se(this._service,e,t,s)}performBulkRequest(e,s,i,o){return this.fetchLinksIfMissing(e,[t.BULK_REQUEST],o).then((()=>ie(this._service,e,s,i,o)))}updateCompositeManifest(e,s,i,o=1,n,r){qe(\"updateCompositeManifest()\"),Pe([\"asset\",e,\"object\"],[\"manifest\",s,[\"object\",\"string\"]],[\"overwrite\",i,\"boolean\"],[\"validationLevel\",o,\"+number\"],[\"etag\",n,\"string\",!0]);const c=this._getAsAdobeAsset(e);return this.fetchLinksIfMissing(c,[t.MANIFEST],r).then((()=>oe(this._service,c,s,i,o,n,r)))}patchVersions(e,s,i,o){return Pe([\"asset\",e,\"object\"],[\"patchDoc\",s,[\"string\",\"array\"]],[\"etag\",i,\"string\",!0]),this.fetchLinksIfMissing(e,[t.VERSION_HISTORY],o).then((()=>ne(this._service,e,s,i,o)))}patchACLPolicy(e,s,i,o){return Pe([\"asset\",e,\"object\"],[\"policy\",s,[\"string\",\"object\"]],[\"etag\",i,\"string\",!0]),this.fetchLinksIfMissing(e,[t.VERSION_HISTORY],o).then((()=>re(this._service,e,s,i,o)))}deleteACLPolicy(e,s){return Pe([\"asset\",e,\"object\"]),this.fetchLinksIfMissing(e,[t.ACL_POLICY],s).then((()=>ce(this._service,e,s)))}copyAsset(e,t,s,i,o,n){return he(this.serviceConfig,e,t,s,i,o,n)}moveAsset(e,t,s,i,o){return Me(\"sourceAsset.assetId\",e.assetId),Me(\"targetAsset.assetId\",t.assetId),de(this.serviceConfig,e,t,s,i,o)}deleteAsset(e,t,s,i){return ae(this.serviceConfig,{repositoryId:e.repositoryId,path:e.path,assetId:e.assetId},t,s,i).then((t=>(this._linksCache.deleteWithAsset(e),t)))}discardAsset(e,t,s,i){return pe(this.serviceConfig,{repositoryId:e.repositoryId,path:e.path,assetId:e.assetId},t,s,i)}restoreAsset(e,t){return Ie(this.serviceConfig,e,t)}packageAssets(e,t,s,i,o){return le(this.serviceConfig,e,t,s,i,o)}performOperation(e,t){return ue(this.serviceConfig,t).then((s=>Ae(this._service,s,e,t)))}performBatchOperation(e,t){return ue(this.serviceConfig).then((s=>ge(this._service,s,e,t)))}uploadResultsFromAdobeRepoUploadResult(e,t){return Ke(this,e,t)}updateCachedAssetLinks(e){if(!e.assetId)throw new ve(ve.INVALID_PARAMS,\"Asset must contain an assetId\");this._linksCache.setValueWithAsset(e.links||e._links,e)}updateCachedIndexLinks(e){if(!e)throw new ve(ve.INVALID_PARAMS,\"Index LinkSet must not be null\");this._linksCache.setIndexLinks(e)}getLinksCache(){return this._linksCache}setLinksCache(e){this._linksCache=e}clearLinksCache(){this._linksCache.clear()}_resolveComponentIdAndRevision(e,t,s,i=!0){var o;if(this._isDCXComponentLike(e))return{revision:e.version,id:e.id};if(!t)throw new ve(ve.INVALID_PARAMS,\"Missing componentId.\");if(!1===i||s)return{revision:s,id:t};if(!me(e)||!t)throw new ve(ve.INVALID_PARAMS,\"Could not determine component revision\");const n=null===(o=e.current)||void 0===o?void 0:o.getComponentWithId(t);if(void 0===(null==n?void 0:n.version))throw new ve(ve.INVALID_PARAMS,\"Could not determine component revision\");return{revision:n.version,id:t}}_isDCXComponentLike(e){return!!Se(e)&&(null!=e.owner&&fe(e.owner))}_withSourcePromise(e){return ye.resolve(void 0,e)}_getAsAdobeAsset(e){if(\"object\"!=typeof e||Array.isArray(e))throw new ve(ve.INVALID_PARAMS,\"Invalid asset-like object.\");if(h(e))return e;let t,s={};if((\"repositoryId\"in e||\"assetId\"in e||\"links\"in e||\"version\"in e)&&(s={repositoryId:e.repositoryId,assetId:e.assetId,links:e.links,version:e.version}),fe(e)&&(t=e._core),this._isDCXComponentLike(e)||t){const i=e,o=t||(i&&i.owner&&i.owner._core?i.owner._core:void 0);if(o){const e=o._getSourceAssetInfoOfComponent(s);e&&\"object\"==typeof e&&(s.assetId=e.compositeAssetId||s.assetId,s.repositoryId=e.compositeRepositoryId||s.repositoryId,s.links=e.links||s.links,s.version=e.version||s.version)}}const i=e,o=e;return s.assetId=s.assetId?s.assetId:i.owner?i.owner.compositeAssetId:o.compositeAssetId,s.repositoryId=s.repositoryId?s.repositoryId:i.owner?i.owner.compositeRepositoryId:o.compositeRepositoryId,s}get authenticationAllowList(){return this._authenticationAllowList}set authenticationAllowList(e){if(!Array.isArray(e))throw new ve(ve.INVALID_PARAMS,\"Expecting an array.\");this._authenticationAllowList=e}_resolveUrl(e){return Ee(e)?e:xe(this._service._repoAPIBaseUrl||this._service.server,e)}registerLinks(e,t,s){e=e._links||e;const i={assetId:s||\"urn:aaid:faux:\"+Fe(),repositoryId:t||\"faux-repo-id\"};return this._linksCache.setValueWithAsset(e,i),i}};Be([Re],Ze.prototype,\"getRepoMetadata\",null),Be([Re],Ze.prototype,\"getAppMetadata\",null),Be([Re],Ze.prototype,\"getCompositeComponent\",null),Be([Re],Ze.prototype,\"putCompositeComponent\",null),Be([Re],Ze.prototype,\"moveAsset\",null),Ze=Be([we(\"AdobeRepoAPISession\")],Ze);const et=(e,t,s)=>new Ze(e,t,s);export{Ze as AdobeRepoAPISession,We as CURRENT_COMPONENT_DESCRIPTOR_HASH_TYPE,Ye as CURRENT_COMPONENT_DESCRIPTOR_VERSION,et as createRepoAPISession,Ge as createUploadRecord,Xe as createUploadResults,Ke as uploadResultsFromAdobeRepoUploadResult,Je as uploadResultsFromComponentDescriptor};\n//# sourceMappingURL=index.js.map\n","export const REPO_API_ENDPOINT = 'https://platform-cs-stage.adobe.io';\nexport const API_KEY = \"AdobeExpressWeb\";\nexport const DEFAULT_STORAGE_PATH = 'assets';\n/**\n * Centralized error codes and messages for the UploadService\n */\nexport const ERROR_CODES = {\n    UPLOAD_FAILED: {\n      code: 'UPLOAD_FAILED',\n      message: 'Failed to upload asset. Please try again.'\n    },\n    URL_GENERATION_FAILED: {\n      code: 'URL_GENERATION_FAILED',\n      message: 'Failed to generate pre-signed URL'\n    },\n    REPOSITORY_ID_REQUIRED: {\n      code: 'REPOSITORY_ID_REQUIRED',\n      message: 'Repository ID is required for normal token uploads'\n    },\n    REPOSITORY_ID_REQUIRED_FOR_DIRECTORY: {\n      code: 'REPOSITORY_ID_REQUIRED_FOR_DIRECTORY',\n      message: 'Repository ID required for directory operations'\n    }\n  } as const;\n\n  export const UPLOAD_EVENTS = {\n    UPLOAD_STATUS: 'x-express-upload-status'\n  } as const;","import{DCXError as e,AdobeDCXError as t,ErrorCodes as s,_defaultStatusValidator as i}from\"@dcx/error\";import{newDebug as r,log as o}from\"@dcx/logger\";import n from\"@dcx/promise\";import{validateParams as h,getDomainFromURL as a,pruneUndefined as u,isJsonContentType as d,normalizeHeaders as c,objectFromEntries as l,parseHeaders as _,arrayBufferToString as p,isAnyFunction as f,isReadableStream as g,DEFAULT_RETRY_CODES as y,now as m,checkRetriable as R,generateUuid as v,isObject as T,isNode as b,endPointOf as A,merge as w}from\"@dcx/util\";function O(e,t,s,i){return new(s||(s=Promise))((function(r,o){function n(e){try{a(i.next(e))}catch(e){o(e)}}function h(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,h)}a((i=i.apply(e,t||[])).next())}))}const P=r(\"dcx:http:auth\");class x{constructor(e,t,s){this._authToken=e,this._apiKey=t,this._pendingAuth=!1,this._hasBaseRefreshCb=!1,this._authListeners=[],this._persistentListeners=[],this._authenticationAllowList=[\"adobe.com\",\"adobe.io\",\"adobelogin.com\",\"fotolia.net\"],this._authTokenScheme=\"Bearer\",h([\"authToken\",e,\"string\",!0],[\"apiKey\",t,\"string\",!0],[\"refreshCb\",s,\"function\",!0]),s&&(this._hasBaseRefreshCb=!0,this.onChange(((e,t)=>{\"unauthenticated\"===e&&s.call(null,t)}),!0)),e&&t||(P(\"init unauthenticated\"),this._pendingAuth=!0,setTimeout((()=>{P(\"after tick\",this._pendingAuth),this._pendingAuth&&this.refreshAuth()})))}get authenticationAllowList(){return this._authenticationAllowList}set authenticationAllowList(t){if(!Array.isArray(t))throw new e(e.INVALID_PARAMS,\"Expecting an array.\");this._authenticationAllowList=t}get isNoAuthMode(){return!this._hasBaseRefreshCb}set isNoAuthMode(e){this._hasBaseRefreshCb=!e}get apiKey(){return this._apiKey}get authToken(){return this._authToken}get authTokenScheme(){return this._authTokenScheme}set authTokenScheme(e){this._authTokenScheme=e}setAuthToken(e){P(\"setAuthToken\"),this._authToken=e,this._pendingAuth=!1,this._authChanged(\"updated\")}setApiKey(e){this._apiKey=e}resume(){P(\"resume()\"),this._pendingAuth=!1,this._authChanged(\"updated\")}get pendingAuth(){return this._pendingAuth}onChange(e,t=!1){P(\"onChange, persistent:\",t);const s=this._authListeners.push(e)-1;return t&&this._persistentListeners.push(s),()=>{try{t&&(this._persistentListeners=this._persistentListeners.filter((e=>e!==s))),delete this._authListeners[s]}catch(e){}}}clearListeners(e=!1){if(P(\"clearListeners, persistent:\",e),!0===e)return this._authListeners=[],void(this._persistentListeners=[]);this._authListeners=this._authListeners.map(((e,t)=>{if(this._persistentListeners.includes(t))return e}))}get refreshPromise(){return this._refreshPromise}_authChanged(e){return O(this,void 0,void 0,(function*(){P(\"authChanged\",e),this._pendingAuth=\"unauthenticated\"===e,queueMicrotask((()=>O(this,void 0,void 0,(function*(){const t=[];this._authListeners.map((s=>{if(\"function\"==typeof s){const i=s.call(null,e,this);i&&\"object\"==typeof i&&i.then&&t.push(i)}})),yield Promise.all(t),\"updated\"===e&&this._resolveRefresh()}))))}))}_resolveRefresh(){P(\"_resolveRefresh\"),this._refreshResolve&&this._refreshResolve(this.getAuthData()),this._refreshResolve=void 0,this._refreshPromise=void 0}refreshAuth(){return P(\"refreshAuth\"),this._refreshPromise||(this._refreshPromise=new Promise((e=>{this._refreshResolve=e})),this._authChanged(\"unauthenticated\")),this._refreshPromise}getAuthData(){return{authToken:this._authToken,apiKey:this._apiKey}}getAuth(){return O(this,void 0,void 0,(function*(){return Promise.resolve(this.getAuthData())}))}isAuthorizedURL(e){const t=a(e);return this._authenticationAllowList.includes(t)}logout(){P(\"logout\"),this._apiKey=void 0,this._authToken=void 0,!1===this._pendingAuth&&(this._pendingAuth=!0,this._authChanged(\"unauthenticated\"))}applyAuthHeaders(e,t){const s={\"x-api-key\":void 0,authorization:void 0};return this.isAuthorizedURL(e)&&(null!==t[\"x-api-key\"]&&this.apiKey&&(s[\"x-api-key\"]=this.apiKey),null!==t.authorization&&this.authToken&&(s.authorization=(this.authTokenScheme?`${this.authTokenScheme} `:\"\")+this.authToken)),t=u(Object.assign(Object.assign({},t),s))}}const E=12e4,C=36e5;const k=r(\"dcx:http:xhr\");let q;if(q=\"undefined\"!=typeof window?window.XMLHttpRequest:XMLHttpRequest,null==q)throw new t(t.INVALID_STATE,\"XMLHttpRequest module not found.\");const S={NO_ERROR:\"\",ABORTED:s.ABORTED,NETWORK:s.NETWORK_ERROR,TIMEOUT:s.TIMED_OUT,TOO_MANY_REDIRECTS:s.TOO_MANY_REDIRECTS,INSECURE_REDIRECT:s.INSECURE_REDIRECT};class N{constructor(e={}){this._autoParseJson=!1,this._bytesReported=0,this._errorCode=S.NO_ERROR,this._isFetchRequest=!1,this._fetchAbort=()=>{},this._preferFetch=!1,this._sent=!1,this.headers={},this.responseType=\"text\",this._progressListeners=[];const{forceXhr:s,preCallback:i,postCallback:r,timeout:o,preferFetch:n}=e;this._preCallback=i,this._postCallback=r,this._timeout=null==o||o<0?E:o,this._xhr=s?new s:new q,this._xhr.timeout=C,this._preferFetch=!0===n,this._fetch=e.fetch?e.fetch:\"undefined\"!=typeof window&&\"fetch\"in window&&\"function\"==typeof window.fetch?window.fetch.bind(window):\"undefined\"!=typeof self&&\"fetch\"in self&&\"function\"==typeof self.fetch?self.fetch.bind(self):\"undefined\"!=typeof global&&\"fetch\"in global&&\"function\"==typeof global.fetch?global.fetch.bind(global):void 0,this._parseFetchResponse=this._parseFetchResponse.bind(this),this.onProgress=this.onProgress.bind(this),this._autoParseJson=null==e.autoParseJson||e.autoParseJson,e.additionalNodeOptions&&this._xhr.setNodeOptions&&this._xhr.setNodeOptions(e.additionalNodeOptions),this._promise=new Promise((e=>{this._resolve=e,this._xhr.addEventListener(\"abort\",(()=>{k(\"aborted\",this._errorCode,this._timeout),this._errorCode=this._errorCode||S.ABORTED,this._finalize()})),this._xhr.addEventListener(\"error\",(e=>{k(\"err\",this._errorCode,e,this._xhr.status,this._timeout),this._underlyingError=e;switch(e?e.code:void 0){case\"ERR_FR_TOO_MANY_REDIRECTS\":this._errorCode=S.TOO_MANY_REDIRECTS;break;case t.INSECURE_REDIRECT:this._errorCode=S.INSECURE_REDIRECT;break;case S.TIMEOUT:this._errorCode=S.TIMEOUT;break;default:this._errorCode=S.NETWORK}this._finalize()})),this._xhr.addEventListener(\"load\",(()=>{k(\"load\"),this._estimatedTotalBytes&&this._estimatedTotalBytes>this._bytesReported&&this._notifyProgressListeners(this._estimatedTotalBytes,this._estimatedTotalBytes,!1),this._finalize()})),this._xhr.addEventListener(\"timeout\",(()=>{k(\"timeout\",C),this._errorCode=S.TIMEOUT,this._finalize()}))}))}get xhr(){return this._xhr}_parseFetchResponse(e){return O(this,void 0,void 0,(function*(){if(204===e.status)return e;if(\"chunked\"===e.headers.get(\"transfer-encoding\")||parseInt(e.headers.get(\"content-length\")||\"0\")>0)switch(this.responseType){case\"json\":d(e.headers.get(\"content-type\")||\"\")&&(this._fetchBodyAsResponseType=yield e.json());break;case\"arraybuffer\":this._fetchBodyAsResponseType=yield e.arrayBuffer();break;case\"blob\":this._fetchBodyAsResponseType=yield e.blob();break;case\"text\":this._fetchBodyAsResponseType=yield e.text();break;case\"void\":break;case\"buffer\":case\"defaultbuffer\":this._fetchBodyAsResponseType=yield e.arrayBuffer().then((e=>new Uint8Array(e)))}return\"stream\"===this.responseType&&(this._fetchBodyAsResponseType=e.body),e}))}_shouldAutoParseResponse(){const e=this._errorCode===S.NO_ERROR&&this._sent&&!this._isFetchRequest&&\"text\"===this._xhr.responseType&&this._autoParseJson&&\"string\"==typeof this._xhr.response&&this._xhr.response.length<102400&&d(this.getResponseHeader(\"content-type\"));return k(\"_shouldAutoParseResponse()\",e),e}_fetchWithTimeout(t,s={}){if(\"function\"!=typeof this._fetch)throw new e(e.UNEXPECTED,\"fetch method not found but was invoked\");const{timeout:i}=s,r=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(s[i[r]]=e[i[r]])}return s}(s,[\"timeout\"]);this._isFetchRequest=!0;const o=t=>()=>{this._errorCode=this._errorCode||S.TIMEOUT,t(new e(e.TIMED_OUT,\"request aborted due to timeout\")),this._finalize()};if(\"function\"!=typeof AbortController)return new Promise(((e,s)=>O(this,void 0,void 0,(function*(){this._timeoutTimeout=setTimeout(o(s),i);const n=yield this._fetch(t,r);return clearTimeout(this._timeoutTimeout),this._parseFetchResponse(n).then(e)})))).finally((()=>{clearTimeout(this._timeoutTimeout)}));const n=new AbortController;return this._timeoutTimeout=setTimeout(o(n.abort.bind(n)),i),this._fetchAbort=()=>{this._errorCode=this._errorCode||S.ABORTED,n.abort(),this._finalize()},new Promise(((e,s)=>{this._fetch(t,Object.assign({signal:n.signal},r)).then((e=>(clearTimeout(this._timeoutTimeout),this._parseFetchResponse(e)))).then(e).catch((e=>{clearTimeout(this._timeoutTimeout),s(e)}))}))}_finalize(){if(k(\"_finalize\",this._xhr.status,this._errorCode),this._shouldAutoParseResponse())try{const e=JSON.parse(this._xhr.response);this._autoParsedResponse=e,this._xhr.responseType=\"json\"}catch(e){}this._postCallback&&this._postCallback(this),this._timeoutTimeout&&clearTimeout(this._timeoutTimeout),this._progressListeners=[],this._resolve(this)}_validateResponseType(e){if(\"buffer\"===e){if(\"function\"!=typeof Buffer)throw new t(t.INVALID_PARAMS,\"No Buffer class\")}else if(\"blob\"===e){if(\"function\"!=typeof Blob)throw new t(t.INVALID_PARAMS,\"No Blob class\")}else if(\"text\"!==e&&\"json\"!==e&&\"arraybuffer\"!==e&&\"stream\"!==e)throw new t(t.INVALID_PARAMS,\"Unsupported response type\");return e.toLowerCase()}inactivityTimer(){this._timeoutTimeout&&clearTimeout(this._timeoutTimeout),this._timeoutTimeout=setTimeout((()=>{this.timedOut()}),this._timeout)}send(e,s,i,r={},o=\"text\",n={}){if(k(\"send\"),this._sent)throw new Error(\"Xhr already sent\");this.href=e,this.method=s.toUpperCase(),this.body=i,this.body?this._estimatedTotalBytes=this.body.byteLength||this.body.length||this.body.size:this._estimatedTotalBytes=Number.MAX_SAFE_INTEGER;const h=e=>{var t;k(`progress ${e.loaded}/${e.total}`),this._bytesReported=e.loaded,this.inactivityTimer(),e.lengthComputable?(this._estimatedTotalBytes=e.total,this._notifyProgressListeners(this._bytesReported,null!==(t=this._estimatedTotalBytes)&&void 0!==t?t:1/0,!1)):this._estimatedTotalBytes&&this._estimatedTotalBytes>this._bytesReported&&this._notifyProgressListeners(this._bytesReported,this._estimatedTotalBytes||e.total,!0)};[\"POST\",\"PUT\",\"PATCH\"].includes(this.method)&&this._xhr.upload?this._xhr.upload.onprogress=h:this._xhr.addEventListener(\"progress\",h),this._timeout=n.timeout||this._timeout||E,k(\"setting timeout\",this._timeout),this._xhr.timeout=C,o&&(o=this._validateResponseType(o),k(\"responseType: \",o),this.responseType=\"buffer\"===o?\"arraybuffer\":\"stream\"===o?\"stream\":\"void\"===o?\"text\":o);const a=c(r);if(this.headers=a,this.href.startsWith(\"http:\")&&null!==this.headers.authorization)throw new t(t.INVALID_PARAMS,\"Must not send auth token over unsecured connection\");if(this._preCallback&&this._preCallback(this),(this._preferFetch||\"stream\"===o)&&\"function\"==typeof this._fetch)return this._xhr.responseType=this.responseType,this._promise=new Promise(((e,t)=>{this._resolve=e,this._fetchWithTimeout(this.href,{body:[\"GET\",\"HEAD\"].includes(this.method.toUpperCase())?void 0:i,credentials:n.withCredentials?\"include\":void 0,headers:a,method:this.method,timeout:this._timeout}).then((e=>{this._fetchResponse=e,this._finalize()})).catch((e=>{t(e)})),this._sent=!0})),this._promise;this._xhr.open(this.method,this.href,!0),this._xhr.responseType=this.responseType;for(const[e,t]of Object.entries(a))this._xhr.setRequestHeader(e,t);return null!=n.withCredentials&&(this._xhr.withCredentials=n.withCredentials),this.inactivityTimer(),null!=i?this._xhr.send(i):this._xhr.send(),this._sent=!0,this._promise}abort(){if(k(\"abort()\"),!this._sent)throw new Error(\"Cannot abort before sending.\");this._isFetchRequest?this._fetchAbort():this._xhr.abort()}timedOut(){if(k(\"timedOut()\"),!this._sent)throw new Error(\"Cannot timed out before sending.\");this._isFetchRequest||(this._xhr.abort(),this._errorCode=S.TIMEOUT,this._finalize())}getResponseHeader(e){if(!this._sent)throw new Error(\"Cannot getResponseHeader before sending.\");const t=e.toLowerCase(),s=this.getAllResponseHeaders();if(t in s)return s[t]}getAllResponseHeaders(){var e,t;if(!this._sent)throw new Error(\"Cannot getAllResponseHeaders before sending.\");if(this._parsedResponseHeaders)return this._parsedResponseHeaders;const s=this._isFetchRequest?l(null!==(t=null===(e=this._fetchResponse)||void 0===e?void 0:e.headers.entries())&&void 0!==t?t:[]):this._xhr.getAllResponseHeaders();return this._parsedResponseHeaders=\"string\"==typeof s?_(s):c(s),this._parsedResponseHeaders}isError(){if(!this._sent)throw new Error(\"Cannot check isError before sending.\");return this._errorCode!==S.NO_ERROR}isAborted(){if(!this._sent)throw new Error(\"Cannot check isAborted before sending.\");return this._errorCode===S.ABORTED}isTimedOut(){if(!this._sent)throw new Error(\"Cannot check isTimedOut before sending.\");return this._errorCode===S.TIMEOUT}isSent(){return this._sent}getErrorCode(){return this._errorCode}getStatus(){if(!this._sent)throw new Error(\"Cannot getStatus before sending.\");return this._fetchResponse?this._fetchResponse.status:this._xhr.status}getResponse(){var e;if(!this._sent)throw new Error(\"Cannot getResponse before sending.\");return this._response||(this._response={statusCode:this.getStatus(),headers:this.getAllResponseHeaders(),responseType:this._autoParsedResponse?\"json\":this.responseType,response:this.getResponseData(),message:this._isFetchRequest?(null===(e=this._fetchResponse)||void 0===e?void 0:e.statusText)||\"\":this._xhr.statusText,xhr:this},this._autoParsedResponse&&(this._response.originalResponseData=this._xhr.response)),this._response}toJSON(){return{statusCode:this.getStatus(),headers:this.getAllResponseHeaders(),responseType:this._autoParsedResponse?\"json\":this.responseType,response:this.getResponseData(),message:this._xhr.statusText}}getResponseDataAsJSON(){return O(this,void 0,void 0,(function*(){try{if(this._fetchResponse)return yield this._fetchResponse.json();if(this._autoParsedResponse)return this._autoParsedResponse;if(\"json\"===this._xhr.responseType){if(\"string\"==typeof this._xhr.response)return JSON.parse(this._xhr.response);if(null===this.xhr.response&&[\"application/problem+json\",\"application/json\"].includes(this.xhr.getResponseHeader(\"content-type\")))throw new e(e.UNEXPECTED,\"Unexpected response type\");return this.xhr.response}let t=this._xhr.response;if(\"text\"===this._xhr.responseType&&null!==this._xhr.responseText)t=this._xhr.responseText;else if(\"arraybuffer\"===this._xhr.responseType)t=p(this._xhr.response);else{if(\"blob\"===this._xhr.responseType&&(t instanceof Blob||f(t.text)))return JSON.parse(yield t.text());\"stream\"===this.responseType?yield new Promise(((s,i)=>{if(t=\"\",\"function\"==typeof this.xhr.response.on)return this.xhr.response.on(\"data\",(e=>{t+=e})),this.xhr.response.on(\"end\",s),void this.xhr.response.on(\"error\",i);if(\"string\"==typeof this.xhr.response)return s(t=this.xhr.response);throw new e(e.UNEXPECTED,\"Unexpected response type\")})):t=this._xhr.responseText?this._xhr.responseText:t}return\"string\"==typeof t?JSON.parse(t):t}catch(t){throw new e(e.INVALID_JSON,\"Could not parse response as JSON\",t,this.toJSON())}}))}getResponseData(){if(!this._sent)throw new Error(\"Cannot getResponseData before sending.\");return this._isFetchRequest&&this._fetchBodyAsResponseType?this._fetchBodyAsResponseType:this._autoParsedResponse||this._xhr.response}onProgress(e){const t=this._progressListeners.push(e)-1;return()=>{try{delete this._progressListeners[t]}catch(e){}}}_notifyProgressListeners(e,t,s){this._progressListeners.map((i=>i&&i.call&&i.call(null,e,t,s)))}}const L=r(\"dcx:http:backoff\");function I(t,i,r,n={},h,a={},u=!1){const{disableRetry:d=!1,retryNetworkError:c=!0,responseType:l=\"text\",authCallback:_=null,progressListeners:p=[],initialWait:f=2e3,maxWait:v=32e3,preCallback:T,postCallback:b,preScheduleCallback:A,postScheduleCallback:w,preferRetryAfterHeader:P=!0,pollCodes:x=[],pollHeader:E,pollMethod:C=\"get\",problemWithCode:k={problemType:\"\",code:null,url:\"\"},modifyHeadersCallback:q=null}=a;let{retryCodes:I=[],timeoutAfter:D=72e3}=a;I=u?[...x,...I]:d||g(r)?[]:a.retryCodes||y,L(\"retry codes\",I);const B=a.increase||((e,t,s)=>1===e?s:t*t>v?v:t*t);let H=0,j=0,U=!1;const F=m();let M,V,J,Q,W=m(),z=0,K=!1,X=!1;const $=[];let G;function Y(){L(\"getSnapshot()\",U,H,m(),W,z);const e=U||null!=M?0:H-(m()-W);let t=z;t+=U?m()-W:0;const s=(M||m())-F;return{count:j,canceled:K,timedOut:X,requests:$,duration:s,totalWaited:t,requestPending:U,waitingFor:e}}function Z(){const e=B(j,H,f);return Math.min(e,v)}function ee(e){if(e)return t=>e(t,Y())}function te(e){const t=e.getResponseHeader(\"retry-after\");if(P&&t){if(isNaN(t)){const e=Date.parse(t)-Date.now();return L(\"nextWait from retry-after\",e),e<0?Z():e}return 1e3*parseInt(e.getResponseHeader(\"retry-after\"))}}function se(d=H){return O(this,void 0,void 0,(function*(){if(z>=D)return L(\"timed out\",z,D),X=!0,V(Q);W=m(),A&&(yield A(Y())),L(\"retry in \",d),G=setTimeout((()=>{var f;try{L(\"retry start\"),o(`Request: ${i.toUpperCase()} ${t} ${null!==(f=null==n?void 0:n[\"x-request-id\"])&&void 0!==f?f:\"\"}`),U=!0,z+=d,Q=new N(Object.assign(Object.assign({},a),{timeout:h,preCallback:ee(T),postCallback:ee(b)})),$.push(Q),j++;for(const e of p)Q.onProgress(e);Q.send(t,i,r,n,l).then((h=>O(this,void 0,void 0,(function*(){var a,d,l;if(o(`Response: ${i.toUpperCase()} ${t} ${null===(a=h.headers)||void 0===a?void 0:a[\"x-request-id\"]} ${h.getStatus()}`),U=!1,!h.isError()&&!R(h.getStatus(),I)&&(401!==h.getStatus()||null==_)&&(\"string\"!=typeof E||null==x||!R(h.getStatus(),x))||(null==k?void 0:k.code)===h.getStatus()&&h.getResponseData()&&(null==k?void 0:k.problemType)!==(null===(d=yield h.getResponseDataAsJSON())||void 0===d?void 0:d.type))return M=m(),V(h);if(h.isAborted()||K)return M=m(),K=!0,V(h);if(!u&&\"string\"==typeof E&&null!=x&&R(h.getStatus(),x)){const e=h.getResponseHeader(E.toLowerCase()),s=k.url,o=s&&k.code===h.getStatus()&&k.problemType===(null===(l=h.getResponseData())||void 0===l?void 0:l.type);if(e||o){u=!0,t=o?s:e,i=C,r=void 0,q&&(n=q(n)),I=[...I,...x],z=0,D*=3;const a=h.getResponseHeader(\"retry-after\");if(P&&a){const e=te(h);if(null!=e)return H=e,se(H)}return se(0)}}if(401===h.getStatus()){if(_){try{n=yield _(t,n)}catch(t){return J(new e(e.UNAUTHORIZED,\"Authentication Failed\",h))}return z+=m()-W,se(0)}return M=m(),J(new e(e.UNAUTHORIZED,\"Authentication Failed\",h))}if(R(h.getStatus(),I)||c&&h.getErrorCode()===s.NETWORK_ERROR){const e=h.getResponseHeader(\"retry-after\");if(P&&e){const e=te(h);if(null!=e)return H=e,se(H)}return H=Z(),se(H)}return M=m(),V(h)})))).catch((e=>{J(e)}))}catch(e){J(e)}}),d),w&&(yield w(Y()))}))}const ie=new Promise(((e,t)=>{V=e,J=t,se(0)}));return{getPromise:()=>ie,cancel:function(){L(\"cancel()\"),K=!0,null!=Q&&Q.abort(),U||(L(\"abort\"),clearTimeout(G),V({getErrorCode:()=>S.ABORTED}))},onProgress:function(e){if(!p.includes(e))return p.push(e),null!=Q?Q.onProgress&&Q.onProgress(e):void 0},getSnapshot:Y}}class D{constructor(e,t,s,i,r=\"text\",o,n,h={}){const{descriptor:a}=h;delete h.descriptor;const{cancel:u,getPromise:d,onProgress:c,getSnapshot:l}=I(e,t,s,i,h.timeout,Object.assign(Object.assign(Object.assign(Object.assign({},h),{responseType:r,authCallback:n}),h.retryOptions),{descriptor:a,forceXhr:h.forceXhr,autoParseJson:h.autoParseJson}));this.onProgress=c,\"function\"==typeof o&&c(((e,t)=>o(\"progress\",{total:t,sentOrReceived:e}))),this._cancel=u,this._promise=d(),this._getSnapshot=l}getSnapshot(){return this._getSnapshot()}getPromise(){return this._promise}cancel(e){this._cancel(e)}}const B=r(\"dcx:http:req\");class H{constructor(t){var s;if(this._pausable=!1,this._listeners={progress:[],cancel:[]},this._isStatusValid=t.isStatusValid||i,this._isExternalRequest=t.isExternalRequest,this._authProvider=t.authProvider,this._id=t.id,this._descriptor=t.descriptor,t.descriptor&&t.descriptor.progress){const e=t.descriptor.progress;this.on(\"progress\",(({sentOrReceived:t,total:s})=>{e.call(void 0,t,s)}))}const r=this._authProvider.applyAuthHeaders(t.url,c(t.headers||{}));this._isExternalRequest&&H._internalOnlyHeaders.forEach((e=>delete r[e])),this._networkRequest=new D(t.url,t.method,t.body,r,t.responseType,(null===(s=t.descriptor)||void 0===s?void 0:s.progress)?this._emit.bind(this):void 0,this._getAuthCb(),t),this._promise=this._networkRequest.getPromise().then((s=>{const i=s.getErrorCode(),r=i||this._isStatusValid(s.getStatus(),s.getResponse());if(i||!0!==r){if(i===S.ABORTED)throw new e(e.ABORTED,\"Aborted\");if(i===S.NETWORK)throw new e(e.NETWORK_ERROR,\"Network error\",void 0,s.getResponse());if(i===S.TIMEOUT)throw new e(e.TIMED_OUT,\"Timeout\",void 0,s.getResponse());if(r instanceof e||r instanceof Error)throw new e(r.code||e.UNEXPECTED_RESPONSE,r._message||r.message,r.underlyingError,s.getResponse());throw new e(e.UNEXPECTED_RESPONSE,\"Unexpected response\",void 0,s.getResponse())}const o=this._networkRequest.getSnapshot().requests;return B(\"resolve\",t.id),Object.assign(Object.assign({},s.getResponse()),{xhr:o[o.length-1]})})).catch((e=>{throw B(\"reject\",t.id),e}))}get id(){return this._id}get descriptor(){return this._descriptor}_getAuthCb(){if(!this._authProvider.isNoAuthMode)return this._authCb.bind(this)}_authCb(t,s){return B(\"_authCb()\"),this._authProvider.isAuthorizedURL(t)?this._authProvider.refreshAuth().then((()=>this._authProvider.applyAuthHeaders(t,s))):Promise.reject(new e(e.UNAUTHORIZED,\"URL is not part of authenticationAllowList.\",void 0,void 0,{url:t}))}_emit(e,t){this._listeners[e].map((e=>e.call(null,t)))}getPromise(){return this._promise}cancel(e){return this._networkRequest.cancel(e)}on(e,t){var s;\"progress\"===e&&0===this._listeners[e].length&&(null===(s=this._networkRequest)||void 0===s||s.onProgress(((t,s)=>this._emit(e,{total:s,sentOrReceived:t})))),this._listeners[e].push(t)}}H._internalOnlyHeaders=[\"x-request-id\",\"x-api-key\",\"authorization\"];const j=e=>new H(e),U=r(\"dcx:http:map\");class F{constructor(){this._map=new Map}addRequest(e,t){return U(\"addRequest()\",e),this._map.set(e,t),t.getPromise().then((t=>{U(\"then\",e),this._map.delete(e)})).catch((t=>{U(\"catch\",e,t),this._map.delete(e)})),e}get(e){return this._map.get(e)}get length(){return this._map.size}has(e){return this._map.has(e)}removeById(e){const t=this._map.get(e);t&&this.remove(t)}remove(e,t){return e&&e.cancel&&e.cancel(t)}clear(e){this._map.forEach((t=>{this.remove(t,e)})),this._map.clear()}removeAllWithToken(e){this._map.forEach((t=>{t.descriptor.token===e&&this.remove(t)}))}}const M=r(\"dcx:http:q\"),V=e=>\"head\"===e.method.toLowerCase();class J{constructor(){this._queue=[],this._later={},this._headEndPtr=0,this._isPriority=V,this._usePriority=!1}push(e,t,s){return O(this,void 0,void 0,(function*(){let i;const r=new Promise((e=>{i=e}));if(\"number\"!=typeof t||t<=0){const t={descriptor:e,notifySent:e=>i(e),notifyCanceled:this._notifyCanceled(i)};return this._push(t),r}const{id:o}=e,n=setTimeout((()=>{this._ready(o)}),t),h=e=>i(e);return this._later[o]={readyTimeout:n,wait:t,descriptor:e,notifySent:h,notifyCanceled:this._notifyCanceled(i),notifyReady:()=>{s&&s.call(null,{wait:t,descriptor:e,notifySent:h})}},r}))}_notifyCanceled(e){return t=>{if(!t)return e({canceled:!0});e({canceled:!0,error:t})}}_push(e){this._usePriority&&this._isPriority(e.descriptor)?this._queue.splice(this._headEndPtr++,0,e):this._queue.push(e)}remove(e){if(e.id in this._later)return M(\"remove from later\",e.id),this._remove(e.id);const t=this._indexOf(e);return M(\"remove from q\",t),t>=0?this._remove(t):void 0}_remove(e,t){if(M(\"_remove\",e),\"string\"==typeof e){const s=this._later[e];return s.notifyCanceled.call(null,t),s.readyTimeout&&clearTimeout(s.readyTimeout),void delete this._later[e]}this._queue[e].notifyCanceled.call(null,t),this._queue.splice(e,1),e<this._headEndPtr&&this._headEndPtr--}_indexOf(e){const t=!!e.method,s=t&&this._usePriority&&this._isPriority(e),i=s?this._headEndPtr:this._queue.length,r=s||!t?0:this._headEndPtr;for(let t=r;t<r+i;t++)if(e.id===this._queue[t].descriptor.id)return t;return-1}exists(e){return e.id in this._later||this._indexOf(e)>=0}_ready(e){const t=this._later[e],s=t.notifyReady;delete this._later[e],delete t.notifyReady,delete t.readyTimeout,delete t.wait,this._push(t),\"function\"==typeof s&&s.call(null)}pop(){const e=this._queue.shift();return this._headEndPtr>0&&this._headEndPtr--,e}get length(){return M(\"length: \",this._queue.length,Object.keys(this._later).length),this._queue.length+Object.keys(this._later).length}clear(e){for(let t=this._queue.length-1;t>=0;t--)this._remove(t,e);this._queue=[];const t=Object.keys(this._later);for(const s in t){const i=t[s];this._remove(i,e)}this._later={}}removeAllWithToken(e){for(let t=this._queue.length-1;t>=0;t--)this._queue[t].descriptor.token===e&&this._remove(t);const t=Object.keys(this._later);for(const s in t){const i=t[s];this._later[i].descriptor.token===e&&this._remove(i)}}}const Q=r(\"dcx:http:service\"),W=3e5;class z{constructor(e,t={}){this.name=\"AdobeHTTPService\",this._requestQueue=new J,this._requestsOutstanding=new F,this._authProvider=void 0,this._isActive=!0,this._preferFetch=!1,this._handlesRedirects=!0,this._withCredentials=!1,this._additionalNodeOptions={},this._retryOptions={},this._serviceGuid=v(),this._reqNum=0,this.featureFlags={},e instanceof x||T(e)&&f(e.onChange)?this._authProvider=e:f(e)&&(t.useAuthProvider?(this._authProvider=new x(void 0,void 0,e),this._waitingForAuthentication=!0):(this._authProvider=new x(void 0,void 0,(()=>e.call(null,this))),this._waitingForAuthentication=!0)),this._authProvider?this._authProvider.onChange(this._onAuthChange.bind(this)):(this._authProvider=new x,this._authProvider.resume()),this._maxOutstanding=t.maxOutstanding||5,this._withCredentials=t.crossOriginCredentials||!1,this._timeout=null==t.timeout?E:t.timeout,this._preferFetch=!0===t.preferFetch,this._requestIdPrefix=t.requestIdPrefix,t.server&&(this.server=t.server)}get isActive(){return this._isActive}set isActive(e){this._isActive!==e&&(this._isActive=e,e||this._authProvider.logout(),this._checkQueue())}get crossOriginCredentials(){return this._withCredentials}set crossOriginCredentials(e){this._withCredentials=e}get maxOutstanding(){return this._maxOutstanding}set maxOutstanding(e){this._maxOutstanding=e,this._checkQueue()}get handlesRedirects(){return this._handlesRedirects}get server(){return this._server}set server(e){this._server=e&&e.endsWith(\"/\")?e.substr(0,e.length-1):e}_forceXhr(e,t=!1){this._forcedXhr=e,this._handlesRedirects=!t}_useFetchApi(e){this._fetch=e}setAdditionalHeaders(e){this._additionalHeaders=e||{}}setValidateStatus(e){this._isStatusValid=e}setAdditionalNodeOptions(e){this._additionalNodeOptions=e,b()&&e&&0===e.maxRedirects&&(this._handlesRedirects=!1)}setRetryOptions(e){this._retryOptions=e}set authenticationAllowList(e){this._authProvider.authenticationAllowList=e}get authenticationAllowList(){return this._authProvider.authenticationAllowList}get authProvider(){return this._authProvider}setApiKey(e){this._authProvider.setApiKey(e)}setTimeout(e){this._timeout=e}setAuthToken(e){e?this._authProvider.setAuthToken(e):this._authProvider.logout()}_onAuthChange(e,t){Q(\"_oAC\",e);const s=this._waitingForAuthentication;\"unauthenticated\"===e?this._waitingForAuthentication=!0:(this._waitingForAuthentication=!1,!1!==s&&this._checkQueue())}resume(){this._waitingForAuthentication=!1,this._authProvider.resume(),this._checkQueue()}setRequestHooks(e,t){this._beforeHook=e,this._afterHook=t}invoke(t=\"GET\",s,i={},r,o={},h){var a;Q(\"invoke\",t,s,o);let u=(o=o||{}).autoParseJson||!1,d=o.responseType;if(null!=d&&\"void\"!==d||(u=null==o.autoParseJson||o.autoParseJson,d=o.responseType=\"text\"),\"defaultbuffer\"===d&&(d=b()?o.responseType=\"buffer\":o.responseType=\"arraybuffer\"),\"buffer\"===d){if(\"function\"!=typeof Buffer)throw new e(e.INVALID_PARAMS,\"No Buffer class\")}else if(\"blob\"===d){if(\"function\"!=typeof Blob)throw new e(e.INVALID_PARAMS,\"No Blob class\")}else if(d&&\"text\"!==d&&\"json\"!==d&&\"arraybuffer\"!==d&&\"stream\"!==d)throw new e(e.INVALID_PARAMS,\"Unsupported response type: \"+d);!A(s)&&this.server&&(s=`${this.server}/${s.startsWith(\"/\")?s.substr(1,s.length):s}`),Q(\"invoke href\",s);const c=w({},i,this._additionalHeaders);Q(\"invoke headers\",i),c[\"x-request-id\"]=[this._requestIdPrefix,this._serviceGuid,c[\"x-request-id\"],\"\"+this._reqNum++].filter((e=>e)).join(\".\"),o.additionalNodeOptions=Object.assign({},this._additionalNodeOptions||{},o.additionalNodeOptions||{}),o.isStatusValid=o.isStatusValid||this._isStatusValid,o.retryOptions=Object.assign({},this._retryOptions||{},o.retryOptions||{});let l={method:t,href:s,headers:c,token:void 0,body:r,options:o,progress:null===(a=o.reuseRequestDesc)||void 0===a?void 0:a.progress,autoParseJson:u},_=o.reuseRequestDesc;_&&_ instanceof n&&\"props\"in _&&(_=_.props),_&&((this._requestQueue.exists(_)||_.id&&null!=this._requestsOutstanding.get(_.id))&&Q(\"requestDesc still in use\"),l=w(_,l)),l.id=l.id||v(),h&&(\"maxRedirects\"in o.additionalNodeOptions&&(o.additionalNodeOptions.maxRedirects=0),o.retryOptions&&0!==Object.keys(o.retryOptions).length||(o.retryOptions={disableRetry:!0}));const p=this._getRequestPromise(l);return p.getPromise().then(this._checkQueue.bind(this)).catch(this._checkQueue.bind(this)),f(h)&&(Q(\"invoke - cb\"),p.then((e=>{Q(\"invoke - cb - resolve \",e.statusCode);try{h(void 0,e,e.response)}catch(e){console.error(\"[dcx:http] error in success callback\",e,e.stack)}})).catch((e=>{Q(\"invoke - cb - reject: \",e);try{h(e,e.response)}catch(e){console.error(\"[dcx:http] error in failure callback\",e,e.stack)}}))),this._checkQueue(),p}_makeRequest(e){Q(\"_makeRequest(): \",e.id);const t=e.options||{},s=j(u(Object.assign(Object.assign({url:e.href,autoParseJson:e.autoParseJson,descriptor:e},e),{timeout:t.timeout||this._timeout,authProvider:this._authProvider,forceXhr:this._forcedXhr,fetch:this._fetch,responseType:t.responseType,preCallback:this._beforeHook,postCallback:this._afterHook,isStatusValid:t.isStatusValid,additionalNodeOptions:t.additionalNodeOptions,retryOptions:t.retryOptions,isExternalRequest:t.isExternalRequest,preferFetch:this._preferFetch})));return this._requestsOutstanding.addRequest(e.id,s),e.startTime=(new Date).valueOf(),s}_checkQueue(){queueMicrotask(this._checkQueueLoop.bind(this))}_checkQueueLoop(){if(Q(\"_checkQueueLoop()\",this._waitingForAuthentication,this.isActive,this._requestsOutstanding.length,\"<?\",this.maxOutstanding),!this._isActive){Q(\"_cQL inactive\");const t=new e(e.SERVICE_IS_INACTIVE,\"Network request in inactive state\");this._requestsOutstanding.clear(t),this._requestQueue.clear(t)}let t=!0;for(;t&&!this._waitingForAuthentication&&this._requestsOutstanding.length<this.maxOutstanding&&(t=this._requestQueue.pop(),null!=t);){const e=this._makeRequest(t.descriptor);t.notifySent(e)}Q(\"_cQL done\")}_getRequestPromise(t){return Q(\"_getRequestPromise()\"),new n(((s,i,r)=>{if(!this._isActive)return Q(\"_gRP inactive\"),i(new e(e.SERVICE_IS_INACTIVE,\"Network request in inactive state\"));r((()=>{Q(\"_gRP cancel 1\",t.id),this._requestQueue.remove(t)}));let o=t.noSoonerThen||null;return o&&(o-=m(),o=o<0?0:o>W?W:o),delete t.noSoonerThen,this._requestQueue.push(t,o,this._checkQueue.bind(this)).then((o=>(Q(\"_gRP sent\",t.id),o.canceled?(Q(\"_gRP reject 1: \",t.id),i(new e(e.ABORTED,\"Request aborted\",o.error))):(r((s=>{Q(\"_gRP cancel 2\",t.id,s),o.cancel(new e(e.ABORTED,\"Request aborted\",s))})),o.getPromise().then((e=>(Q(\"_gRP resolve 1\",t.id,e),s(e)))).catch((e=>(Q(\"_gRP reject 2: \",t.id,e),i(e)))))))).catch(i)}),t)}abort(e){e&&e.cancel?e.cancel():this._requestQueue.exists(e)?this._requestQueue.remove(e):this._requestsOutstanding.removeById(e.id)}abortAllWithToken(e){Q(\"abortAllWithToken()\"),this._requestsOutstanding.removeAllWithToken(e),this._requestQueue.removeAllWithToken(e)}}const K=z,X=(e,t)=>new z(e,t||{});export{K as AdobeNetworkHTTPService,x as AuthProvider,z as HTTPService,N as Xhr,S as XhrErrorCodes,X as createHTTPService};\n//# sourceMappingURL=index.js.map\n","import { UPLOAD_EVENTS } from \"./consts\";\nimport { UploadEventStatusPayload } from \"./types\";\n\n/**\n * Event dispatched when an upload is complete\n * The event is dispatched on the window object\n * so that it can be listened to by anyone\n */\nexport class UploadStatusEvent extends CustomEvent<UploadEventStatusPayload> {\n    static readonly EVENT_NAME = UPLOAD_EVENTS.UPLOAD_STATUS;\n    constructor(payload: UploadEventStatusPayload) {\n        super(UploadStatusEvent.EVENT_NAME, { bubbles: true, composed: true, detail: payload });\n    }\n}","import type { AdobeRepoAPISession } from '@dcx/repo-api-session';\nimport type { \n  AdobeAsset,\n  AdobeHTTPService,\n  UploadProgressCallback,\n  SliceableData,\n} from '@dcx/common-types';\nimport {\n  type UploadServiceConfig,\n  type UploadOptions,\n  type UploadResult,\n  type PreSignedUrlOptions,\n  type AuthConfig,\n  UploadStatus,\n} from '../types';\nimport { createRepoAPISession } from '@dcx/repo-api-session';\nimport { getPresignedUrl, RepoResponseResult, RepositoryLinksCache } from '@dcx/assets';\nimport { DEFAULT_STORAGE_PATH, ERROR_CODES } from '../consts';\nimport { createHTTPService } from '@dcx/http';\nimport { UploadStatusEvent } from '../events';\n\n/**\n * Service for uploading assets to Adobe Content Platform Storage\n * Supports both guest token and normal access token authentication\n */\nexport class UploadService {\n  private session: AdobeRepoAPISession;\n  private config: UploadServiceConfig;\n  private httpService: AdobeHTTPService;\n  private authConfig: AuthConfig;\n  private _uploadStatus: UploadStatus = UploadStatus.IDLE;\n  private _uploadBytesCompleted: boolean = false;\n\n  /**\n   * Create a new UploadService instance\n   * @param config - Configuration for the upload service\n   */\n  constructor(config: UploadServiceConfig) {\n    this.config = config;\n    this.httpService = createHTTPService();\n    this.authConfig = config.authConfig;\n    this.session = this.prepareSession();\n  }\n\n  /**\n   * Get the current upload status\n   * @returns The current upload status\n   */\n  get uploadStatus(): UploadStatus {\n    return this._uploadStatus;\n  }\n\n  /**\n   * Set the upload status\n   * @param status - The status to set\n   */\n  set uploadStatus(status: UploadStatus) {\n    this._uploadStatus = status;\n    this.dispatchStatusEvent(status);\n  }\n\n  /**\n   * Upload an asset to storage\n   * @param options - Upload options including file, path, and metadata\n   * @returns Promise resolving to upload result\n   */\n  async uploadAsset(options: UploadOptions): Promise<UploadResult> {\n    try {\n      const {\n        file,\n        fileName,\n        contentType,\n        path = DEFAULT_STORAGE_PATH,\n        createIntermediates,\n        onProgress = this.getUploadProgress(),\n        additionalHeaders = {},\n        repoMetaPatch,\n        resourceDesignator\n      } = options;\n\n      const fileData = this.convertToSliceableData(file);\n      const fileSize = this.getFileSize(file);\n      const fullPath = this.buildPath(path, this.generateFileName(fileName));\n\n      let result: RepoResponseResult<AdobeAsset>;\n      let preSignedUrl: string | undefined;\n      switch (this.authConfig.tokenType) {\n        case 'guest': {\n          result = await this.session.createAssetForGuest(\n            fullPath,\n            contentType,\n            resourceDesignator,\n            additionalHeaders,\n            fileData,\n            fileSize,\n            repoMetaPatch,\n            onProgress\n          );\n          preSignedUrl = await this.generatePreSignedUrl({ asset: result.result });\n          break;\n        }\n        case 'user':\n        default: {\n          if (!this.config.repositoryId) {\n            throw this.handleError(\n              ERROR_CODES.REPOSITORY_ID_REQUIRED.code,\n              new Error(ERROR_CODES.REPOSITORY_ID_REQUIRED.message)\n            );\n          }\n\n          const parentDir = await this.getOrCreateParentDirectory(path);\n          \n          result = await this.session.createAsset(\n            parentDir,\n            fileName,\n            createIntermediates || true,\n            contentType,\n            resourceDesignator,\n            additionalHeaders,\n            fileData,\n            fileSize,\n            repoMetaPatch\n          );\n          }\n        }\n\n      if(this._uploadBytesCompleted) {\n        this.uploadStatus = UploadStatus.COMPLETED;\n      }\n      \n      const asset = result.result;\n      return {\n        asset,\n        readablePreSignedUrl: preSignedUrl,\n        shareablePreSignedUrl: this.generateShareablePreSignedUrl(preSignedUrl)\n      };\n\n    } catch (error) {\n      throw this.handleError(\n        ERROR_CODES.UPLOAD_FAILED.code,\n        error\n      );\n    }\n  }\n\n  /**\n   * Generate a pre-signed URL for downloading an asset\n   * @param options - Options for URL generation\n   * @returns Promise resolving to pre-signed URL result\n   */\n  async generatePreSignedUrl(options: PreSignedUrlOptions): Promise<string> {\n    try {\n      const {\n        asset\n      } = options;\n\n      const { result: url } = await getPresignedUrl(this.httpService, asset);\n\n      return url;\n\n    } catch (error) {\n      throw this.handleError(\n        ERROR_CODES.URL_GENERATION_FAILED.code,\n        error\n      );\n    }\n  }\n\n  /**\n   * Generate a shareable pre-signed URL by base64 encoding the URL\n   * This is useful for passing the URL via URL params\n   * @param url - The pre-signed URL to share\n   * @returns The shareable pre-signed URL\n   */\n  private generateShareablePreSignedUrl(url: string | undefined): string {\n    if (!url) {\n      return '';\n    }\n    return btoa(url);\n  }\n\n  /**\n   * Generate a unique file name for the uploaded file\n   * @param fileName - The original file name\n   * @returns The unique file name\n   */\n  private generateFileName(fileName: string): string {\n    const [name, extension] = fileName.split('.');\n    const timestamp = Date.now();\n    return `${name}-${timestamp}.${extension}`;\n  }\n\n  /**\n   * Dispatch a status event\n   * @param status - The status to dispatch\n   */\n  private dispatchStatusEvent(status: UploadStatus): void {\n    window.dispatchEvent(new UploadStatusEvent({ status }));\n  }\n\n  /**\n   * Get upload progress for an ongoing upload\n   * @returns Promise resolving to upload progress information\n   */\n  getUploadProgress(): UploadProgressCallback {\n    return (bytesCompleted, totalBytes) => {\n      if(bytesCompleted === totalBytes) {\n        this._uploadBytesCompleted = true;\n      }\n      this.uploadStatus = UploadStatus.UPLOADING;\n    };\n  }\n\n  /**\n   * Prepare the RAPI session for the upload service.\n   */\n  private prepareSession(): AdobeRepoAPISession {\n    this.httpService.setAuthToken(this.authConfig.token);\n    this.httpService.setApiKey(this.authConfig.apiKey);\n    const session = createRepoAPISession(this.httpService, this.config.endpoint);\n    session.setLinksCache(new RepositoryLinksCache());\n    return session;\n  }\n\n  /**\n   * Convert a file to a sliceable data object\n   * @param file - The file to convert\n   * @returns The sliceable data object\n   */\n  private convertToSliceableData(file: File | Blob | ArrayBuffer): SliceableData {\n    if (file instanceof ArrayBuffer) {\n      return new Uint8Array(file);\n    }\n    return file as SliceableData;\n  }\n\n  /**\n   * Get the size of a file\n   * @param file - The file to get the size of\n   * @returns The size of the file\n   */\n  private getFileSize(file: File | Blob | ArrayBuffer): number {\n    if (file instanceof ArrayBuffer) {\n      return file.byteLength;\n    }\n    if ('size' in file) {\n      return file.size;\n    }\n    return 0;\n  }\n\n  /**\n   * Build a path for an asset for uploading.\n   * @param path - The path to the asset\n   * @param fileName - The name of the asset\n   * @returns The full path to the asset\n   */\n  private buildPath(path: string, fileName: string): string {\n    const basePath = this.config.basePath || '';\n    const fullPath = [basePath, path, fileName]\n      .filter(Boolean)\n      .join('/')\n      .replace(/\\/+/g, '/');\n    \n    return fullPath.startsWith('/') ? fullPath.substring(1) : fullPath;\n  }\n\n  /**\n   * Get or create a parent directory for an asset\n   * @param path - The path to the asset\n   * @returns The parent directory asset\n   */\n  private async getOrCreateParentDirectory(path: string): Promise<AdobeAsset> {\n    if (!this.config.repositoryId) {\n      throw this.handleError(\n        ERROR_CODES.REPOSITORY_ID_REQUIRED_FOR_DIRECTORY.code,\n        new Error(ERROR_CODES.REPOSITORY_ID_REQUIRED_FOR_DIRECTORY.message)\n      );\n    }\n\n    const parentDir: AdobeAsset = {\n      repositoryId: this.config.repositoryId,\n      path: path || '/',\n      links: {}\n    };\n\n    return parentDir;\n  }\n\n  /**\n   * Handle an error\n   * @param code - The error code\n   * @param originalError - The original error\n   * @param message - The error message\n   * @returns The error\n   */\n  private handleError(code: keyof typeof ERROR_CODES, originalError?: any, message?: string): Error {\n    const errorCode = ERROR_CODES[code];\n\n    if(errorCode.code === ERROR_CODES.UPLOAD_FAILED.code) {\n      this.uploadStatus = UploadStatus.FAILED;\n    }\n\n    const errorMessage = message || errorCode.message;\n    const error = new (class extends Error {\n      constructor(\n        message: string,\n        public code: string,\n        public originalError?: Error\n      ) {\n        super(message);\n        this.name = 'UploadServiceError';\n      }\n    })(errorMessage, errorCode.code, originalError);\n\n    console.error(`UploadService Error [${errorCode.code}]:`, errorMessage, originalError);\n    \n    return error;\n  }\n\n  /**\n   * Update the service configuration\n   * @param newConfig - New configuration to apply\n   */\n  updateConfig(newConfig: Partial<UploadServiceConfig>): void {\n    this.config = { ...this.config, ...newConfig };\n    \n    if (newConfig.authConfig || newConfig.endpoint) {\n      this.session = this.prepareSession();\n    }\n  }\n\n  /**\n   * Get the current configuration\n   * @returns Current service configuration\n   */\n  getConfig(): UploadServiceConfig {\n    return { ...this.config };\n  }\n} ","import { type AuthConfig } from '../types';\nimport { UploadService } from './UploadService';\nimport { API_KEY, REPO_API_ENDPOINT } from '../consts';\n\nexport const initUploadService = () => {\n  const authConfig: AuthConfig = {\n    tokenType: window?.adobeIMS?.isSignedInUser() ? 'user' : 'guest',\n    token: window?.adobeIMS?.getAccessToken() || window?.tempAccessToken,\n    apiKey: API_KEY\n  };\n\n  return new UploadService({\n    authConfig,\n    endpoint: REPO_API_ENDPOINT\n  });\n};"],"names":["UploadStatus","e","E","o","t$2","t","O","_","s","T","r","N","d","n","a","i","c","l","p","y","w","v","x","S","P","I","$","W","z","B","J","H","Z","G","X","Y","K","Q","ee","te","re","oe","se","ie","ce","ae","le","fe","he","pe","de","me","u","f","h","g","Ae","ve","_e","Ce","Oe","Se","Pe","Le$1","Ne","Ue","De","Re","Fe","Me","Te","Ve","We","ze","Be","Je","st","it","lt","ft","ht","pt","dt","gt","yt","mt","bt","wt","At","vt","kt","xt","_t","jt","St","Pt","Ct","Ot","It","Nt","Et","$t","Lt","Ut","Dt","Rt","Ft","Tt","b","s$1","_globalThis","VERSION","_makeCompatibilityCheck","ownVersion","acceptedVersions","rejectedVersions","myVersionMatch","ownVersionParsed","globalVersion","_reject","_accept","globalVersionMatch","globalVersionParsed","isCompatible","major","GLOBAL_OPENTELEMETRY_API_KEY","_global","registerGlobal","type","instance","diag","allowOverride","_a","api","err","getGlobal","_b","unregisterGlobal","__read","m","ar","error","__spreadArray","to","from","pack","DiagComponentLogger","props","args","_i","logProxy","funcName","namespace","logger","DiagLogLevel","createLogLevelDiagLogger","maxLevel","_filterFunc","theLevel","theFunc","API_NAME","DiagAPI","_logProxy","self","setLogger","optionsOrLogLevel","_c","oldLogger","newLogger","stack","options","__values","BaggageImpl","entries","key","entry","k","newBaggage","e_1","keys","keys_1","keys_1_1","e_1_1","createBaggage","createContextKey","description","BaseContext","parentContext","value","context","ROOT_CONTEXT","__extends","extendStatics","__","NoopMeter","_name","_options","NOOP_GAUGE_METRIC","NOOP_HISTOGRAM_METRIC","NOOP_COUNTER_METRIC","NOOP_UP_DOWN_COUNTER_METRIC","NOOP_OBSERVABLE_GAUGE_METRIC","NOOP_OBSERVABLE_COUNTER_METRIC","NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC","_callback","_observables","NoopMetric","NoopCounterMetric","_super","_value","_attributes","NoopUpDownCounterMetric","NoopGaugeMetric","NoopHistogramMetric","NoopObservableMetric","NoopObservableCounterMetric","NoopObservableGaugeMetric","NoopObservableUpDownCounterMetric","NOOP_METER","defaultTextMapGetter","carrier","defaultTextMapSetter","NoopContextManager","_context","fn","thisArg","target","NOOP_CONTEXT_MANAGER","ContextAPI","contextManager","TraceFlags","INVALID_SPANID","INVALID_TRACEID","INVALID_SPAN_CONTEXT","NonRecordingSpan","_spanContext","_key","_link","_links","_status","_endTime","_exception","_time","SPAN_KEY","getSpan","getActiveSpan","setSpan","span","deleteSpan","setSpanContext","spanContext","getSpanContext","VALID_TRACEID_REGEX","VALID_SPANID_REGEX","isValidTraceId","traceId","isValidSpanId","spanId","isSpanContextValid","wrapSpanContext","contextApi","NoopTracer","name","root","parentFromContext","isSpanContext","arg2","arg3","arg4","opts","ctx","contextWithSpanSet","NOOP_TRACER","ProxyTracer","_provider","version","_fn","tracer","NoopTracerProvider","_version","NOOP_TRACER_PROVIDER","ProxyTracerProvider","delegate","SpanStatusCode","NoopMeterProvider","NOOP_METER_PROVIDER","MetricsAPI","provider","metrics","NoopTextMapPropagator","_carrier","BAGGAGE_KEY","getBaggage","getActiveBaggage","setBaggage","baggage","deleteBaggage","NOOP_TEXT_MAP_PROPAGATOR","PropagationAPI","propagator","setter","getter","propagation","TraceAPI","success","trace","q","ne","ue","Ee","Ie","ge","ye","be","Le","we","je","xe","He","Ge","Ye","$e","Ke","qe","Ze","Xe","Qe","et","tt","rt","nt","A","at","R","Mt","Bt","Vt","Ht","Gt","Yt","Wt","zt","D","Kt","qt","Zt","Xt","Jt","Qt","es","ss","ts","ns","C","rs","is","os","as","cs","L","ds","ls","us","ps","_s","Es","fs","M","Is","Ts","gs","zs","As","ys","Rs","vs","ms","Ps","Ss","Ds","ks","Ns","Cs","Ls","Ms","Bs","ws","Gs","js","Hs","xs","Us","Vs","Fs","Ws","Ks","Zs","Xs","Js","Qs","en","sn","nn","rn","on","cn","hn","un","pn","j","_n","U","En","In","Tn","An","yn","Rn","On","vn","mn","Pn","Dn","V","kn","Nn","Cn","Ln","Bn","jn","Un","Hn","Yn","Fn","zn","Wn","Kn","Zn","Jn","Xn","er","Qn","tr","sr","F","nr","rr","ir","or","cr","dr","lr","hr","ur","pr","Er","Ir","gr","Ar","yr","Rr","Or","vr","br","mr","Pr","Nr","Cr","Lr","Mr","Br","jr","xr","Ur","Hr","Yr","ke","REPO_API_ENDPOINT","API_KEY","DEFAULT_STORAGE_PATH","ERROR_CODES","UPLOAD_EVENTS","_UploadStatusEvent","payload","UploadStatusEvent","UploadService","config","createHTTPService","status","file","fileName","contentType","path","createIntermediates","onProgress","additionalHeaders","repoMetaPatch","resourceDesignator","fileData","fileSize","fullPath","result","preSignedUrl","parentDir","asset","url","getPresignedUrl","extension","timestamp","bytesCompleted","totalBytes","session","createRepoAPISession","RepositoryLinksCache","code","originalError","message","errorCode","errorMessage","newConfig","initUploadService","authConfig"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,46]}