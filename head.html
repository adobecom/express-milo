<!-- Modifying this file will impact your performance -->
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<script src="/express/code/scripts/fallback.js" nomodule></script>
<script src="/express/code/scripts/scripts.js" type="module"></script>
<style>
  /* Define fallback font with size-adjust to match Adobe Clean metrics */
  @font-face {
    font-family: 'Fallback Font';
    src: local('Arial'), local('Helvetica Neue'), local('sans-serif');
    size-adjust: 107.5%; /* Match Adobe Clean's x-height */
    ascent-override: 92%;
    descent-override: 24%;
    line-gap-override: 0%;
  }
  
  /* Force fallback font on LCP elements to ensure immediate rendering */
  main h1,
  main .grid-marquee p,
  main .section:first-of-type p {
    font-family: 'Fallback Font', adobe-clean, "Adobe Clean", sans-serif !important;
  }
  
  /* Keep body hidden initially (Milo default) */
  body { display: none; }
</style>
<script>
  // POC: Show body after Global Nav loads to prevent layout shift
  (function() {
    console.log('üîç POC: Body visibility script loaded');
    
    const showBodyWhenGnavReady = () => {
      console.log('üîç POC: Starting Global Nav detection');
      let attempts = 0;
      
      // Wait for Global Nav to be loaded
      const checkGnav = setInterval(() => {
        attempts++;
        const gnav = document.querySelector('header.global-navigation');
        const header = document.querySelector('header');
        
        // Debug logging
        if (attempts % 10 === 0) {
          console.log(`üîç POC: Attempt ${attempts}, header:`, !!header, 'gnav:', !!gnav);
        }
        
        // Check multiple possible selectors
        if (header || gnav) {
          clearInterval(checkGnav);
          // Global Nav is ready, show body
          document.body.style.display = 'block';
          document.body.style.visibility = 'visible';
          console.log('‚úÖ POC: Body visible after Global Nav loaded (attempts:', attempts, ')');
        }
      }, 50);
      
      // Fallback: show body after 2s even if Global Nav isn't detected
      setTimeout(() => {
        clearInterval(checkGnav);
        if (document.body.style.display === 'none') {
          document.body.style.display = 'block';
          document.body.style.visibility = 'visible';
          console.log('‚ö†Ô∏è POC: Body visible (timeout fallback after', attempts, 'attempts)');
        }
      }, 2000);
    };
    
    // Start checking as soon as DOM is interactive
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', showBodyWhenGnavReady);
    } else {
      showBodyWhenGnavReady();
    }
  })();
</script>
<link rel="icon" href="data:,">
